;/*FB_PKG_DELIM*/

__d("CometUFICommentTopReactionsWrapper_feedback.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometUFICommentTopReactionsWrapper_feedback",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,concreteType:"ReactorsOfContentConnection",kind:"LinkedField",name:"reactors",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"count",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"should_show_top_reactions",storageKey:null},{args:null,kind:"FragmentSpread",name:"CometUFICommentTopReactions_feedback"}],type:"Feedback",abstractKey:null};e.exports=a}),null);
__d("CometStarsIconUtils",["ix","fbicon"],(function(a,b,c,d,e,f,g,h){"use strict";function a(){return d("fbicon")._(h("657883"),16)}function b(){return h("1937973")}g.getStarsUFIIcon=a;g.getStarsFilledIcon=b}),98);
__d("DOMIntersection",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){a=a.getBoundingClientRect();b=b.getBoundingClientRect();return!(a.right<b.left||a.left>b.right||a.bottom<b.top||a.top>b.bottom)}f.isIntersecting=a}),66);
__d("queryThenMutateDOM",["ErrorUtils","Run","TimeSlice","emptyFunction","gkx","requestAnimationFrame"],(function(a,b,c,d,e,f){var g,h,i,j=[],k={};function l(a,c,d){if(!a&&!c)return{cancel:b("emptyFunction")};if(d&&Object.prototype.hasOwnProperty.call(k,d))return{cancel:b("emptyFunction")};else d&&(k[d]=1);c=b("TimeSlice").guard(c||b("emptyFunction"),"queryThenMutateDOM mutation callback",{propagationType:b("TimeSlice").PropagationType.CONTINUATION,registerCallStack:!0});a=b("TimeSlice").guard(a||b("emptyFunction"),"queryThenMutateDOM query callback",{propagationType:b("TimeSlice").PropagationType.CONTINUATION,registerCallStack:!0});var e={queryFunction:a,mutateFunction:c,output:null,deleted:!1};j.push(e);n();h||(h=!0,b("gkx")("20935")||b("Run").onLeave(function(){h=!1,i=!1,k={},j.length=0}));return{cancel:function(){e.deleted=!0,d&&delete k[d]}}}l.prepare=function(a,b,c){return function(){for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];e.unshift(this);var g=Function.prototype.bind.apply(a,e),h=b.bind(this);l(g,h,c)}};var m=b("TimeSlice").guard(function(){while(j.length){k={};var a=[];window.document.body.getClientRects();while(j.length){var b=j.shift();b.deleted||(b.output=o(b.queryFunction),a.push(b))}while(a.length){b=a.shift();b.deleted||o(b.mutateFunction,null,[b.output])}}i=!1},"queryThenMutateDOM runScheduledQueriesAndMutations",{propagationType:b("TimeSlice").PropagationType.ORPHAN});function n(){!i&&j.length&&(i=!0,b("requestAnimationFrame")(m))}function o(a,c,d,e,f){return(g||(g=b("ErrorUtils"))).applyWithGuard(a,c,d,e,f)}e.exports=l}),null);
__d("CometUFICommentTopReactionsWrapper.react",["CometRelay","CometUFICommentTopReactions.react","CometUFICommentTopReactionsWrapper_feedback.graphql","DOMIntersection","Locale","intersectionObserverEntryIsIntersecting","observeIntersection","queryThenMutateDOM","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react"));e=i;var k=e.useCallback,l=e.useEffect,m=e.useLayoutEffect,n=e.useRef;function a(a){var e,f=a.avoidableElementBorderingBottom,g=a.children;a=a.feedback;var i=d("CometRelay").useFragment(h!==void 0?h:h=b("CometUFICommentTopReactionsWrapper_feedback.graphql"),a),o=n(null),p=n(null),q=n(!1),r=n(null),s=n(null),t=n([]),u=k(function(){var a=s.current,b=f.current,e=o.current,g=r.current,h=q.current;if(a!==null||!b||!e||!g||!h)return;var j=!1,k=c("queryThenMutateDOM")(function(){j=d("DOMIntersection").isIntersecting(b,g)},function(){j!==a&&(j===!0&&(e.style.alignSelf="flex-end",e.style.bottom="0",d("Locale").isRTL()?(e.style.left="0",e.style.marginRight="-8px"):(e.style.right="0",e.style.marginLeft="-8px"),e.style.marginBottom="4px",e.style.position="relative"),e.style.visibility="inherit",s.current=j,p.current!=null&&(p.current.remove(),p.current=null))},"CometUFICommentTopReactionsWrapper_"+((h=i.id)!=null?h:"UNKNOWN"));t.current.push({remove:function(){k&&k.cancel(),k=null}})},[f,i.id]);a=k(function(a){o.current=a,a==null&&(s.current=null),u()},[u]);var v=k(function(){p.current!=null&&(p.current.remove(),p.current=null),r.current&&(p.current=c("observeIntersection")(r.current,function(a){q.current=c("intersectionObserverEntryIsIntersecting")(a),u()},{rootMargin:"1000px"}),t.current.push(p.current))},[u]);l(function(){var a=t.current;v();return function(){a.forEach(function(a){a.remove()}),a.length=0}},[v]);m(function(){u()},[u]);e=i.should_show_top_reactions!=null?i.should_show_top_reactions:Boolean((e=i.reactors)==null?void 0:e.count);return j.jsxs("div",{className:"x3nfvp2 x1n2onr6 xxymvpz xh8yej3",children:[j.jsx("div",{className:"xdl72j9 x1iyjqo2 xs83m0k xeuugli xh8yej3",children:g}),e?j.jsx("div",{className:"x1ve5b48 x177n6bx x10l6tqk x1ja2u2z xlshs6z",ref:a,children:j.jsx(c("CometUFICommentTopReactions.react"),{feedback:i,rootRef:function(a){r.current!==a&&(r.current=a,v())}})}):null]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("graphQLEnumAdapter",["flipObject","keyMirror"],(function(a,b,c,d,e,f,g){function a(a){return{graphQL:c("keyMirror")(a),nameToValue:a,valueToName:c("flipObject")(a)}}g["default"]=a}),98);