;/*FB_PKG_DELIM*/

__d("GroupsCometGlobalChatCreationDialogQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="5852881248149646"}),null);
__d("GroupsCometGlobalChatCreationDialogQuery$Parameters",["GroupsCometGlobalChatCreationDialogQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("GroupsCometGlobalChatCreationDialogQuery_facebookRelayOperation"),metadata:{},name:"GroupsCometGlobalChatCreationDialogQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("CometMessagingJewelCommunitiesQPBannerContainer_viewer.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometMessagingJewelCommunitiesQPBannerContainer_viewer",selections:[{alias:null,args:[{kind:"Literal",name:"surface_nux_id",value:10713},{kind:"Literal",name:"trigger",value:"MESSAGING_JEWEL_COMMUNITIES_TAB_OPEN"}],concreteType:"ViewerEligibleQuickPromotionsConnection",kind:"LinkedField",name:"eligible_promotions",plural:!1,selections:[{alias:null,args:null,concreteType:"QuickPromotion",kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,concreteType:"CometQuickPromotionSections",kind:"LinkedField",name:"comet_qp_sections",plural:!1,selections:[{alias:null,args:[{kind:"Literal",name:"supported",value:"xxYRh"}],concreteType:null,kind:"LinkedField",name:"renderer_strategy",plural:!1,selections:[{kind:"InlineFragment",selections:[{args:null,documentName:"CometMessagingJewelCommunitiesQPBannerContainer_viewer",fragmentName:"CometQuickPromotionMessengerWebCommunitiesBannerRendererStrategy_quickPromotionRef",fragmentPropName:"quickPromotionRef",kind:"ModuleImport"}],type:"CometQuickPromotionMessengerWebCommunitiesBannerRendererStrategy",abstractKey:null}],storageKey:'renderer_strategy(supported:"xxYRh")'}],storageKey:null}],storageKey:null}],storageKey:'eligible_promotions(surface_nux_id:10713,trigger:"MESSAGING_JEWEL_COMMUNITIES_TAB_OPEN")'}],type:"Viewer",abstractKey:null};e.exports=a}),null);
__d("CometMessagingJewelDropdownContent_query.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"isEBEnabled"},{defaultValue:null,kind:"LocalArgument",name:"isEBWebPreImprovementsEnabled"}],kind:"Fragment",metadata:null,name:"CometMessagingJewelDropdownContent_query",selections:[{condition:"isEBEnabled",kind:"Condition",passingValue:!0,selections:[{args:[{kind:"Variable",name:"isEBWebPreImprovementsEnabled",variableName:"isEBWebPreImprovementsEnabled"}],kind:"FragmentSpread",name:"MWEncryptedBackupsJewelNuxWrapper_query"}]},{kind:"RequiredField",field:{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"CometMessagingJewelDropdownQPBannerContainer_viewer"},{args:null,kind:"FragmentSpread",name:"CometMessagingJewelCommunitiesQPBannerContainer_viewer"},{args:null,kind:"FragmentSpread",name:"MWCMBlendedThreadListV2_viewer"}],storageKey:null},action:"THROW",path:"viewer"}],type:"Query",abstractKey:null};e.exports=a}),null);
__d("CometMessagingJewelDropdownQPBannerContainer_viewer.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometMessagingJewelDropdownQPBannerContainer_viewer",selections:[{alias:"jewel_qp",args:[{kind:"Literal",name:"surface_nux_id",value:8439},{kind:"Literal",name:"trigger",value:"MESSAGING_JEWEL_OPEN"}],concreteType:"ViewerEligibleQuickPromotionsConnection",kind:"LinkedField",name:"eligible_promotions",plural:!1,selections:[{alias:null,args:null,concreteType:"QuickPromotion",kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,concreteType:"CometQuickPromotionSections",kind:"LinkedField",name:"comet_qp_sections",plural:!1,selections:[{alias:null,args:[{kind:"Literal",name:"supported",value:"2KN39x"}],concreteType:null,kind:"LinkedField",name:"renderer_strategy",plural:!1,selections:[{kind:"InlineFragment",selections:[{args:null,documentName:"CometMessagingJewelDropdownQPBannerContainer_viewer",fragmentName:"CometQuickPromotionMessengerDesktopDownloadBannerRendererStrategy_cometQuickPromotionBaseStrategy",fragmentPropName:"cometQuickPromotionBaseStrategy",kind:"ModuleImport"}],type:"CometQuickPromotionMessengerDesktopDownloadBannerRendererStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometMessagingJewelDropdownQPBannerContainer_viewer",fragmentName:"CometQuickPromotionMessengerDesktopDownloadBannerInstructorBeforeClassRendererStrategy_cometQuickPromotionBaseStrategy",fragmentPropName:"cometQuickPromotionBaseStrategy",kind:"ModuleImport"}],type:"CometQuickPromotionMessengerDesktopDownloadBannerInstructorBeforeClassRendererStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometMessagingJewelDropdownQPBannerContainer_viewer",fragmentName:"CometQuickPromotionMessengerDesktopDownloadBannerInstructorAfterClassRendererStrategy_cometQuickPromotionBaseStrategy",fragmentPropName:"cometQuickPromotionBaseStrategy",kind:"ModuleImport"}],type:"CometQuickPromotionMessengerDesktopDownloadBannerInstructorAfterClassRendererStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometMessagingJewelDropdownQPBannerContainer_viewer",fragmentName:"CometQuickPromotionMessengerDesktopDownloadBannerLearnerBeforeClassRendererStrategy_cometQuickPromotionBaseStrategy",fragmentPropName:"cometQuickPromotionBaseStrategy",kind:"ModuleImport"}],type:"CometQuickPromotionMessengerDesktopDownloadBannerLearnerBeforeClassRendererStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometMessagingJewelDropdownQPBannerContainer_viewer",fragmentName:"CometQuickPromotionMessengerDesktopDownloadBannerLearnerAfterClassRendererStrategy_cometQuickPromotionBaseStrategy",fragmentPropName:"cometQuickPromotionBaseStrategy",kind:"ModuleImport"}],type:"CometQuickPromotionMessengerDesktopDownloadBannerLearnerAfterClassRendererStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometMessagingJewelDropdownQPBannerContainer_viewer",fragmentName:"CometQuickPromotionMessengerWebEPDBannerRendererStrategy_cometQuickPromotionBaseStrategy",fragmentPropName:"cometQuickPromotionBaseStrategy",kind:"ModuleImport"}],type:"CometQuickPromotionMessengerWebEPDBannerRendererStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometMessagingJewelDropdownQPBannerContainer_viewer",fragmentName:"CometQuickPromotionMessengerWebPrivacyPolicyNoticeBannerRendererStrategy_quickPromotionRef",fragmentPropName:"quickPromotionRef",kind:"ModuleImport"}],type:"CometQuickPromotionMessengerWebPrivacyPolicyNoticeBannerRendererStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometMessagingJewelDropdownQPBannerContainer_viewer",fragmentName:"CometQuickPromotionArmadilloSecurityAlertsSettingsDefaultOffBannerRendererStrategy_cometQuickPromotionBaseStrategy",fragmentPropName:"cometQuickPromotionBaseStrategy",kind:"ModuleImport"}],type:"CometQuickPromotionArmadilloSecurityAlertsSettingsDefaultOffBannerRendererStrategy",abstractKey:null}],storageKey:'renderer_strategy(supported:"2KN39x")'}],storageKey:null}],storageKey:null}],storageKey:'eligible_promotions(surface_nux_id:8439,trigger:"MESSAGING_JEWEL_OPEN")'}],type:"Viewer",abstractKey:null};e.exports=a}),null);
__d("CometMessagingJewelDropdownQuery.graphql",["CometMessagingJewelDropdownQuery_facebookRelayOperation","relay-runtime"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:!1,kind:"LocalArgument",name:"isEBEnabled"},{defaultValue:!1,kind:"LocalArgument",name:"isEBWebPreImprovementsEnabled"}],c={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},e={alias:null,args:null,concreteType:"XFBEncryptedBackup",kind:"LinkedField",name:"xfb_backup",plural:!1,selections:[d,c],storageKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"CometMessagingJewelDropdownQuery",selections:[{args:[{kind:"Variable",name:"isEBEnabled",variableName:"isEBEnabled"},{kind:"Variable",name:"isEBWebPreImprovementsEnabled",variableName:"isEBWebPreImprovementsEnabled"}],kind:"FragmentSpread",name:"CometMessagingJewelDropdownContent_query"}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"CometMessagingJewelDropdownQuery",selections:[{condition:"isEBEnabled",kind:"Condition",passingValue:!0,selections:[{"if":null,kind:"Defer",label:"MWEncryptedBackupsJewelNuxWrapper_query$defer$MWEncryptedBackupsThreadListRestoreQPWrapperDeferred_query",selections:[{alias:null,args:null,concreteType:"XFBEncryptedBackup",kind:"LinkedField",name:"xfb_backup",plural:!1,selections:[{alias:null,args:null,concreteType:"XFBEBVirtualDevice",kind:"LinkedField",name:"virtual_devices",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"client_generated_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"device_type",storageKey:null},c],storageKey:null},{alias:null,args:[{kind:"Literal",name:"family_device_id",value:""}],kind:"ScalarField",name:"has_otc_eligible_devices",storageKey:'has_otc_eligible_devices(family_device_id:"")'},c],storageKey:null}]},{condition:"isEBWebPreImprovementsEnabled",kind:"Condition",passingValue:!0,selections:[e,{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"backup_state",storageKey:null}]}],storageKey:null}]},{condition:"isEBWebPreImprovementsEnabled",kind:"Condition",passingValue:!1,selections:[e]}]},{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:"jewel_qp",args:[{kind:"Literal",name:"surface_nux_id",value:8439},{kind:"Literal",name:"trigger",value:"MESSAGING_JEWEL_OPEN"}],concreteType:"ViewerEligibleQuickPromotionsConnection",kind:"LinkedField",name:"eligible_promotions",plural:!1,selections:[{alias:null,args:null,concreteType:"QuickPromotion",kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,concreteType:"CometQuickPromotionSections",kind:"LinkedField",name:"comet_qp_sections",plural:!1,selections:[{alias:null,args:[{kind:"Literal",name:"supported",value:"2KN39x"}],concreteType:null,kind:"LinkedField",name:"renderer_strategy",plural:!1,selections:[d,{kind:"InlineFragment",selections:[{args:null,documentName:"CometMessagingJewelDropdownQPBannerContainer_viewer",fragmentName:"CometQuickPromotionMessengerDesktopDownloadBannerRendererStrategy_cometQuickPromotionBaseStrategy",fragmentPropName:"cometQuickPromotionBaseStrategy",kind:"ModuleImport"}],type:"CometQuickPromotionMessengerDesktopDownloadBannerRendererStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometMessagingJewelDropdownQPBannerContainer_viewer",fragmentName:"CometQuickPromotionMessengerDesktopDownloadBannerInstructorBeforeClassRendererStrategy_cometQuickPromotionBaseStrategy",fragmentPropName:"cometQuickPromotionBaseStrategy",kind:"ModuleImport"}],type:"CometQuickPromotionMessengerDesktopDownloadBannerInstructorBeforeClassRendererStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometMessagingJewelDropdownQPBannerContainer_viewer",fragmentName:"CometQuickPromotionMessengerDesktopDownloadBannerInstructorAfterClassRendererStrategy_cometQuickPromotionBaseStrategy",fragmentPropName:"cometQuickPromotionBaseStrategy",kind:"ModuleImport"}],type:"CometQuickPromotionMessengerDesktopDownloadBannerInstructorAfterClassRendererStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometMessagingJewelDropdownQPBannerContainer_viewer",fragmentName:"CometQuickPromotionMessengerDesktopDownloadBannerLearnerBeforeClassRendererStrategy_cometQuickPromotionBaseStrategy",fragmentPropName:"cometQuickPromotionBaseStrategy",kind:"ModuleImport"}],type:"CometQuickPromotionMessengerDesktopDownloadBannerLearnerBeforeClassRendererStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometMessagingJewelDropdownQPBannerContainer_viewer",fragmentName:"CometQuickPromotionMessengerDesktopDownloadBannerLearnerAfterClassRendererStrategy_cometQuickPromotionBaseStrategy",fragmentPropName:"cometQuickPromotionBaseStrategy",kind:"ModuleImport"}],type:"CometQuickPromotionMessengerDesktopDownloadBannerLearnerAfterClassRendererStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometMessagingJewelDropdownQPBannerContainer_viewer",fragmentName:"CometQuickPromotionMessengerWebEPDBannerRendererStrategy_cometQuickPromotionBaseStrategy",fragmentPropName:"cometQuickPromotionBaseStrategy",kind:"ModuleImport"}],type:"CometQuickPromotionMessengerWebEPDBannerRendererStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometMessagingJewelDropdownQPBannerContainer_viewer",fragmentName:"CometQuickPromotionMessengerWebPrivacyPolicyNoticeBannerRendererStrategy_quickPromotionRef",fragmentPropName:"quickPromotionRef",kind:"ModuleImport"}],type:"CometQuickPromotionMessengerWebPrivacyPolicyNoticeBannerRendererStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometMessagingJewelDropdownQPBannerContainer_viewer",fragmentName:"CometQuickPromotionArmadilloSecurityAlertsSettingsDefaultOffBannerRendererStrategy_cometQuickPromotionBaseStrategy",fragmentPropName:"cometQuickPromotionBaseStrategy",kind:"ModuleImport"}],type:"CometQuickPromotionArmadilloSecurityAlertsSettingsDefaultOffBannerRendererStrategy",abstractKey:null}],storageKey:'renderer_strategy(supported:"2KN39x")'}],storageKey:null},c],storageKey:null}],storageKey:'eligible_promotions(surface_nux_id:8439,trigger:"MESSAGING_JEWEL_OPEN")'},{alias:null,args:[{kind:"Literal",name:"surface_nux_id",value:10713},{kind:"Literal",name:"trigger",value:"MESSAGING_JEWEL_COMMUNITIES_TAB_OPEN"}],concreteType:"ViewerEligibleQuickPromotionsConnection",kind:"LinkedField",name:"eligible_promotions",plural:!1,selections:[{alias:null,args:null,concreteType:"QuickPromotion",kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,concreteType:"CometQuickPromotionSections",kind:"LinkedField",name:"comet_qp_sections",plural:!1,selections:[{alias:null,args:[{kind:"Literal",name:"supported",value:"xxYRh"}],concreteType:null,kind:"LinkedField",name:"renderer_strategy",plural:!1,selections:[d,{kind:"InlineFragment",selections:[{args:null,documentName:"CometMessagingJewelCommunitiesQPBannerContainer_viewer",fragmentName:"CometQuickPromotionMessengerWebCommunitiesBannerRendererStrategy_quickPromotionRef",fragmentPropName:"quickPromotionRef",kind:"ModuleImport"}],type:"CometQuickPromotionMessengerWebCommunitiesBannerRendererStrategy",abstractKey:null}],storageKey:'renderer_strategy(supported:"xxYRh")'}],storageKey:null},c],storageKey:null}],storageKey:'eligible_promotions(surface_nux_id:10713,trigger:"MESSAGING_JEWEL_COMMUNITIES_TAB_OPEN")'},{alias:null,args:null,concreteType:"GroupsTab",kind:"LinkedField",name:"groups_tab",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerGlobalFBGroupChat",kind:"LinkedField",name:"suggested_chats",plural:!0,selections:[c],storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:b("CometMessagingJewelDropdownQuery_facebookRelayOperation"),metadata:{},name:"CometMessagingJewelDropdownQuery",operationKind:"query",text:null}}}();b("relay-runtime").PreloadableQueryRegistry.set(a.params.id,a);e.exports=a}),null);
__d("MessengerGroup.svg.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs("svg",babelHelpers["extends"]({viewBox:"0 0 26 19",fill:"currentColor",width:"1em",height:"1em"},a,{children:[a.title!=null&&i.jsx("title",{children:a.title}),a.children!=null&&i.jsx("defs",{children:a.children}),i.jsx("path",{d:"M13 10c-2.13 0-3.96-1.5-3.96-4.75C9.04 2.6 10.71.83 13 .83c2.3 0 3.96 1.77 3.96 4.42C16.96 8.51 15.13 10 13 10zm6.62 8.33c.57 0 .88-.5.88-1.1 0-3.08-3.47-5.56-7.5-5.56-4.03 0-7.5 2.48-7.5 5.55 0 .62.3 1.11.88 1.11h13.24zm2.55-7.5c-1.57 0-2.92-1.08-2.92-3.45 0-1.93 1.23-3.21 2.92-3.21s2.91 1.28 2.91 3.21c0 2.37-1.34 3.45-2.91 3.45zm.81 6.67a.83.83 0 0 1-.83-.72l-.01-.11a6.3 6.3 0 0 0-1.7-3.65c-.2-.22-.14-.57.14-.67a4.95 4.95 0 0 1 1.59-.27c1.66 0 3.33.84 3.33 2.5 0 2.92-2.08 2.92-2.08 2.92h-.44zM.92 7.38c0 2.37 1.34 3.45 2.91 3.45s2.92-1.08 2.92-3.45c0-1.93-1.23-3.21-2.92-3.21S.92 5.45.92 7.38zm2.1 10.12h-.44S.5 17.5.5 14.58c0-1.66 1.67-2.5 3.33-2.5.54 0 1.08.1 1.6.27.27.1.33.45.13.67a6.3 6.3 0 0 0-1.7 3.65l-.01.1a.83.83 0 0 1-.83.73z"})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("GroupsCometGlobalChatCreationDialog.entrypoint",["GroupsCometGlobalChatCreationDialogQuery$Parameters","JSResourceForInteraction","WebPixelRatio"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(){return{queries:{queryReference:{parameters:c("GroupsCometGlobalChatCreationDialogQuery$Parameters"),variables:{scale:d("WebPixelRatio").get()}}}}},root:c("JSResourceForInteraction")("GroupsCometGlobalChatCreationDialog.react").__setRef("GroupsCometGlobalChatCreationDialog.entrypoint")};g["default"]=a}),98);
__d("CometMessagingJewelCommunitiesQPBannerContainer.react",["CometMessagingJewelCommunitiesQPBannerContainer_viewer.graphql","CometMessagingJewelDropdownQPBannerPlaceholder.react","CometPlaceholder.react","CometQuickPromotionLoggerContext.react","CometRelay","react","useQuickPromotionFalcoEvent"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react");function a(a){var e=a.messagingEntryPoint,f=a.onClose;a=a.viewer;a=d("CometRelay").useFragment(h!==void 0?h:h=b("CometMessagingJewelCommunitiesQPBannerContainer_viewer.graphql"),a);var g=c("useQuickPromotionFalcoEvent")({context_surface_id:10713,context_trigger:"messaging_jewel_communities_tab_open"});a=a==null?void 0:(a=a.eligible_promotions)==null?void 0:(a=a.nodes)==null?void 0:a.find(function(a){return((a=a.comet_qp_sections)==null?void 0:a.renderer_strategy)!=null});a=a==null?void 0:(a=a.comet_qp_sections)==null?void 0:a.renderer_strategy;return a==null?null:j.jsx(c("CometPlaceholder.react"),{fallback:j.jsx(c("CometMessagingJewelDropdownQPBannerPlaceholder.react"),{}),children:j.jsx(c("CometQuickPromotionLoggerContext.react").Provider,{value:g,children:j.jsx(d("CometRelay").MatchContainer,{match:a,props:{messagingEntryPoint:e,onClose:f}})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometMessagingJewelDropdownQPBannerContainer.react",["CometMessagingJewelDropdownQPBannerContainer_viewer.graphql","CometMessagingJewelDropdownQPBannerPlaceholder.react","CometPlaceholder.react","CometQuickPromotionLoggerContext.react","CometRelay","react","useQuickPromotionFalcoEvent"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react");function a(a){a=a.viewer;a=d("CometRelay").useFragment(h!==void 0?h:h=b("CometMessagingJewelDropdownQPBannerContainer_viewer.graphql"),a);var e=c("useQuickPromotionFalcoEvent")({context_surface_id:8439,context_trigger:"messaging_jewel_open"});a=a==null?void 0:(a=a.jewel_qp)==null?void 0:(a=a.nodes)==null?void 0:a.find(function(a){return((a=a.comet_qp_sections)==null?void 0:a.renderer_strategy)!=null});a=a==null?void 0:(a=a.comet_qp_sections)==null?void 0:a.renderer_strategy;return a==null?null:j.jsx(c("CometPlaceholder.react"),{fallback:j.jsx(c("CometMessagingJewelDropdownQPBannerPlaceholder.react"),{}),children:j.jsx(c("CometQuickPromotionLoggerContext.react").Provider,{value:e,children:j.jsx(d("CometRelay").MatchContainer,{match:a})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWInboxContextSwitcherGlimmer.react",["MDSGlimmer.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={tabPlaceholder:{borderTopStartRadius:"x1tlxs6b",borderTopEndRadius:"x1g8br2z",borderBottomEndRadius:"x1gn5b1j",borderBottomStartRadius:"x230xth",display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",justifyContent:"xl56j7k",$$css:!0},tabPlaceholderRoot:{display:"x78zum5",minHeight:"xu0aao5",paddingStart:"x1swvt13",paddingLeft:null,paddingRight:null,paddingEnd:"x1pi30zi",paddingTop:"x1y1aw1k",paddingBottom:"xwib8y2",width:"x3bhodz",$$css:!0}};function a(){return i.jsx("div",{className:"x78zum5 xu0aao5 x1swvt13 x1pi30zi x1y1aw1k xwib8y2 x3bhodz",children:i.jsx(c("MDSGlimmer.react"),{index:0,xstyle:j.tabPlaceholder})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWInboxQuickPromotionWrapper.react",["CometErrorBoundary.react","CometPlaceholder.react","deferredLoadComponent","react","requireDeferredForDisplay"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j=c("deferredLoadComponent")(c("requireDeferredForDisplay")("MAWUserVisibleErrorsNuxWrapper.react").__setRef("MWInboxQuickPromotionWrapper.react"));function a(a){var b=a.children;a=a.onError;return i.jsx(c("CometErrorBoundary.react"),{onError:a,children:i.jsx(c("CometPlaceholder.react"),{fallback:null,children:i.jsx(j,{children:b})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWJewelDropdownHeaderOpenInAppButton.react",["fbt","ix","Actor","CometTooltip.react","ImageIconSource","MessengerDesktopDeeplinkEventFalcoEvent","TetraCircleButton.react","XMessengerDotComDesktopLaunchAppInterstitialControllerRouteBuilder","react","useCurrentDisplayMode","uuidv4"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||(j=d("react"));b=j;var l=b.useEffect,m=b.useRef;function a(a){var b=a.onClose;a=d("Actor").useActor();a=a[0];var e=m(!1),f=m(c("uuidv4")()).current,g=c("useCurrentDisplayMode")();g=g==="dark";l(function(){e.current||(e.current=!0,c("MessengerDesktopDeeplinkEventFalcoEvent").log(function(){return{event:"open_in_app_button_impression",eventLocation:"browser",eventType:"thread",funnelSessionId:f,mobile_app_source:"unknown"}}))});var j=h._("__JHASH___3DTfSod6m3__JHASH__");a=(a=c("XMessengerDotComDesktopLaunchAppInterstitialControllerRouteBuilder").buildUri({funnel_session_id:f,id:a,origin:"FB"}).setDomain("messenger.com"))==null?void 0:(a=a.setProtocol("https"))==null?void 0:a.toString();g=g?new(c("ImageIconSource"))(i("2009370"),32,32):new(c("ImageIconSource"))(i("1996477"),32,32);return k.jsx(c("CometTooltip.react"),{align:"end",tooltip:j,children:k.jsx(c("TetraCircleButton.react"),{color:"secondary",icon:g,label:j,linkProps:{url:a},onPress:function(){c("MessengerDesktopDeeplinkEventFalcoEvent").log(function(){return{event:"open_in_app_button_click",eventLocation:"browser",eventType:"thread",funnelSessionId:f,mobile_app_source:"unknown"}}),b()},size:32,testid:void 0,type:"deemphasized"})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("LSClearTablesImplWeb",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(a){return b.sequence([function(a){return b.forEach(b.db.table(67).fetch(),function(a){return a["delete"]()})},function(a){return b.forEach(b.db.table(66).fetch(),function(a){return a["delete"]()})},function(a){return b.forEach(b.db.table(65).fetch(),function(a){return a["delete"]()})},function(a){return b.forEach(b.db.table(69).fetch(),function(a){return a["delete"]()})}])},function(a){return b.resolve(c)}])}e.exports=a}),null);
__d("LSClearTablesProxy",["LSClearTablesImplWeb"],(function(a,b,c,d,e,f,g){g["default"]=c("LSClearTablesImplWeb")}),98);
__d("LSClearTables",["LSClearTablesProxy"],(function(a,b,c,d,e,f,g){f.exports=c("LSClearTablesProxy")}),34);
__d("LSClearTablesStoredProcedure",["LSClearTables"],(function(a,b,c,d,e,f,g){function a(a){return c("LSClearTables")(a)}g["default"]=a}),98);
__d("LSInsertRankingContacts",["LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return d[0]=new c.Map(),d[0].set("limit",a[0]),d[1]=c.createArray(),d[5]=(d[1].push("search_contacts"),d[1]),d[2]=c.i64.of_float(Date.now()),d[5]=(d[1].push(c.i64.to_string(d[2])),d[1]),d[3]=c.toJSON(d[1]),d[4]=c.toJSON(d[0]),c.storedProcedure(b("LSIssueNewTask"),d[3],c.i64.cast([0,452]),d[4],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("LSInsertRankingContactsStoredProcedure",["LSInsertRankingContacts"],(function(a,b,c,d,e,f,g){function a(a,b){var d=[];d[0]=b.limit;return c("LSInsertRankingContacts").apply(void 0,d.concat([a]))}g["default"]=a}),98);
__d("MWChatSearchInsertRankingContacts",["I64","LSFactory","LSInsertRankingContactsStoredProcedure","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i={contents:!1},j={contents:!1},k=(h||(h=d("I64"))).of_string("100");function a(a){if(!i.contents&&(h||(h=d("I64"))).gt(k,(h||(h=d("I64"))).zero)){i.contents=!0;c("promiseDone")(a.runInTransaction(function(a){return c("LSInsertRankingContactsStoredProcedure")(c("LSFactory")(a),{limit:k})},"readwrite"),function(){j.contents=!0});return}}function b(){return j.contents}g.insertRankingContacts=a;g.isDone=b}),98);
__d("MWLSSyncRankings",["LSIntEnum","MWLSDatabaseLazySync","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i={contents:!1},j={contents:!1};function a(a){if(!i.contents){i.contents=!0;c("promiseDone")(d("MWLSDatabaseLazySync").sync(a,(h||(h=d("LSIntEnum"))).ofNumber(7)),function(){j.contents=!0});return}}function b(){return j.contents}g.sync=a;g.isDone=b}),98);
__d("MWPSearchIndexingSource",["I64","LSIntEnum","ReQL","ReQLSuspense"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a){return d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.table("contacts")))}function b(a){return d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.table("threads")).filter(function(a){return(h||(h=d("I64"))).equal(a.threadType,(i||(i=d("LSIntEnum"))).ofNumber(2))}))}function c(a,b){return d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(b.table("participants")).filter(function(b){return!(h||(h=d("I64"))).equal(b.contactId,a)}).map(function(a){a=[a,d("ReQLSuspense").first(d("ReQL").fromTableAscending(b.table("contacts")).getKeyRange(a.contactId),f.id+":49")];return a}))}g.fetchContacts=a;g.fetchGroupThreads=b;g.fetchGroupParticipants=c}),98);
__d("MWPSearchOfflineOpenConversations",["gkx","minisearch"],(function(a,b,c,d,e,f,g){"use strict";e=c("gkx")("23913");f=e?{fuzzy:0,prefix:!0}:{fuzzy:.2,prefix:!0};var h=new(c("minisearch"))({fields:["content"],searchOptions:f,storeFields:["category"]});function a(a){return h.search(a)}function b(a){h.add(a)}function d(a){h.remove(a)}g.search=a;g.add=b;g.remove=d}),98);
__d("LSInstagramE2EEEligibility",[],(function(a,b,c,d,e,f){a=Object.freeze({UNKNOWN:-1,INELIGIBLE:0,ELIGIBLE:1,REQUIRED:2,DUAL_SEND_ELIGIBLE:3,GROUPS_ELIGIBLE:4});f["default"]=a}),66);
__d("MWChatTemporarySearchResultUtils",["fbt","$InternalEnum","I64","LSContactTypeExact","LSIntEnum"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j;e=b("$InternalEnum")({CM_THREADS:"cm_threads",UNJOINED_GROUPS:"unjoined_groups",NON_CONTACTS:"non_contacts",PAGES:"pages",CONTACTS_GROUPS:"contacts_groups",AI_BOTS:"ai_bots"});function k(){var a=h._("__JHASH__JamETNXLecz__JHASH__").toString();return a}function a(a,b){b===void 0&&(b=!1);a=a.contactTypeExact;if((i||(i=d("I64"))).equal(a,(j||(j=d("LSIntEnum"))).ofNumber(c("LSContactTypeExact").GENERATIVE_AI_BOT)))return k();return b?l():""}function l(){return h._("__JHASH__MsgX-pcOE1N__JHASH__").toString()}g.SectionAnalyticsNameType=e;g.getSectionHeaderForAIBot=k;g.getSectionHeaderForContact=a;g.getSectionHeaderForContactsNullstate=l}),98);
__d("MWLSThreadTitle",["fbt","I64","LSMessagingThreadTypeUtil","gkx"],(function(a,b,c,d,e,f,g,h){"use strict";var i;function j(a){switch(a.length){case 0:return c("gkx")("22885")?"":h._("__JHASH__DaN6ZhVAhFM__JHASH__");case 1:return a[0];case 2:return h._("__JHASH__CYtAjqXrfJL__JHASH__",[h._param("participant1",a[0]),h._param("participant2",a[1])]);case 3:return h._("__JHASH__0GwsaOqt1zM__JHASH__",[h._param("participant1",a[0]),h._param("participant2",a[1]),h._param("participant3",a[2])]);default:return h._("__JHASH__-HjU-GfOUIJ__JHASH__",[h._param("participant1",a[0]),h._param("participant2",a[1]),h._param("others_count",String(a.length-2))])}}var k=c("gkx")("24044");function l(a,b,c,e,f,g){if(a!=null)return a;a=d("LSMessagingThreadTypeUtil").isGroup(e);e=c.filter(function(a){return!(i||(i=d("I64"))).equal(a.contact_id,b)});if(a)return j(e.map(f));return c.length!==1?j(e.map(g)):g(c[0])}function a(a,b,c,d){return l(a,b,c,d,function(a){var b=a.name;a=a.nickname;return k?(a=a)!=null?a:b:b},function(a){var b=a.actual_name;a=a.nickname;return k?(a=a)!=null?a:b:b}).toString()}function b(a,b,c,d){return l(a,b,c,d,function(a){a=a.actual_name;return a},function(a){a=a.actual_name;return a}).toString()}function e(a,b,c,d){return l(a,b,c,d,function(a){var b=a.actual_name;a=a.secondary_name;return(a=a)!=null?a:b},function(a){var b=a.actual_name;a=a.secondary_name;return(a=a)!=null?a:b}).toString()}g.getDefaultThreadTitle=a;g.getThreadTitleWithFullName=b;g.getThreadTitleWithSecondaryNames=e}),98);
__d("MWChatTemporarySearchResult",["FBLogger","I64","LSContactBitOffset","LSContactType","LSContactTypeExact","LSContactViewerRelationship","LSInstagramE2EEEligibility","LSIntEnum","LSMessagingThreadTypeUtil","LSRestrictionType","LSSearchType","LSThreadBitOffset","LSWhatsAppConnectStatus","MWChatSearchResultType","MWChatTemporarySearchResultUtils","MWLSContactTypeExactUtils","MWLSThreadTitle","MWSearchStandardResultTypeMappings","getLSMediaContactProfilePictureUrl"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(a){if((h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(c("LSSearchType").IG_CONTACT_FOLLOWING))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(c("LSSearchType").IG_CONTACT_NONFOLLOWING))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(c("LSSearchType").IG_NONCONTACT_FOLLOWING)))return!0;else return(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(c("LSSearchType").IG_NONCONTACT_NONFOLLOWING))}function k(a){if((h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(c("LSSearchType").CONTACT))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(c("LSSearchType").NONCONTACT))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(c("LSSearchType").AI_BOT))||j(a))return c("MWChatSearchResultType").USER;else if((h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(c("LSSearchType").GROUP))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(c("LSSearchType").PUBLIC_CHANNEL))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(c("LSSearchType").COMMUNITY_MESSAGING_THREAD)))return c("MWChatSearchResultType").GROUP;else if((h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(c("LSSearchType").PAGE)))return c("MWChatSearchResultType").PAGE;else if((h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(c("LSSearchType").INTEGRATED_MESSAGE_SEARCH_THREAD)))return c("MWChatSearchResultType").MESSAGE;else{c("FBLogger")("messenger_web_product").warn("Unknown Search Result Type "+(h||(h=d("I64"))).to_string(a));return c("MWChatSearchResultType").USER}}function a(a,b,e,f,g,j){var k=e.contactType,l=e.contactTypeExact,m=e.secondaryName;l=d("MWLSContactTypeExactUtils").isIgContact(l);m=l&&m!=null?m:"";var n=f!=null?[f.e2eeEligibility,!(h||(h=d("I64"))).equal(f.e2eeEligibility,(i||(i=d("LSIntEnum"))).ofNumber(c("LSInstagramE2EEEligibility").INELIGIBLE))]:[void 0,void 0],o=n[0];n=n[1];return{defaultE2eeThreadOneToOne:d("LSContactBitOffset").has(83,e),defaultE2eeThreads:d("LSContactBitOffset").has(80,e),displayName:e.name,hasCutoverThread:d("LSContactBitOffset").has(76,e),id:(h||(h=d("I64"))).to_string(e.id),imageUrl:c("getLSMediaContactProfilePictureUrl")(e),isAiBot:h.equal(e.contactTypeExact,(i||(i=d("LSIntEnum"))).ofNumber(c("LSContactTypeExact").GENERATIVE_AI_BOT)),isContact:h.equal(e.contactViewerRelationship,i.ofNumber(c("LSContactViewerRelationship").CONTACT_OF_VIEWER)),isDisappearingModeSettingOn:d("LSContactBitOffset").has(24,e),isE2EE:b===!0,isEPD:h.equal(e.restrictionType,i.ofNumber(c("LSRestrictionType").DATA_PRIVACY)),isGroupsXacEligible:d("LSContactBitOffset").has(68,e),isInstagramAccount:l,isInstamadilloCutover:d("LSContactBitOffset").has(76,e),isInteropEligible:d("LSContactBitOffset").has(67,e),isVerified:(b=d("LSContactBitOffset").has(23,e))!=null?b:!1,isViewerUnconnected:d("LSContactBitOffset").hasWithDefault(64,e,!0),isWAEligible:n,matchedTerms:j,rankingScore:a,resultIgid:(l=f==null?void 0:f.igId)!=null?l:void 0,resultType:(h||(h=d("I64"))).equal(k,(i||(i=d("LSIntEnum"))).ofNumber(c("LSContactType").USER))||!((h||(h=d("I64"))).equal(k,(i||(i=d("LSIntEnum"))).ofNumber(c("LSContactType").PAGE))||(h||(h=d("I64"))).equal(k,(i||(i=d("LSIntEnum"))).ofNumber(c("LSContactType").PAGE_PERSONA)))?c("MWChatSearchResultType").USER:c("MWChatSearchResultType").PAGE,searchResultType:d("MWSearchStandardResultTypeMappings").mapContactToSearchStandardResultType(e),searchSource:g,section:d("MWChatTemporarySearchResultUtils").getSectionHeaderForContact(e),subtext:m,supportsE2eeSpamdStorage:f!=null?f.supportsE2eeSpamdStorage:void 0,waAddressable:h.equal(e.waConnectStatus,i.ofNumber(c("LSWhatsAppConnectStatus").WHATSAPP_ADDRESSABLE)),waEligibility:o}}function l(a,b,c){var e=a.threadDescription,f=a.threadName;if(e!=null)return e;else if(f!=null&&f!=="")return d("MWLSThreadTitle").getDefaultThreadTitle(void 0,b,c,a.threadType).toString();else return""}function b(a,b,e,f,g,j,k,m){var n=l(a,e,j);return{displayName:d("MWLSThreadTitle").getDefaultThreadTitle(a.threadName,e,j,a.threadType).toString(),id:(h||(h=d("I64"))).to_string(a.threadKey),imageUrl:f,isAiBot:h.equal(a.threadType,(i||(i=d("LSIntEnum"))).ofNumber(201)),isContact:!1,isDisappearingModeSettingOn:d("LSThreadBitOffset").has(38,a),isE2EE:d("LSMessagingThreadTypeUtil").isSecure(a.threadType),isEPD:!1,isInstagramAccount:!1,isInstamadilloCutover:d("LSThreadBitOffset").has(214,a),isVerified:!1,matchedTerms:m,rankingScore:k,resultType:c("MWChatSearchResultType").GROUP,searchResultType:d("MWSearchStandardResultTypeMappings").mapThreadTypeToSearchStandardResultType(a.threadType),searchSource:b,secondaryImageUrl:g,section:"",subtext:n,threadKey:a.threadKey,threadType:a.threadType}}function e(a,b,e){var f,g=(h||(h=d("I64"))).equal(a.type_,(i||(i=d("LSIntEnum"))).ofNumber(c("LSSearchType").CONTACT)),l=j(a.type_),m=a.defaultE2eeThreadOneToOne,n=a.defaultE2eeThreads,o=a.hasCutoverThread,p=a.isVerified,q=a.query,r=a.supportsE2eeSpamdStorage,s=a.waEligibility;f=b!=null?(f=b.displayName)!=null?f:"":"";q===""&&(f=d("MWChatTemporarySearchResultUtils").getSectionHeaderForContactsNullstate());return{canViewerMessage:a.canViewerMessage,communityId:a.communityId,defaultE2eeThreadOneToOne:m!==null?m:void 0,defaultE2eeThreads:n!==null?n:void 0,displayName:a.displayName,hasCutoverThread:o!==null?o:void 0,id:a.resultId,imageUrl:a.profilePicUrl,isAiBot:h.equal(a.type_,i.ofNumber(c("LSSearchType").AI_BOT)),isContact:g,isDisappearingModeSettingOn:Boolean(a.isDisappearingModeSettingOn),isE2EE:d("LSMessagingThreadTypeUtil").isSecure(a.threadType),isEPD:!1,isGroupsXacEligible:a.isGroupsXacEligible,isInstagramAccount:l,isInstamadilloCutover:Boolean(a.isInstamadilloCutover),isInteropEligible:a.isInteropEligible,isVerified:p!=null?p:!1,isViewerUnconnected:a.isViewerUnconnected,isWAEligible:s!=null?!(h||(h=d("I64"))).equal(s,(i||(i=d("LSIntEnum"))).ofNumber(c("LSInstagramE2EEEligibility").INELIGIBLE)):void 0,restrictionType:a.restrictionType,resultIgid:a.resultIgid,resultType:k(a.type_),searchResultType:d("MWSearchStandardResultTypeMappings").mapServerSearchResultToSearchStandardResultType(a.threadType,a.type_),searchSource:e,secondaryImageUrl:a.secondaryProfilePicUrl,section:f,sectionAnalyticsName:b==null?void 0:b.analyticsName,serverSearchResult:a,subtext:g?"":a.contextLine,supportsE2eeSpamdStorage:r,threadJoinLinkHash:a.threadJoinLinkHash,threadType:a.threadType,waAddressable:a.isWaAddressable,waEligibility:a.waEligibility}}g.checkIsInstagramAccount=j;g.getResultType=k;g.fromContact=a;g.fromThread=b;g.fromServerSearchResult=e}),98);
__d("LSMessageSearchType",[],(function(a,b,c,d,e,f){a=Object.freeze({THREAD:1,MESSAGE:2});f["default"]=a}),66);
__d("LSSearchRequestStatusType",[],(function(a,b,c,d,e,f){a=Object.freeze({PENDING:1,COMPLETE:2,FAILED:3});f["default"]=a}),66);
__d("MWLSParticipant",["I64","LSContactBlockedByViewerStatus","LSContactGender","LSContactType","LSContactWorkForeignEntityType","LSIntEnum","LSMailboxType","MWLSContactTypeExactUtils","ReQL","getLSMediaContactProfilePictureUrl"],(function(a,b,c,d,e,f,g){"use strict";var h,i;b={actual_name:"",blocked_by_viewer_status:(h||(h=d("LSIntEnum"))).ofNumber(c("LSContactBlockedByViewerStatus").UNBLOCKED),contact_id:(i||(i=d("I64"))).zero,contactType:h.ofNumber(c("LSContactType").UNKNOWN),delivered_watermark_timestamp_ms:i.zero,gender:h.ofNumber(c("LSContactGender").UNKNOWN),is_admin:!1,is_messenger_user:!1,mailbox_type:h.ofNumber(c("LSMailboxType").MESSENGER),name:"",nickname:void 0,profile_picture_url:"",rank:0,read_action_timestamp_ms:i.zero,read_watermark_timestamp_ms:i.zero,secondary_name:void 0,thread_key:i.zero,work_company_name:void 0,work_foreign_entity_info:h.ofNumber(c("LSContactWorkForeignEntityType").UNKNOWN),work_job_title:void 0};function j(a){var b=a[0];a=a[1];var e=b.nickname,f=a.blockedByViewerStatus,g=a.contactTypeExact,i=a.firstName,j=a.name,k=a.secondaryName;return{actual_name:j,blocked_by_viewer_status:f,contact_id:b.contactId,contactType:a.contactType,delivered_watermark_timestamp_ms:b.deliveredWatermarkTimestampMs,gender:a.gender,is_admin:(f=b.isAdmin)!=null?f:!1,is_messenger_user:a.isMessengerUser,mailbox_type:(h||(h=d("LSIntEnum"))).ofNumber(c("LSMailboxType").MESSENGER),name:(f=(f=e)!=null?f:i)!=null?f:j,nickname:e,profile_picture_url:c("getLSMediaContactProfilePictureUrl")(a),rank:a.rank,read_action_timestamp_ms:b.readActionTimestampMs,read_watermark_timestamp_ms:b.readWatermarkTimestampMs,secondary_name:d("MWLSContactTypeExactUtils").isIgContact(g)?k:void 0,thread_key:b.threadKey,work_company_name:a.workCompanyName,work_foreign_entity_info:a.workForeignEntityType,work_job_title:a.workJobTitle}}function a(a,b,c){return d("ReQL").mergeJoin(d("ReQL").fromTableAscending(a.table("participants")).getKeyRange(c),b).map(j)}g.empty=b;g.projectOpen=j;g.getAllInOpenThread=a}),98);
__d("groupBy",[],(function(a,b,c,d,e,f){function a(a,b){return a.reduce(function(a,c){(a[b(c)]=a[b(c)]||[]).push(c);return a},{})}f["default"]=a}),66);
__d("MWInboxSecureContentSearch",["fbt","I64","LSIntEnum","LSMessageSearchType","LSSearchRequestStatusType","MAWBridgeSearchMsg","MAWBridgeSendAndReceive","MAWThreadId","MAWTimeUtils","MAWVault","MWLSParticipant","MWLSThreadTitle","Promise","ReQL","asyncToGeneratorRuntime","emptyFunction","getLSMediaContactProfilePictureUrl","getLSMediaThreadPictureUrl","groupBy"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k;function a(a,c,e){return(k||(k=b("Promise"))).all([d("ReQL").mergeJoin(d("ReQL").fromTableAscending(e.table("participants"),[]).getKeyRange(a),d("ReQL").fromTableAscending(e.table("contacts"))),d("ReQL").firstAsync(d("ReQL").fromTableAscending(e.table("threads")).getKeyRange(a))]).then(function(a){var b=a[0];a[1];a=b.filter(function(a){a[0];a=a[1];a=(i||(i=d("I64"))).equal(a.id,c);return!a}).map(function(a){a[0];a=a[1];return a});return d("ReQL").firstAsync(a)})}function l(a,c){return d("MAWThreadId").toThreadKey_DEPRECATED(c,a.chatId).then(function(e){return(k||(k=b("Promise"))).all([d("ReQL").firstAsync(d("ReQL").fromTableAscending(c.table("threads")).getKeyRange(e)),k.resolve(a)])})}function m(a,e,f){var g=c("getLSMediaThreadPictureUrl")(a);if(g!=null)return(k||(k=b("Promise"))).resolve([g,void 0]);else{a=(g=d("ReQL")).toArrayAsync(g.leftJoin(g.fromTableAscending(f.table("participants"),[]).getKeyRange(a.threadKey),g.fromTableAscending(f.table("contacts"))).map(function(a){a[0];a=a[1];return a}).filter(Boolean));g=a.then(function(a){var b=a.length===1&&(i||(i=d("I64"))).equal(a[0].id,e);return a.sort(function(a,b){return a.rank-b.rank}).filter(function(a){return(i||(i=d("I64"))).equal(a.id,e)?b:!0}).map(function(a){return c("getLSMediaContactProfilePictureUrl")(a)})}).then(function(a){var b=a[0];return b!=null?[b,a[1]]:["",void 0]});return g}}function n(a,b,e){b=b.content;if(b!=null&&(a===1||(i||(i=d("I64"))).equal(e,(j||(j=d("LSIntEnum"))).ofNumber(c("LSMessageSearchType").MESSAGE))))return d("MAWVault").isVaulted(b)?d("MAWVault").unvault(b):b;else return h._("__JHASH__MOcENwPdyTO__JHASH__",[h._plural(a,"number")]).toString()}function o(a,b){return d("ReQL").toArrayAsync(d("MWLSParticipant").getAllInOpenThread(b,d("ReQL").fromTableAscending(b.table("contacts")),a.threadKey))}function p(a){return a.normalize("NFC").replace(/[PSp\{\}]+/g," ").replace(/[\r\n]+/g," ").trim().replace(/\s+/g," ").toLowerCase()}function q(a,b){a=p(a).split(" ");var c=" "+p(b),d=[],e=[];a.forEach(function(a){var b=c.indexOf(" "+a);b>=0&&(d.push(a.length),e.push(b))});return{matchLengths:d.join(","),matchOffsets:e.join(",")}}function r(a,e,f,g,h,p){return p.runInTransaction(function(r){return l(a,r).then(function(a){var l=a[0];if(l==null)return;var s=a[1];if(s!=null)return(k||(k=b("Promise"))).all([m(l,h,p),o(l,p)]).then(function(a){var m,o=a[0],p=o[0];o=o[1];a=a[1];m=(m=s.content)!=null?m:"";m=d("MAWVault").isVaulted(m)?d("MAWVault").unvault(m):m;m=q(f,m);var t=m.matchLengths;m=m.matchOffsets;return(k||(k=b("Promise"))).all([r.table("message_search_queries").put({hasNextPage:void 0,nextPageCursor:void 0,query:f,resultCount:(i||(i=d("I64"))).of_int32(e),status:(j||(j=d("LSIntEnum"))).ofNumber(c("LSSearchRequestStatusType").COMPLETE),threadKeyV2:l.threadKey,type_:g}),r.table("message_search_results").put({contextLine:n(e,s,g),displayName:d("MWLSThreadTitle").getThreadTitleWithFullName(l.threadName,h,a,l.threadType),globalIndex:i.of_int32(-s.rowId|0),matchLengths:t,matchOffsets:m,messageId:s.msgId,messageTimestampMs:d("MAWTimeUtils").toTimestamp(s.ts),profilePicUrl:p,query:f,secondaryProfilePicUrl:o,threadKey:l.threadKey,threadType:l.threadType,type_:g})]).then(c("emptyFunction"))})})},"readwrite")}function s(a,b){return t.apply(this,arguments)}function t(){t=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c){c=(yield d("MAWBridgeSendAndReceive").sendAndReceive("backend","search",{query:c,searchMode:d("MAWBridgeSearchMsg").MESSAGE_CONTENT_SEARCH}));return(k||(k=b("Promise"))).all(c.map(function(b){if(b.recordType==="msg"){b.matchedTerms;b.recordType;var c=babelHelpers.objectWithoutPropertiesLoose(b,["matchedTerms","recordType"]);return d("MAWThreadId").toThreadKey_DEPRECATED(a,c.chatId).then(function(a){return[c,a]})}}).filter(Boolean))});return t.apply(this,arguments)}function e(a,e,f){return s(f,a).then(function(g){return Object.values(c("groupBy")(g,function(a){a[0];a=a[1];return a==null?"":(i||(i=d("I64"))).to_string(a)})).map(function(b){var g=b[0];if(g!==null){g=g[0];return r(g,b.length,a,(j||(j=d("LSIntEnum"))).ofNumber(c("LSMessageSearchType").THREAD),e,f)}}).reduce(function(a,d){return(k||(k=b("Promise"))).all([a,d]).then(c("emptyFunction"))},(k||(k=b("Promise"))).resolve())})}function f(a,e,f,g){return s(g,a).then(function(h){h=h.filter(function(a){a[0];a=a[1];return e!=null&&a!=null&&(i||(i=d("I64"))).equal(a,e)});var l=h.length;return h.map(function(b){b=b[0];return r(b,l,a,(j||(j=d("LSIntEnum"))).ofNumber(c("LSMessageSearchType").MESSAGE),f,g)}).reduce(function(a,d){return(k||(k=b("Promise"))).all([a,d]).then(c("emptyFunction"))},(k||(k=b("Promise"))).resolve())})}g.getThreadOtherParticipantContact=a;g.getThreadPics=m;g.getThreadParticipants=o;g.searchSecureDatabaseThreads=e;g.searchSecureDatabaseMessages=f}),98);
__d("MWPSearchOfflineSearchTypes",[],(function(a,b,c,d,e,f){"use strict";a="Contact";b="ThreadName";c="ThreadParticipant";d={Contact:a,ThreadName:b,ThreadParticipant:c};f.MWPSearchType=d}),66);
__d("MWPSearchOfflineOpenConversationsUtils",["I64","LSAuthorityLevel","LSContactBitOffset","LSInitSyncCompleteSubscription","LSIntEnum","LSMessagingThreadTypeUtil","MNetRankType","MWChatSearchResultType","MWChatTemporarySearchResult","MWInboxSecureContentSearch","MWPSearchOfflineOpenConversations","MWPSearchOfflineSearchTypes","Promise","ReQL","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function a(a,b){return"p__"+(j||(j=d("I64"))).to_string(a)+"__"+j.to_string(b)}function k(a){a=a.split("__");if(a.length!==3)return;else return[(j||(j=d("I64"))).of_string(a[1]),j.of_string(a[2])]}function l(a,b,c){return m.apply(this,arguments)}function m(){m=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e,f){a=(yield (h||(h=b("Promise"))).all([d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.table("contacts")).getKeyRange((j||(j=d("I64"))).of_string(e))),d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.table("ig_contact_info")).getKeyRange(j.of_string(e))),d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.table("ranking_scores")).getKeyRange(j.of_string(e),(i||(i=d("LSIntEnum"))).ofNumber(c("MNetRankType").MESSENGER_USER_SEARCH)))]));e=a[0];var g=a[1];a=a[2];if(e==null)return;if(e.isMemorialized!==!0&&!(j||(j=d("I64"))).equal(e.contactViewerRelationship,(j||(j=d("I64"))).one)&&(j||(j=d("I64"))).equal(e.blockedByViewerStatus,(j||(j=d("I64"))).zero)&&!d("LSContactBitOffset").hasWithDefault(66,e,!1)){return d("MWChatTemporarySearchResult").fromContact((a=a)!=null?a:void 0,void 0,e,(a=g)!=null?a:void 0,"offline",f)}});return m.apply(this,arguments)}function n(a,e,f){return(h||(h=b("Promise"))).all([d("ReQL").firstExnAsync(d("ReQL").fromTableAscending(a.table("_user_info")).map(function(a){return a.facebookUserId})),d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.table("threads")).getKeyRange((j||(j=d("I64"))).of_string(e)))]).then(function(e){var g=e[0],k=e[1];if(k!=null&&k.folderName==="inbox"){if(d("LSMessagingThreadTypeUtil").isChannelPreview(k.threadType))return(h||(h=b("Promise"))).resolve();return d("LSMessagingThreadTypeUtil").isSecure(k.threadType)&&d("LSMessagingThreadTypeUtil").isOneToOne(k.threadType)&&(j||(j=d("I64"))).equal(k.authorityLevel,(i||(i=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").OPTIMISTIC))?(h||(h=b("Promise"))).resolve():(h||(h=b("Promise"))).all([d("MWInboxSecureContentSearch").getThreadPics(k,g,a),d("MWInboxSecureContentSearch").getThreadParticipants(k,a)]).then(function(a){var b=a[0];a=a[1];var c=(j||(j=d("I64"))).to_float(k.lastActivityTimestampMs);c={contactId:j.zero,contactType:j.zero,score:c,scoreIndex:j.zero,scoreType:j.zero};return d("MWChatTemporarySearchResult").fromThread(k,"offline",g,b[0],b[1],a,c,f)})}else return(h||(h=b("Promise"))).resolve()})}function o(a,b){a=a.rankingScore;a=a!=null?a.score:0;b=b.rankingScore;b=b!=null?b.score:0;if(b>a)return 1;return b<a?-1:0}function p(a,e){return(h||(h=b("Promise"))).all(e.map(function(c){switch(c.category.type){case d("MWPSearchOfflineSearchTypes").MWPSearchType.ThreadParticipant:var e=k(c.id);if(e!=null){e=e[0];return n(a,(j||(j=d("I64"))).to_string(e),c.terms)}else return(h||(h=b("Promise"))).resolve();case d("MWPSearchOfflineSearchTypes").MWPSearchType.ThreadName:return n(a,c.id,c.terms);case d("MWPSearchOfflineSearchTypes").MWPSearchType.Contact:return l(a,c.id,c.terms)}})).then(function(a){a=a.filter(Boolean);var b=a.filter(function(a){return a.resultType!==c("MWChatSearchResultType").GROUP}).sort(o);a=a.filter(function(a){return a.resultType===c("MWChatSearchResultType").GROUP}).sort(o);return b.concat(a)})}var q={contents:void 0};function e(a,c){if(q.contents==null)return(h||(h=b("Promise"))).resolve([]);var e=q.contents,f=d("MWPSearchOfflineOpenConversations").search(a).filter(function(a){if(c)return!0;a=a.category;if((a==null?void 0:a.type)==="Contact")return!0});return d("LSInitSyncCompleteSubscription").maybeWaitForSyncGroup(e,(i||(i=d("LSIntEnum"))).ofNumber(7)).then(function(){return p(e,f)})}g.getGroupParticipantKey=a;g.searchHelper=p;g.db=q;g.search=e}),98);
__d("MWPSearchOpenIndexer",["I64","MWPSearchOfflineOpenConversations","MWPSearchOfflineOpenConversationsUtils","MWPSearchOfflineSearchTypes","Promise","ReQL","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=new Map(),k=new Map(),l=new Map();function m(a){var b=a.id;a=a.name;b=(i||(i=d("I64"))).to_string(b);a={category:{type:d("MWPSearchOfflineSearchTypes").MWPSearchType.Contact},content:a,id:b};d("MWPSearchOfflineOpenConversations").add(a);j.set(b,a)}function n(a){var b=j.get(a);if(b!=null){j["delete"](a);d("MWPSearchOfflineOpenConversations").remove(b);return}}function o(a){var b=a.threadKey;a=a.threadName;if(a==null)return;b=(i||(i=d("I64"))).to_string(b);a={category:{type:d("MWPSearchOfflineSearchTypes").MWPSearchType.ThreadName},content:a,id:b};d("MWPSearchOfflineOpenConversations").add(a);k.set(b,a)}function p(a){var b=k.get(a);if(b!=null){k["delete"](a);d("MWPSearchOfflineOpenConversations").remove(b);return}}function q(a,b){if(b==null)return;var c=d("MWPSearchOfflineOpenConversationsUtils").getGroupParticipantKey(a.threadKey,a.contactId);b=b.name;a.nickname!=null&&(b+=" "+a.nickname);a={category:{type:d("MWPSearchOfflineSearchTypes").MWPSearchType.ThreadParticipant},content:b.trim(),id:c};d("MWPSearchOfflineOpenConversations").add(a);l.set(c,a)}function r(a,b){return s.apply(this,arguments)}function s(){s=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){a=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.contacts).getKeyRange(b.contactId)));return q(b,a)});return s.apply(this,arguments)}function t(a,b){a=d("MWPSearchOfflineOpenConversationsUtils").getGroupParticipantKey(a,b);b=l.get(a);if(b!=null){l["delete"](a);d("MWPSearchOfflineOpenConversations").remove(b);return}}function a(a,b){switch(b.operation){case"add":return m(b.value);case"put":n((i||(i=d("I64"))).to_string(a));return m(b.value);case"delete":return n((i||(i=d("I64"))).to_string(a))}}function c(a,b){switch(b.operation){case"add":return o(b.value);case"put":p((i||(i=d("I64"))).to_string(a));return o(b.value);case"delete":return p((i||(i=d("I64"))).to_string(a))}}function e(a,c,d,e){switch(e.operation){case"add":return r(a,e.value);case"put":t(c,d);return r(a,e.value);case"delete":return(h||(h=b("Promise"))).resolve(t(c,d))}}function f(a,b,c,e){d("MWPSearchOfflineOpenConversationsUtils").db.contents=a,b.forEach(m),c.forEach(o),e.forEach(function(a){var b=a[0];a=a[1];return q(b,a)})}g.onContactChanged=a;g.onGroupThreadChanged=c;g.onGroupParticipantChanged=e;g.startInitialIndex=f}),98);
__d("MWPSearchSystem",["CurrentUser","FBLogger","I64","JSScheduler","LSClearTablesStoredProcedure","LSFactory","LSIntEnum","MWChatSearchInsertRankingContacts","MWLSSyncRankings","MWPSearchIndexingSource","MWPSearchOpenIndexer","Promise","ReQL","gkx","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l={contents:!1},m={contents:!1},n={contents:!1},o=c("gkx")("24168");function a(a){if(!n.contents){n.contents=!0;(i||(i=d("JSScheduler"))).scheduleSpeculativeCallback(function(){d("MWChatSearchInsertRankingContacts").insertRankingContacts(a);d("MWLSSyncRankings").sync(a);var e=(k||(k=d("I64"))).of_string(c("CurrentUser").getID());l.contents||(l.contents=!0,c("promiseDone")((h||(h=b("Promise"))).all([d("MWPSearchIndexingSource").fetchContacts(a),o?d("MWPSearchIndexingSource").fetchGroupThreads(a):(h||(h=b("Promise"))).resolve([]),o?d("MWPSearchIndexingSource").fetchGroupParticipants(e,a):(h||(h=b("Promise"))).resolve([])]).then(function(b){var c=b[0],e=b[1];b=b[2];d("MWPSearchOpenIndexer").startInitialIndex(a,c,e,b)}),function(){m.contents=!0},function(a){c("FBLogger")("messenger_search").catching(a).mustfix("Error indexing contacts for search")}),d("ReQL").fromTableAscending(a.tables.contacts).subscribe(function(a,b){a=a[0];d("MWPSearchOpenIndexer").onContactChanged(a,b)}),o&&(d("ReQL").fromTableAscending(a.tables.threads).filter(function(a){return(k||(k=d("I64"))).equal(a.threadType,(j||(j=d("LSIntEnum"))).ofNumber(2))}).subscribe(function(a,b){a=a[0];d("MWPSearchOpenIndexer").onGroupThreadChanged(a,b)}),d("ReQL").fromTableAscending(a.tables.participants,["contactId","threadKey","nickname"]).filter(function(a){return!(k||(k=d("I64"))).equal(a.contactId,e)}).subscribe(function(b,e){var f=b[0];b=b[1];c("promiseDone")(d("MWPSearchOpenIndexer").onGroupParticipantChanged(a,f,b,e))})))});return}}function e(a){return a.runInTransaction(function(a){return c("LSClearTablesStoredProcedure")(c("LSFactory")(a))},"readwrite")}function f(){if(d("MWLSSyncRankings").isDone()&&d("MWChatSearchInsertRankingContacts").isDone())return m.contents;else return!1}g.makeAll=a;g.clearAll=e;g.isDone=f}),98);
__d("useMWJewelSettingsButtonBadge",["cr:4042","react"],(function(a,b,c,d,e,f,g){"use strict";var h;h||d("react");function a(){var a;a=(a=b("cr:4042")==null?void 0:b("cr:4042")())!=null?a:{};a=a.badge;a=a===void 0?null:a;return{badge:a,onButtonPress:function(){}}}g["default"]=a}),98);
__d("MWJewelDropdownHeader.react",["fbt","ix","CometEntryPointPopoverTrigger.react","CometHomeChatSettings.entrypoint","CometTooltip.react","CometTopNavListDropdown.react","MWFacebookUserWithoutMessengerAccess","MWJewelDropdownHeaderOpenInAppButton.react","MWJewelDropdownHeaderSeeAllButton.react","MWJewelPopoverDialogContext.react","MWPSearchSystem","MessengerDesktopDeepLinkUtils","MessengerWebUXLogger","TetraCircleButton.react","XCometMessengerControllerRouteBuilder","emptyFunction","fbicon","react","useCometPreloader","useMWChatOpenNewTab","useMWJewelSettingsButtonBadge","useMWNewChatTabContainerPreload","useReStore","useShouldShowMessagingEntrypointInCometRoot"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k,l=k||(k=d("react"));b=k;var m=b.useCallback,n=b.useContext;function o(a){var b=a.onOpenArchivedChats,e=a.onOpenMessageRequests;a=a.onOpenRestrictedAccountsList;var f=h._("__JHASH__wPDFO2UUg3d__JHASH__"),g=n(c("MWJewelPopoverDialogContext.react")),j=g.setIsOpenForDialog;g=c("useMWJewelSettingsButtonBadge")();var k=g.badge,m=g.onButtonPress;return l.jsx(c("CometEntryPointPopoverTrigger.react"),{align:"end",entryPointParams:{},otherProps:{onOpenArchivedChats:(g=b)!=null?g:void 0,onOpenMessageRequests:(b=e)!=null?b:void 0,onOpenRestrictedAccountsList:(g=a)!=null?g:void 0},popoverEntryPoint:c("CometHomeChatSettings.entrypoint"),position:"below",preloadTrigger:"button",children:function(a,b,e,g,h,n){return l.jsxs(c("CometTooltip.react"),{align:"end",tooltip:f,children:[k,l.jsx(c("TetraCircleButton.react"),{color:"secondary",icon:d("fbicon")._(i("484387"),20),label:f,onHoverIn:g,onHoverOut:h,onPress:function(){j(!1),b(),m()},onPressIn:n,ref:a,size:32,testid:void 0,type:"deemphasized"})]})}})}o.displayName=o.name+" [from "+f.id+"]";function a(a){var b=a.inboxUrl,e=a.onClose,f=a.onOpenArchivedChats,g=a.onOpenMessageRequests,k=a.onOpenRestrictedAccountsList,n=a.onReturn;a=a.title;var p=c("useShouldShowMessagingEntrypointInCometRoot")("CHAT"),q=c("useMWChatOpenNewTab")("jewelNewMessage"),r=c("XCometMessengerControllerRouteBuilder").buildURL({thread_key:"new"}),s=c("MessengerWebUXLogger").useInteractionLogger(),t=function(){p&&(q(!1),e()),s==null?void 0:s({eventName:"create_thread"})},u=c("useMWNewChatTabContainerPreload")(),v=u[0],w=u[1],x=(j||(j=c("useReStore")))();u=m(function(){return d("MWPSearchSystem").makeAll(x)},[x]);var y=c("useCometPreloader")("button_aggressive",c("emptyFunction"),u),z=y[0],A=y[1];y=h._("__JHASH__JTlMNMvbiI7__JHASH__");var B=d("MessengerDesktopDeepLinkUtils").isMessengerDesktopDeeplinkEnabled,C=d("MWFacebookUserWithoutMessengerAccess").useIsFacebookUserWithoutMessengerAccess();B=B()&&!C;B?C=l.jsx(c("MWJewelDropdownHeaderOpenInAppButton.react"),{onClose:e}):C=l.jsx(c("MWJewelDropdownHeaderSeeAllButton.react"),{onClose:e,testid:void 0,url:b});return l.jsx(c("CometTopNavListDropdown.react").Title,{actions:[l.jsx(o,{onOpenArchivedChats:f,onOpenMessageRequests:g,onOpenRestrictedAccountsList:k}),C,l.jsx(c("CometTooltip.react"),{align:"end",tooltip:y,children:l.jsx(c("TetraCircleButton.react"),{color:"secondary",icon:d("fbicon")._(i("507170"),16),label:y,linkProps:{preventLocalNavigation:p,url:r},onFocusIn:u,onHoverIn:function(a){v(a),z(a)},onHoverOut:function(){w(),A()},onPress:t,size:32,type:"deemphasized"})})].filter(Boolean),onReturn:n,title:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWJewelMessengerAppLinkV2.react",["Actor","CometPagelet.react","MWFacebookUserWithoutMessengerAccess","MWJewelMessengerLink.react","MWXLink.react","MWXText.react","MessengerDesktopDeepLinkUtils","MessengerDesktopDeeplinkEventFalcoEvent","react","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useEffect,k=b.useRef;function a(a){var b=a.onClick;a=a.url;return i.jsx(d("CometPagelet.react").Placeholder,{fallback:i.jsx(c("MWJewelMessengerLink.react"),{onClick:b,url:a}),name:"MWJewelMessengerAppLink",children:i.jsx(l,{onClick:b,url:a})})}a.displayName=a.name+" [from "+f.id+"]";function l(a){var b=a.onClick;a=a.url;var e=d("MWFacebookUserWithoutMessengerAccess").useIsFacebookUserWithoutMessengerAccess();return d("MessengerDesktopDeepLinkUtils").isMessengerDesktopDeeplinkEnabled()&&!e?i.jsx(m,{onClick:b}):i.jsx(c("MWJewelMessengerLink.react"),{onClick:b,url:a})}l.displayName=l.name+" [from "+f.id+"]";function m(a){var b=a.onClick,e=k(!1),f=k(c("uuidv4")()).current;a=d("Actor").useActor();a=a[0];j(function(){e.current||(e.current=!0,c("MessengerDesktopDeeplinkEventFalcoEvent").log(function(){return{event:"open_messenger_app_link_impression",eventLocation:"browser",eventType:"thread",funnelSessionId:f,mobile_app_source:"unknown"}}))});var g=d("MessengerDesktopDeepLinkUtils").getDeeplinkButtonLabel();a=d("MessengerDesktopDeepLinkUtils").getDeeplinkButtonURI({funnel_session_id:f,id:a,origin:"FB"});return i.jsx("div",{className:"xlsxne2 x1l90r2v x1i80of2","data-testid":void 0,children:i.jsx(c("MWXText.react"),{align:"center",color:"blueLink",type:"bodyLink3",children:i.jsx(c("MWXLink.react"),{href:a,onClick:function(){c("MessengerDesktopDeeplinkEventFalcoEvent").log(function(){return{event:"open_messenger_app_link_click",eventLocation:"browser",eventType:"thread",funnelSessionId:f,mobile_app_source:"unknown"}}),b()},children:g})})})}m.displayName=m.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWJewelNestedFolderThreadListHeader.react",["CometTopNavListDropdown.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.onReturn;a=a.title;return i.jsx(c("CometTopNavListDropdown.react").Title,{onReturn:b,title:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWJewelMessageRequestsThread.react",["fbt","ix","I64","LSIntEnum","Locale","MWJewelThreadSnippet.react","MWXListCellStrict.react","ReQL","ReQLSuspense","TetraIcon.react","fbicon","react","useReStore"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k,l,m,n=m||d("react"),o=function(){var a=(j||(j=c("useReStore")))();return d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableDescending(a.tables.threads.index("parentThreadKeyLastActivityTimestampMs")).getKeyRange((k||(k=d("LSIntEnum"))).ofNumber(-1)).filter(function(a){return(l||(l=d("I64"))).gt(a.lastActivityTimestampMs,a.lastReadWatermarkTimestampMs)}).map(function(b){b=b.snippetSenderContactId;if(b!=null){b=d("ReQLSuspense").first(d("ReQL").fromTableAscending(a.tables.contacts).getKeyRange(b),f.id+":50");return b?b.name:void 0}})},[a],f.id+":35")};function a(a){var b=a.onOpenMessageRequests;a=a.unreadRequestsCount;var e=h._("__JHASH__SQMsXxQB2ND__JHASH__",[h._plural(a)]),f=h._("__JHASH__jhOYdnXiHj7__JHASH__",[h._enum(a===1?"someone":"people",{someone:"someone",people:"people"})]),g=o();g!=null&&(a===1?f=h._("__JHASH__Lhb1JePxKuz__JHASH__",[h._param("name",g)]):f=h._("__JHASH__CG_5_9rh3Rj__JHASH__",[h._param("name",g),h._param("count",a-1)]));return n.jsx(c("MWXListCellStrict.react"),{addOnEnd:{addOn:n.jsx(c("TetraIcon.react"),{color:"secondary",icon:d("Locale").isRTL()?d("fbicon")._(i("492485"),16):d("fbicon")._(i("492533"),16)}),type:"body"},addOnStart:{icon:d("fbicon")._(i("542884"),24),size:56,type:"contained-icon"},body:n.jsx(c("MWJewelThreadSnippet.react"),{isUnread:!0,text:f}),headline:e,level:4,onPress:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CancellablePromise",["Promise","err"],(function(a,b,c,d,e,f,g){"use strict";var h,i="CancellationToken.TokenCancelled";function a(a,d,e){return e.then(function(e){return a.isCancelled()?(h||(h=b("Promise"))).reject(c("err")(i)):d(e)})}function d(a,d){return d["catch"](function(d){return d instanceof Error&&d.message===i?(h||(h=b("Promise"))).resolve(a):(h||(h=b("Promise"))).reject(c("err"))})}g.then_=a;g.ignoreFailed=d}),98);
__d("CancellationToken",[],(function(a,b,c,d,e,f){"use strict";function a(){var a={contents:!1};return{cancel:function(){a.contents=!0},isCancelled:function(){return a.contents}}}f["default"]=a}),66);
__d("useMWLSLoadThreadFolderIfNotPresent",["CancellablePromise","CancellationToken","I64","Int64Hooks","ReQL","promiseDone","useMWLSJewelLoadMoreThreads","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a){var b=(i||(i=c("useReStore")))(),e=c("useMWLSJewelLoadMoreThreads")(a);d("Int64Hooks").useEffectInt64(function(){var f=c("CancellationToken")();c("promiseDone")(d("CancellablePromise").ignoreFailed(void 0,d("CancellablePromise").then_(f,function(a){a==null&&e()},d("ReQL").firstAsync(d("ReQL").fromTableAscending(b.tables.threads_ranges_v2__generated).filter(function(b){return(h||(h=d("I64"))).equal(b.parentThreadKey,a)})))));return f.cancel},[e,b,a])}g["default"]=a}),98);
__d("MWLSJewelMessageRequestsThreadContainer.react",["I64","LSIntEnum","MWJewelMessageRequestsThread.react","ReQL","ReQLSuspense","react","useMWLSLoadThreadFolderIfNotPresent","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=k||d("react");function m(){var a=(h||(h=c("useReStore")))(),b=d("ReQLSuspense").useArray(function(){return d("ReQL").fromTableDescending(a.tables.threads.index("parentThreadKeyLastActivityTimestampMs")).getKeyRange((i||(i=d("LSIntEnum"))).ofNumber(-1)).filter(function(a){return(j||(j=d("I64"))).gt(a.lastActivityTimestampMs,a.lastReadWatermarkTimestampMs)})},[a],f.id+":26");return b.length}function a(a){a=a.onOpenMessageRequests;c("useMWLSLoadThreadFolderIfNotPresent")((i||(i=d("LSIntEnum"))).ofNumber(-1));var b=m();return a==null||b===0?null:l.jsx(c("MWJewelMessageRequestsThread.react"),{onOpenMessageRequests:a,unreadRequestsCount:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("LSFilteredThreadsRangesQueryImplWeb",["LSGetCursor","LSIssueNewTaskAndGetTaskID"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.i64.neq(a[10],void 0)?d[0]=a[10]:d[0]=c.i64.cast([0,0]),a[11]!==void 0?d[1]=a[11]:d[1]="",(a[2]&&c.i64.neq(a[7],void 0)&&c.i64.neq(a[4],void 0)||a[3]&&c.i64.neq(a[6],void 0)&&c.i64.neq(a[5],void 0))&&!(a[2]&&c.i64.neq(a[7],void 0)&&c.i64.neq(a[4],void 0)&&a[3]&&c.i64.neq(a[6],void 0)&&c.i64.neq(a[5],void 0))?c.sequence([function(e){return d[3]=a[4]==null?c.i64.cast([-2147483648,0]):a[4],d[4]=a[7]==null?c.i64.cast([0,1]):a[7],d[10]=c.i64.gt(d[4],c.i64.cast([0,1]))&&c.i64.gt(d[3],c.i64.cast([-2147483648,0])),c.storedProcedure(b("LSGetCursor"),c.i64.cast([0,1])).then(function(a){return a=a,d[2]=a[0],a})},function(e){return d[5]=new c.Map(),d[5].set("cursor",d[2]),d[5].set("filter",a[1]),d[5].set("is_after",a[3]),d[5].set("parent_thread_key",a[0]),d[5].set("reference_activity_timestamp",a[3]?a[6]:a[7]),d[5].set("reference_thread_key",a[3]?a[5]:a[4]),d[5].set("secondary_filter",d[0]),d[5].set("filter_value",d[1]),d[5].set("sync_group",c.i64.cast([0,1])),c.i64.gt(c.i64.cast([0,0]),c.i64.cast([0,0]))?(d[11]=c.i64.of_float(Date.now()),d[6]=c.i64.add(d[11],c.i64.cast([0,0]))):d[6]=c.i64.cast([0,0]),d[7]=c.toJSON(d[5]),c.storedProcedure(b("LSIssueNewTaskAndGetTaskID"),"trq",c.i64.cast([0,313]),d[7],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,d[6],c.i64.cast([0,0])).then(function(a){return a=a,d[8]=a[0],a})},function(b){return c.filter(c.db.table(247).fetch([[[a[0]]]]),function(b){return c.i64.eq(b.parentThreadKey,a[0])&&c.i64.eq(b.threadRangeFilter,a[1])&&c.i64.eq(b.secondaryThreadRangeFilter,d[0])&&b.threadRangeFilterValue===d[1]}).next().then(function(b,e){e=b.done;b=b.value;return e?c.db.table(247).add({folderName:"",parentThreadKey:a[0],minThreadKey:d[3]==null?c.i64.cast([-2147483648,0]):d[3],minLastActivityTimestampMs:d[4]==null?c.i64.cast([0,1]):d[4],threadRangeFilter:a[1],secondaryThreadRangeFilter:d[0],threadRangeFilterValue:d[1],maxLastActivityTimestampMs:c.i64.cast([0,1]),maxThreadKey:c.i64.cast([-2147483648,0]),isLoadingBefore:!0,isLoadingAfter:!1,hasMoreBefore:d[10],hasMoreAfter:!1}):(b.item,c.forEach(c.filter(c.db.table(247).fetch([[[a[0]]]]),function(b){return c.i64.eq(b.parentThreadKey,a[0])&&c.i64.eq(b.threadRangeFilter,a[1])&&c.i64.eq(b.secondaryThreadRangeFilter,d[0])&&b.threadRangeFilterValue===d[1]}),function(a){var b=a.update;a.item;return b({isLoadingBefore:!0,isLoadingAfter:!1,hasMoreBefore:d[10],hasMoreAfter:!1})}))})}]):c.resolve()},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("LSFilteredThreadsRangesQueryProxy",["LSFilteredThreadsRangesQueryImplWeb"],(function(a,b,c,d,e,f,g){g["default"]=c("LSFilteredThreadsRangesQueryImplWeb")}),98);
__d("LSFilteredThreadsRangesQuery",["LSFilteredThreadsRangesQueryProxy"],(function(a,b,c,d,e,f,g){f.exports=c("LSFilteredThreadsRangesQueryProxy")}),34);
__d("LSFilteredThreadsRangesQueryStoredProcedure",["LSFilteredThreadsRangesQuery"],(function(a,b,c,d,e,f,g){function a(a,b){var d=[];d[0]=b.parentThreadKey;d[1]=b.filter;d[2]=b.isLoadingBefore;d[3]=b.isLoadingAfter;d[4]=b.minThreadKey;d[5]=b.maxThreadKey;d[6]=b.maxLastActivityTimestampMs;d[7]=b.minLastActivityTimestampMs;d[8]=b.numThreads;d[9]=b.numMessages;d[10]=b.secondaryFilter;d[11]=b.filterValue;return c("LSFilteredThreadsRangesQuery").apply(void 0,d.concat([a]))}g["default"]=a}),98);
__d("MWThreadListFocusableTable.react",["MWFocusTable.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");b=d("MWFocusTable.react").createFocusTable(d("MWFocusTable.react").tabbableScopeQuery);var j=b[0];c=b[1];e=b[2];b=c;c=e;function a(a){a=a.children;return i.jsx(j,{allowModifiers:!0,tabScopeQuery:d("MWFocusTable.react").tabbableScopeQuery,wrapX:!0,children:a})}a.displayName=a.name+" [from "+f.id+"]";g.MWThreadListFocusableTableRow=b;g.MWThreadListFocusableTableCell=c;g.MWThreadListFocusableTableScopeQuery=d("MWFocusTable.react").tabbableScopeQuery;g.MWThreadListFocusableTable=a}),98);
__d("useMarkSeenWhenVisible",["Int64Hooks","MetaConfig","ReQL","UserActivity","cr:355","emptyFunction","react","useMWPMarkSeen","useMWPWatchFolderFocusChanges","useReStore","useSimpleImpression","useVisibilityObserver"],(function(a,b,c,d,e,f,g){"use strict";var h,i;e=i||d("react");var j=e.useCallback,k=e.useRef;function a(a){var e,f=(h||(h=c("useReStore")))(),g=k(!1),i=(e=b("cr:355")==null?void 0:b("cr:355")(a))!=null?e:c("emptyFunction");e=c("useVisibilityObserver")({onHidden:function(){g.current=!1},onVisible:function(){g.current=!0}});var l=c("useMWPMarkSeen")(a),m=j(function(){l(),void i()},[l,i]);c("useMWPWatchFolderFocusChanges")(m,g);c("useSimpleImpression")(m);d("Int64Hooks").useEffectInt64(function(){if(c("MetaConfig")._("46"))return function(){};else return d("ReQL").fromTableDescending(f.table("threads").index("parentThreadKeyLastActivityTimestampMs"),[]).getKeyRange(a).take(1).subscribe(function(){c("UserActivity").isOnTab()&&g.current===!0&&m()})},[f,a,m]);return e}g["default"]=a}),98);
__d("MWPBaseThreadList.react",["Box.react","I64","Int64Hooks","LSAuthorityLevel","LSFactory","LSFilteredThreadsRangesQueryStoredProcedure","LSIntEnum","LSMessagingThreadTypeUtil","LSThreadRangeFilter","LSThreadsRangesQueryStoredProcedure","MAWSetupUtils","MWCMIsAnyCMThread","MWCMIsThreadBumped","MWIsThreadDisabled","MWThreadListFocusableTable.react","MWThreadListSupportedThreadTypes","MWXacGating","MetaConfig","ReQL","ReQLPaginatedList.react","ReQLPaginatedList.shared","ReQLSuspense","asyncToGeneratorRuntime","isMWXacGroupThread","promiseDone","react","useMarkSeenWhenVisible","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=i||(i=d("react"));e=i;var m=e.useCallback,n=e.useEffect,o={container:{display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",flexShrink:"xs83m0k",overflowX:"x6ikm8r",overflowY:"x10wlt62",$$css:!0},emptyContentContainer:{alignItems:"x6s0dn4",display:"x78zum5",flexGrow:"x1iyjqo2",justifyContent:"xl56j7k",$$css:!0},list:{display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",overflowX:"x6ikm8r",overflowY:"x10wlt62",$$css:!0}};function p(a,e,f,g){g===void 0&&(g=!1),c("promiseDone")(a.runInTransaction(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b;b=(yield (b=a.table("threads_ranges_v2__generated")).get.apply(b,e));if(b==null||b.isLoadingBefore)return;f&&f();return c("LSThreadsRangesQueryStoredProcedure")(c("LSFactory")(a),{additionalPagesToFetch:(j||(j=d("I64"))).zero,isLoadingAfter:!1,isLoadingBefore:!0,maxLastActivityTimestampMs:b.maxLastActivityTimestampMs,maxThreadKey:b.maxThreadKey,minLastActivityTimestampMs:b.minLastActivityTimestampMs,minThreadKey:b.minThreadKey,parentThreadKey:b.parentThreadKey,shouldSkipE2eeThreadsRanges:g})});return function(b){return a.apply(this,arguments)}}(),"readwrite","ui"))}function q(a,e,f,g,h){f===void 0&&(f=(k||(k=d("LSIntEnum"))).ofNumber(c("LSThreadRangeFilter").NONE)),g===void 0&&(g=(k||(k=d("LSIntEnum"))).ofNumber(c("LSThreadRangeFilter").NONE)),c("promiseDone")(a.runInTransaction(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b;b=(yield (b=a.table("filtered_threads_ranges_v3__generated")).get.apply(b,e));if(b==null||b.isLoadingBefore)return;h&&h();return c("LSFilteredThreadsRangesQueryStoredProcedure")(c("LSFactory")(a),{filter:f,isLoadingAfter:!1,isLoadingBefore:!0,maxLastActivityTimestampMs:b.maxLastActivityTimestampMs,maxThreadKey:b.maxThreadKey,minLastActivityTimestampMs:b.minLastActivityTimestampMs,minThreadKey:b.minThreadKey,parentThreadKey:b.parentThreadKey,secondaryFilter:g})});return function(b){return a.apply(this,arguments)}}(),"readwrite","ui"))}function r(a,b,e,f,g,h){e===void 0&&(e=(k||(k=d("LSIntEnum"))).ofNumber(c("LSThreadRangeFilter").NONE));f===void 0&&(f=(k||(k=d("LSIntEnum"))).ofNumber(c("LSThreadRangeFilter").NONE));h===void 0&&(h=!1);if(b==null)return;if(!b.threadRangeFilter){var i=[b.parentThreadKey,b.minThreadKey,b.minLastActivityTimestampMs];p(a,i,g,h)}else{i=[b.parentThreadKey,b.minThreadKey,b.minLastActivityTimestampMs,b.threadRangeFilter,b.folderName,b.secondaryThreadRangeFilter,b.threadRangeFilterValue];q(a,i,e,f,g)}}function s(a,e,f,g,h,i){i===void 0&&(i=!1),c("promiseDone")(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var b=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.table("sync_groups")).getKeyRange((k||(k=d("LSIntEnum"))).ofNumber(1))));b!=null&&(j||(j=d("I64"))).equal(b.syncStatus,(k||(k=d("LSIntEnum"))).ofNumber(2))&&(yield a.runInTransaction(function(a){h==null?void 0:h();if(f==null)return c("LSThreadsRangesQueryStoredProcedure")(c("LSFactory")(a),{additionalPagesToFetch:(j||(j=d("I64"))).zero,isLoadingAfter:!1,isLoadingBefore:!0,maxLastActivityTimestampMs:j.max_int,maxThreadKey:j.max_int,minLastActivityTimestampMs:j.max_int,minThreadKey:j.max_int,parentThreadKey:e,shouldSkipE2eeThreadsRanges:i});else return c("LSFilteredThreadsRangesQueryStoredProcedure")(c("LSFactory")(a),{filter:f,isLoadingAfter:!1,isLoadingBefore:!0,maxLastActivityTimestampMs:(j||(j=d("I64"))).max_int,maxThreadKey:j.max_int,minLastActivityTimestampMs:j.max_int,minThreadKey:j.max_int,parentThreadKey:e,secondaryFilter:g})},"readwrite","ui"))})())}var t=function(a,b,c,e){var g=d("ReQLSuspense").useFirst(function(){return c==null?d("ReQL").fromTableDescending(a.table("threads_ranges_v2__generated")).getKeyRange(b):d("ReQL").empty()},[a,c,b],f.id+":302"),h=d("ReQLSuspense").useFirst(function(){return c==null?d("ReQL").empty():d("ReQL").fromTableDescending(a.table("filtered_threads_ranges_v3__generated")).getKeyRange(b).filter(function(a){return(j||(j=d("I64"))).equal(a.threadRangeFilter,c)&&(!e||(j||(j=d("I64"))).equal(a.secondaryThreadRangeFilter,e))})},[a,c,b,e],f.id+":309");return c==null?g:h};function a(a){var b=a.afterContent,e=a.beforeContent,g=a.containerStyle,i=a.customThreadFilter_DO_NOT_USE,p=a.emptyContent,q=a.filter,u=a.gridLabel,v=a.imperativeRef,w=a.isSufficientContentLoadedBelow,x=a.loadMoreThreads,y=x===void 0?r:x;x=a.loadMoreThreadsForEmptyRange;var z=x===void 0?s:x,A=a.onLoadMoreThreads;x=a.onReachingTop;var B=a.onScroll,C=a.onThreadsLoaded,D=a.pageSize,E=a.parentThreadKey,F=a.renderItem,G=a.renderLoadingAnimation,H=a.role;H=H===void 0?"grid":H;var I=a.secondaryFilter,J=a.setIsEmptyInbox;a=a.shouldSkipE2eeThreadsRanges;var K=a===void 0?!1:a,L=d("MAWSetupUtils").useIsIDBOperational(),M=(h||(h=c("useReStore")))(),N=t(M,E,q,I),O=d("ReQLSuspense").useArray(function(){return d("ReQL").fromTableAscending(M.table("pinned_threads").index("pinnedTimestamp"))},[M],f.id+":379");a=c("MetaConfig")._("44");N!=null&&!N.isLoadingBefore&&(C&&C());var P=N!=null?(j||(j=d("I64"))).equal(N.minLastActivityTimestampMs,(j||(j=d("I64"))).zero)||(j||(j=d("I64"))).equal(N.minLastActivityTimestampMs,(j||(j=d("I64"))).one)||(a?(j||(j=d("I64"))).equal(N.minLastActivityTimestampMs,(j||(j=d("I64"))).max_int):!1)?null:N.minLastActivityTimestampMs:null,Q=N!=null?(j||(j=d("I64"))).equal(N.maxLastActivityTimestampMs,(j||(j=d("I64"))).zero)||(j||(j=d("I64"))).equal(N.maxLastActivityTimestampMs,(j||(j=d("I64"))).one)?null:N.maxLastActivityTimestampMs:null,R=d("Int64Hooks").useMemoInt64(function(){var a;return{gte:d("ReQL").key((a=P)!=null?a:(j||(j=d("I64"))).min_int),lte:d("ReQL").key((a=Q)!=null?a:(j||(j=d("I64"))).max_int)}},[Q,P]),S=d("Int64Hooks").useMemoInt64(function(){var a,b=(a=d("ReQL")).fromTableDescending(M.table("threads").index("parentThreadKeyLastActivityTimestampMs")).getKeyRange(E);b=a.union(b,a.fromTableDescending(M.table("threads").index("secondaryParentThreadKeyLastActivityTimestampMs")).getKeyRange(E)).map(function(a){var b;if(!c("MWCMIsThreadBumped")(a))return{isHidden:!1,thread:a};b=(b=(b=d("ReQLSuspense").first(d("ReQL").fromTableAscending(M.table("community_folders"),["isHidden"]).getKeyRange(a.parentThreadKey),f.id+":439"))==null?void 0:b.isHidden)!=null?b:!1;return{isHidden:b,thread:a}}).filter(function(a){var b=a.isHidden,e=a.thread;if(b)return!1;a=d("LSMessagingThreadTypeUtil").isSecure(e.threadType);return(!a||L)&&(c("MWCMIsAnyCMThread")(e.threadType)?!c("MWIsThreadDisabled")(e.takedownState):!0)&&c("MWThreadListSupportedThreadTypes").findIndex(function(a){return(j||(j=d("I64"))).equal(e.threadType,a)})!==-1&&(k||(k=d("LSIntEnum"))).toNumber(e.authorityLevel)>c("LSAuthorityLevel").CLIENT_PARTIAL&&(!c("MetaConfig")._("45")||O.findIndex(function(a){return(j||(j=d("I64"))).equal(e.threadKey,a.threadKey)})===-1)&&(d("MWXacGating").isGroupsEnabled()||!c("isMWXacGroupThread")(e))&&(!i||i(e))}).map(function(a){a=a.thread;return a});return d("ReQLPaginatedList.shared").fromIterables(a.empty(),b)},[M,L,E,O,i]),T=d("ReQLSuspense").useFirst(function(){return S.descending.bounds(R)},[R,S],f.id+":486")==null;n(function(){J&&J(T)},[T,J]);d("Int64Hooks").useEffectInt64(function(){N==null&&z(M,E,q,I,A)},[E,N,M,q,I,A,z]);C=c("useMarkSeenWhenVisible")(E);a=m(function(){y(M,N,q,I,A,K)},[M,y,N,q,I,A,K]);var U=m(function(a){return l.jsx(l.Fragment,{children:F(a)},(j||(j=d("I64"))).to_string(a.threadKey))},[F]);return N==null?G!=null?G():null:l.jsx(c("Box.react"),{"aria-label":u,"data-testid":void 0,ref:C,role:H,xstyle:[o.container,g],children:l.jsx(d("MWThreadListFocusableTable.react").MWThreadListFocusableTable,{children:l.jsx(c("ReQLPaginatedList.react"),{bounds:R,data:S,direction:"desc",hasReachedBottom:!N.hasMoreBefore,hasReachedTop:!N.hasMoreAfter,imperativeRef:v,isSufficientContentLoadedBelow:w,onReachingBottom:a,onReachingTop:x,onScroll:B,pageSize:D,renderEmptyContent:function(){return T&&!N.isLoadingAfter&&!N.isLoadingBefore?l.jsx(c("Box.react"),{xstyle:o.emptyContentContainer,children:p}):null},renderFooter:function(){return b},renderHeader:function(){return e},renderItem:U,renderLoadingAnimation:G,xstyle:o.list})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWThreadListEmptyContainer.react",["fbt","CometPlaceholder.react","JSResourceForInteraction","MWXText.react","lazyLoadComponent","qex","react","useEnsureViewerContactExistAndUpdated"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k=c("lazyLoadComponent")(c("JSResourceForInteraction")("MWThreadListNullState.react").__setRef("MWThreadListEmptyContainer.react"));function a(a){a=a.parentThreadKey;c("useEnsureViewerContactExistAndUpdated")();return c("qex")._("1310")===!0?j.jsx(c("CometPlaceholder.react"),{fallback:null,children:j.jsx(k,{parentThreadKey:a})}):j.jsx("div",{className:"xyamay9 x1pi30zi x1l90r2v x1swvt13",children:j.jsx(c("MWXText.react"),{align:"center",type:"body2",children:h._("__JHASH__1gb6sA7PX-j__JHASH__")})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useMWLogLongSuspense",["MWPBumpEntityKey","clearTimeout","react","setTimeout","useMergeRefs","useVisibilityObserver"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useCallback,j=b.useEffect,k=b.useRef;function a(a,b){var d=m(a,5,b),e=m(a,15,b),f=m(a,60,b);a=m(a,300,b);return c("useMergeRefs")(d,e,f,a)}var l=/\W/g;function m(a,b,e){var f=a.replace(l,"_"),g=k();a=i(function(){g.current=c("setTimeout")(function(){d("MWPBumpEntityKey").bumpEntityKeyWithAppId("mwp","long_suspension."+f+".suspended_"+b+"_sec"),e==null?void 0:e(b)},b*1e3)},[e,f,b]);var h=i(function(){c("clearTimeout")(g.current)},[]);j(function(){return h},[h]);return c("useVisibilityObserver")({onHidden:h,onVisible:a})}g["default"]=a}),98);
__d("MWThreadListGlimmer.react",["MWXGlimmer.react","gkx","react","react-strict-dom","useMWLogLongSuspense"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={glimmerBody:{borderTopStartRadius:"x1lq5wgf",borderTopEndRadius:"xgqcy7u",borderBottomEndRadius:"x30kzoy",borderBottomStartRadius:"x9jhf4c",height:"xlup9mm",width:"xktia5q",$$css:!0},glimmerHeadline:{borderTopStartRadius:"x1lq5wgf",borderTopEndRadius:"xgqcy7u",borderBottomEndRadius:"x30kzoy",borderBottomStartRadius:"x9jhf4c",height:"x1qx5ct2",marginBottom:"x1e56ztr",width:"x3hqpx7",$$css:!0},glimmerPhoto48:{borderTopStartRadius:"xzolkzo",borderTopEndRadius:"x12go9s9",borderBottomEndRadius:"x1rnf11y",borderBottomStartRadius:"xprq8jg",height:"xsdox4t",marginEnd:"xmo9yow",width:"x1useyqa",$$css:!0},glimmerPhoto56:{borderTopStartRadius:"xzolkzo",borderTopEndRadius:"x12go9s9",borderBottomEndRadius:"x1rnf11y",borderBottomStartRadius:"xprq8jg",height:"xnnlda6",marginEnd:"xmo9yow",width:"x15yg21f",$$css:!0},glimmerRoot:{display:"x78zum5",paddingBottom:"x1a8lsjc",paddingStart:"x1swvt13",paddingLeft:null,paddingRight:null,paddingEnd:"x1pi30zi",paddingTop:"x889kno",$$css:!0},glimmerText:{display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",justifyContent:"xl56j7k",$$css:!0}},k=c("gkx")("23219"),l=i.forwardRef(function(a,b){a=a.role;return i.jsxs(d("react-strict-dom").html.div,{ref:b,role:a,style:j.glimmerRoot,children:[i.jsx(c("MWXGlimmer.react"),{index:0,xstyle:k?j.glimmerPhoto48:j.glimmerPhoto56}),i.jsxs(d("react-strict-dom").html.div,{style:j.glimmerText,children:[i.jsx(c("MWXGlimmer.react"),{index:1,xstyle:j.glimmerHeadline}),i.jsx(c("MWXGlimmer.react"),{index:2,xstyle:j.glimmerBody})]})]})});function a(a){var b=a.numberOfItems;b=b===void 0?1:b;var d=a.parentComponentForDebug,e=a.role,f=c("useMWLogLongSuspense")(d+".MWThreadListGlimmer");return i.jsx(i.Fragment,{children:Array(b).fill(!0).map(function(a,b){return i.jsx(l,{ref:b===0?f:void 0,role:e},"mw_list_glimmer_"+b)})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWPThreadListItemInviteAddOn.react",["fbt","MWPBumpEntityKey","MWXCircleButton.react","MWXIconCheckmark","MWXIconCross","MWXRow.react","MWXRowItem.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k=h._("__JHASH__ThY36iiMiSm__JHASH__"),l=h._("__JHASH__IQ1-ytNyqLB__JHASH__");function a(a){var b=a.onAccept,e=a.onDecline;return j.jsxs(c("MWXRow.react"),{paddingHorizontal:0,paddingVertical:0,verticalAlign:"center",children:[j.jsx(c("MWXRowItem.react"),{children:j.jsx(c("MWXCircleButton.react"),{icon:c("MWXIconCheckmark"),label:k,onPress:function(a){d("MWPBumpEntityKey").bumpEntityKeyWithAppId("mw.sidebar","thread_invite.accept"),b(a)},size:32})}),j.jsx(c("MWXRowItem.react"),{children:j.jsx(c("MWXCircleButton.react"),{icon:c("MWXIconCross"),label:l,onPress:function(a){d("MWPBumpEntityKey").bumpEntityKeyWithAppId("mw.sidebar","thread_invite.decline"),e(a)},size:32})})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MDSPushPinSvgIcon.react",["MDSSvgIcon.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsx(c("MDSSvgIcon.react"),babelHelpers["extends"]({},a,{children:i.jsx("path",{clipRule:"evenodd",d:"M21.39 21.997a.5.5 0 0 0-.485.38l-1.663 6.65c-.322 1.292-2.162 1.291-2.484 0l-1.663-6.65a.5.5 0 0 0-.485-.38h-4.442c-.95 0-1.478-1.064-.972-1.816.419-.62 1.533-2.029 3.589-3.04a.982.982 0 0 0 .536-.811c.099-1.284.334-3.339.435-4.661a.988.988 0 0 0-.465-.918 7.136 7.136 0 0 1-2.075-1.914C10.674 8.07 11.212 7 12.163 7h11.675c.95 0 1.488 1.07.946 1.837-.31.44-.97 1.232-2.075 1.914a.99.99 0 0 0-.465.918c.102 1.322.337 3.377.435 4.661a.982.982 0 0 0 .537.812c2.055 1.01 3.17 2.419 3.588 3.04.506.751-.021 1.816-.971 1.816H21.39Z",fillRule:"evenodd"})}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXIconPause",["MWXSvgIcon","SVGIcon","cr:8235","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=d("MWXSvgIcon").mwxSvgIcon(d("SVGIcon").svgIcon(b("cr:8235")),c("gkx")("23219"));g["default"]=a}),98);
__d("MWThreadAddOnSecondary.react",["fbt","CometBadge.react","CurrentEnvironment","I64","MDSPushPinSvgIcon.react","MWPActor.react","MWPIsThreadUnread","MWXIconBellCross","MWXIconPause","MWXIconStrict.react","MWXPressable.react","ReQL","ReQLSuspense","TetraOverlappingFacepileUnstyled.react","getLSMediaContactProfilePictureUrl","gkx","isArmadillo","react","useMWIsReadReceiptsDisabledForThread","useMWLSMarkThreadAsRead","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=k||(k=d("react"));b=k.memo;function m(a){var b=(i||(i=c("useReStore")))(),e=d("MWPActor.react").useActor(),g=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(b.tables.threads,["threadKey","lastActivityTimestampMs"]).getKeyRange(a)},[b,a],f.id+":56"),h=c("useMWIsReadReceiptsDisabledForThread")(a)&&c("gkx")("24094");return d("ReQLSuspense").useArray(function(){if(h||g==null)return d("ReQL").empty();else return d("ReQL").fromTableAscending(b.tables.participants.index("threadKeyReadWatermarkTimestampMs"),["contactId"]).getKeyRange(g.threadKey).bounds({gte:d("ReQL").key(g.lastActivityTimestampMs)}).filter(function(a){a=a.contactId;return!(j||(j=d("I64"))).equal(a,e)}).take(3).map(function(a){a=a.contactId;a=d("ReQLSuspense").first(d("ReQL").fromTableAscending(b.tables.contacts,["name","profilePictureFallbackUrl","profilePictureUrl","profilePictureUrlExpirationTimestampMs"]).getKeyRange(a),f.id+":87");return a!=null?{alt:a.name,source:{uri:c("getLSMediaContactProfilePictureUrl")(a)}}:null})},[b,e,g,h],f.id+":68").filter(Boolean)}function a(a){var b=a.entryPoint,e=a.isMuted,f=a.isPaused,g=a.isPinned,i=a.isViewerSender,j=a.lastMessageDeliveryStatusIcon;a=a.thread;var k=c("useMWLSMarkThreadAsRead")(b);b=m(a.threadKey);var n=[];c("gkx")("24115")&&g&&n.push(l.jsx(c("MDSPushPinSvgIcon.react"),{color:"tertiary",size:24}));f&&n.push(l.jsx(c("MWXIconStrict.react"),{color:"disabled",icon:c("MWXIconPause"),size:16}));e&&n.push(l.jsx(c("MWXIconStrict.react"),{color:"disabled",icon:c("MWXIconBellCross"),size:16}));g=d("MWPIsThreadUnread").useIsThreadUnread(a.threadKey);g?n.push(l.jsx(c("MWXPressable.react"),{"aria-label":h._("__JHASH__kxStFVEPa-2__JHASH__"),expanding:!0,onPress:function(a){return k()},children:l.jsx(c("CometBadge.react"),{color:"blue",isProfileBadge:!0,size:c("isArmadillo")()&&c("CurrentEnvironment").messengerdotcom?10:12})})):i&&(b.length===0?j&&n.push(j):n.push(l.jsx(c("TetraOverlappingFacepileUnstyled.react"),{count:b.length,isTextInline:!0,items:b,screenReaderLabel:b.length===1?h._("__JHASH__2MhSP-AMGlO__JHASH__",[h._param("=personName",b[0].alt)]):h._("__JHASH__jJBaERf_iKB__JHASH__",[h._param("=numPeople",b.length,[0])]),size:16})));return l.jsx("div",{className:"x6s0dn4 x78zum5 xozqiw3",children:n.map(function(a,b){return l.jsxs(l.Fragment,{children:[b!==0?l.jsx("div",{className:"x1fsd2vl"}):null,a]},"item_"+b.toString(10))})})}a.displayName=a.name+" [from "+f.id+"]";e=b(a);g["default"]=e}),98);
__d("MWThreadListItemAddOnEnd.react",["fbt","FBGroupChatInviteState","I64","Int64Hooks","LSFactory","LSIntEnum","LSUpdateCommunityChannelDirectInviteStoredProcedure","MWJewelPopoverDialogContext.react","MWPActor.react","MWPThreadListItemInviteAddOn.react","MWThreadAddOnSecondary.react","ReQL","ReQLSuspense","ThreadStatus","cometPushToast","promiseDone","react","requireDeferred","useMWChatCalculateIsMutedFromExpireTime","useMWLSThreadIsPinned","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l,m=j||(j=d("react")),n=j.useContext,o=c("requireDeferred")("C4gEngagementFalcoEvent").__setRef("MWThreadListItemAddOnEnd.react");function p(a){var b=a.communityId,c=a.event,e=a.groupId,f=a.parentSurface,g=f===void 0?"channel_list":f,h=a.source,i=a.threadId;o.onReady(function(a){return a.log(function(){return{action:"tap",community_id:b==null?null:(l||(l=d("I64"))).to_string(b),event:c,group_id:e==null?null:(l||(l=d("I64"))).to_string(e),parent_surface:g,source:h,surface:"chat_row",thread_id:(l||(l=d("I64"))).to_string(i)}})})}var q=m.memo(function(a){var b=a.communityId,e=a.fbGroupId,f=a.isMaximized,g=a.messagingEntrypoint,j=a.mutedUntilMs,o=a.parentSurface,q=a.showGroupsJoinChatDialog,r=a.thread,s=(i||(i=c("useReStore")))();a=c("useMWChatCalculateIsMutedFromExpireTime")(j);j=d("MWPActor.react").useActor();var t=r.threadStatus!=null&&(l||(l=d("I64"))).equal(r.threadStatus,(l||(l=d("I64"))).of_int32(c("ThreadStatus").PAUSED)),u=r.snippetSenderContactId;u=u!=null?(l||(l=d("I64"))).equal(u,j):!1;j=(l||(l=d("I64"))).equal(r.parentThreadKey,(k||(k=d("LSIntEnum"))).ofNumber(0));var v=c("useMWLSThreadIsPinned")(),w=n(c("MWJewelPopoverDialogContext.react")),x=w.setIsOpenForDialog;w=r.hasPendingInvitation||!1;var y=function(){c("promiseDone")(s.runInTransaction(function(a){return c("LSUpdateCommunityChannelDirectInviteStoredProcedure")(c("LSFactory")(a),{channelId:r.threadKey,state:(k||(k=d("LSIntEnum"))).ofNumber(c("FBGroupChatInviteState").DECLINED_BY_RECEIVER)})},"readwrite")),p({communityId:b,event:"invite_declined",groupId:e,parentSurface:o,source:"direct_invite_decline_button",threadId:r.threadKey}),d("cometPushToast").cometPushSimpleToast(h._("__JHASH__tNF5MX9GoB5__JHASH__").toString())};if(w)return m.jsx(c("MWPThreadListItemInviteAddOn.react"),{onAccept:function(a){p({communityId:b,event:"invite_accepted",groupId:e,parentSurface:o,source:"direct_invite_join_button",threadId:r.threadKey});x(g==="jewel");return q(a)},onDecline:y});return f||!j?m.jsx(c("MWThreadAddOnSecondary.react"),{entryPoint:g,isMuted:a,isPaused:t,isPinned:v,isViewerSender:u,lastMessageDeliveryStatusIcon:null,thread:r}):null});function a(a){var b=a.communityId,e=a.fbGroupId,g=a.renderAddOnEnd,h=a.threadKey;a=babelHelpers.objectWithoutPropertiesLoose(a,["communityId","fbGroupId","renderAddOnEnd","threadKey"]);var j=d("Int64Hooks").useMemoInt64(function(){return e},[e]),k=d("Int64Hooks").useMemoInt64(function(){return b},[b]),l=(i||(i=c("useReStore")))(),n=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(l.table("threads"),["threadType","threadStatus","threadKey","snippetSenderContactId","parentThreadKey","hasPendingInvitation","takedownState"]).getKeyRange(h)},[l,h],f.id+":224");if(g!=null)return g();return n==null?null:m.jsx(q,babelHelpers["extends"]({communityId:k,fbGroupId:j,thread:n},a))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWPGetThreadCTA",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";var g=b("$InternalEnum").Mirrored(["VideoCall","VoiceCall"]);function a(a){var b=a==="xma_rtc_missed_video"||a==="xma_rtc_missed_group_video";a=a==="xma_rtc_missed_audio"||a==="xma_rtc_missed_group_audio";return b?g.VideoCall:a?g.VoiceCall:null}c=a;f.ThreadCTA=g;f.getThreadCTA=c}),66);
__d("MWXIconCamera",["MWXSvgIcon","SVGIcon","cr:5426","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=d("MWXSvgIcon").mwxSvgIcon(d("SVGIcon").svgIcon(b("cr:5426")),c("gkx")("23219"));g["default"]=a}),98);
__d("MWXListCellHoverActions.react",["XPlatReactEnvironment","react","react-strict-dom"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={action:{marginStart:"x1i64zmx",$$css:!0},menuButtonContainer:{alignItems:"x6s0dn4",bottom:"x1hgdm3",display:"x78zum5",flexDirection:"x1q0g3np",end:"x84fkku",left:null,right:null,pointerEvents:"x67bb7w",position:"x10l6tqk",top:"x1jl3hli",$$css:!0},visuallyHidden:{height:"xjm9jq1",overflowX:"x6ikm8r",overflowY:"x10wlt62",width:"x1i1rx1s",$$css:!0},visuallyHiddenWeb:{WebkitClipPath:"xqvhz8l",clip:"x1qvwoe0",clipPath:"xd0x92v",$$css:!0}};function a(a){var b=a.children;a=a.hidden;var c=d("XPlatReactEnvironment").isWeb();return i.jsx(d("react-strict-dom").html.div,{role:"gridcell",style:[j.menuButtonContainer,a&&j.visuallyHidden,c&&a&&j.visuallyHiddenWeb],children:Array.isArray(b)?b.filter(function(a){return a!=null}).map(function(a,b){return i.jsx(d("react-strict-dom").html.div,{style:j.action,children:a},b)}):b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXListCellHoverButton.react",["fbt","FocusWithinHandler.react","MWXCircleButton.react","MWXEntryPointPopoverTrigger.react","MWXIconDots3Horizontal","MWXLazyPopoverTrigger.react","react","react-strict-dom"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react")),k=i.useCallback,l={buttonShadow:{backgroundColor:"x9bbmet",borderTopStartRadius:"xzolkzo",borderTopEndRadius:"x12go9s9",borderBottomEndRadius:"x1rnf11y",borderBottomStartRadius:"xprq8jg",boxShadow:"x10xjkym",shadowOpacity:"xpvwwk",$$css:!0}};function a(a){var b=a.label,e=a.onFocusChange,f=a.onHoverChange,g=a.onMenuStateChange,i=a.onPress,m=a.size,n=a.testid,o=k(function(a){g!=null&&g(a)},[g]),p=k(function(a,g,k,n,o){return j.jsx(d("react-strict-dom").html.div,{ref:a,children:j.jsx(c("FocusWithinHandler.react"),{onFocusChange:e,children:function(a){return j.jsx(d("react-strict-dom").html.div,{style:!a&&l.buttonShadow,children:j.jsx(c("MWXCircleButton.react"),{color:"secondary",icon:c("MWXIconDots3Horizontal"),label:b!=null?b:h._("__JHASH__LtCYmN0GXLi__JHASH__"),onHoverIn:function(a){k&&k(a),f&&f(!0)},onHoverOut:function(){n&&n(),f&&f(!1)},onPress:function(){i&&i(),g()},onPressIn:o,size:(a=m)!=null?a:36,testid:void 0,type:"overlay"})})}})})},[e,b,f,i,n,m]);n={align:"middle",fallback:a.popoverFallback,onVisibilityChange:o,popoverProps:a.popoverProps,position:"below"};if(a.popoverTriggerType==="lazy")return j.jsx(c("MWXLazyPopoverTrigger.react"),babelHelpers["extends"]({},n,{popoverResource:a.popoverResource,children:function(a,b){return p(a,b)}}));else{o=n.popoverProps;n=babelHelpers.objectWithoutPropertiesLoose(n,["popoverProps"]);return j.jsx(c("MWXEntryPointPopoverTrigger.react"),babelHelpers["extends"]({},n,{entryPointParams:a.entryPointParams,otherProps:o,popoverEntryPoint:a.popoverEntryPoint,preloadTrigger:"button_aggressive",children:function(a,b,c,d,e,f){return p(a,b,d,e,f)}}))}}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWThreadListItemMoreActions.react",["fbt","I64","JSResourceForInteraction","MWJewelPopoverDialogContext.react","MWPGetThreadCTA","MWPIsThreadUnread","MWThreadListFocusableTable.react","MWXCircleButton.react","MWXIconCamera","MWXIconPhone","MWXListCellHoverActions.react","MWXListCellHoverButton.react","MWXPopoverLoadingState.react","MessageRequestsBulkActionsContext.react","MessengerWebUXLogger","WebUXLoggingSurfaceContextProvider","cr:2580","gkx","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=i||(i=d("react"));e=i;var l=e.useCallback,m=e.useContext,n=e.useMemo,o=c("JSResourceForInteraction")("MWThreadListHoverButtonDropdownMenu.react").__setRef("MWThreadListItemMoreActions.react"),p=c("gkx")("26363");function a(a){a.fbGroupId;var e=a.lastMessageCtaType,f=a.menuButtonVisibilityState,g=a.messagingEntrypoint,i=a.onClose,q=a.selected,r=a.threadKey,s=a.threadType;a=n(function(){return(j||(j=d("I64"))).to_string(r)},[r]);var t=d("MWPIsThreadUnread").useIsThreadUnread(r),u=f[0];f=f[1];var v=f.setMenuBtnFocused,w=f.setMenuBtnHovered,x=f.setMenuOpened;f=m(c("MWJewelPopoverDialogContext.react"));var y=f.setIsOpenForDialog,z=l(function(){if(g==="jewel")return y(!0)},[g,y]),A=c("MessengerWebUXLogger").useInteractionLogger();f=m(c("MessageRequestsBulkActionsContext.react"));f=f.isBulkActionsEditMode;e=d("MWPGetThreadCTA").getThreadCTA(e);return k.jsx(d("MWThreadListFocusableTable.react").MWThreadListFocusableTableCell,{children:k.jsx(d("WebUXLoggingSurfaceContextProvider").WebUXLoggingSurfaceContextProvider,{value:"thread_list_options",children:f?null:k.jsxs(c("MWXListCellHoverActions.react"),{hidden:!u,children:[p&&e!=null?k.jsx(c("MWXCircleButton.react"),{color:"secondary",icon:e===d("MWPGetThreadCTA").ThreadCTA.VideoCall?c("MWXIconCamera"):c("MWXIconPhone"),label:h._("__JHASH__TF6qbw6BiBY__JHASH__"),size:32,type:"overlay"}):null,k.jsx(c("MWXListCellHoverButton.react"),{onFocusChange:v,onHoverChange:w,onMenuStateChange:function(a){z();a&&(b("cr:2580")&&b("cr:2580")({threadKey:r,threadType:s},"open_thread_settings_menu",g),A==null?void 0:A({eventName:"open_thread_overflow_menu",threadKey:r,threadType:s}));return x(a)},popoverFallback:k.jsx(c("MWXPopoverLoadingState.react"),{withArrow:!0}),popoverProps:{fbid:a,isUnread:t,messagingEntrypoint:g,onCloseJewel:i,selected:q,threadKey:r},popoverResource:o,popoverTriggerType:"lazy",size:c("gkx")("23219")?32:void 0,testid:void 0})]})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("JSSet.bs",[],(function(a,b,c,d,e,f){"use strict";function a(a){return Array.from(a.values())}f.values=a}),66);
__d("MessageRequestsBulkActionsThreadListItem",["ix","CometPressable.react","I64","JSSet.bs","MWPIsThreadUnread","MWXIcon.react","MessageRequestsBulkActionsContext.react","fbicon","react","useMWAriaLabelForThread"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=i||(i=d("react"));b=i;var l=b.useCallback,m=b.useContext,n=b.useEffect,o={checkboxWrapper:{paddingEnd:"x1sxyh0",$$css:!0},pressableContent:{borderTopStartRadius:"x1lq5wgf",borderTopEndRadius:"xgqcy7u",borderBottomEndRadius:"x30kzoy",borderBottomStartRadius:"x9jhf4c",display:"x1lliihq",width:"xh8yej3",$$css:!0},selectorWrapper:{alignItems:"x6s0dn4",display:"x78zum5",paddingTop:"xexx8yu",paddingEnd:"x1iji9kk",paddingBottom:"x18d9i69",paddingStart:"x1sln4lm",$$css:!0},threadItemContainerEditMode:{flexGrow:"x1iyjqo2",minWidth:"xeuugli",pointerEvents:"x47corl",$$css:!0}};function a(a){var b=a.thread;a=a.threadListCell;var e=m(c("MessageRequestsBulkActionsContext.react")),f=e.setBulkActionsUnreadSelectedThreads,g=e.setBulkActionsSelectedThreads,i=e.bulkActionsSelectedThreads,p=(j||(j=d("I64"))).to_string(b.threadKey);e=l(function(){return g(function(a){a=new Set(d("JSSet.bs").values(a));if(a["delete"](p))return a;else return a.add(p)})});n(function(){f(function(a){a=new Set(d("JSSet.bs").values(a));if(d("MWPIsThreadUnread").isThreadUnread(b)&&i.has(p))return a.add(p);else if(d("MWPIsThreadUnread").isThreadUnread(b)){a["delete"](p);return a}else return a})},[i]);var q=i.has(p),r=c("useMWAriaLabelForThread")(b);return k.jsx(c("CometPressable.react"),{"aria-checked":q,"aria-label":r,onPress:e,role:"checkbox",xstyle:function(){return[o.pressableContent]},children:k.jsxs("div",{"aria-hidden":!0,className:"x6s0dn4 x78zum5 xexx8yu x1iji9kk x18d9i69 x1sln4lm",children:[k.jsx("div",{className:"x1sxyh0",children:k.jsx(c("MWXIcon.react"),{color:q?"highlight":"disabled",hideHoverOverlay:!0,icon:q?d("fbicon")._(h("484757"),20):d("fbicon")._(h("659288"),20)})}),k.jsx("div",{className:"x1iyjqo2 xeuugli x47corl",children:a})]})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("getIsSelectedWithoutMouse",[],(function(a,b,c,d,e,f){"use strict";function a(a){return(a==null?void 0:a.clientX)===0&&(a==null?void 0:a.clientY)===0}f["default"]=a}),66);
__d("useFocusChatTabByThreadKey",["MWChatStateActions","MWChatStateV2.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useCallback;function a(){var a=d("MWChatStateV2.react").useDispatch();return i(function(b){a(d("MWChatStateActions").focusTabByThreadKey(b))},[a])}g["default"]=a}),98);
__d("useGroupsCometJoinChatDialog",["GroupsCometJoinChatDialog.entrypoint","I64","Int64Hooks","MWXCardedDialogLoadingState.react","react","useMWCMShouldGoToFullScreenChatHook","useMWXEntryPointDialog"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||(h=d("react")),k=h.useCallback;function l(){return j.jsx(c("MWXCardedDialogLoadingState.react"),{})}l.displayName=l.name+" [from "+f.id+"]";function a(a,b,e,f,g){var h=d("Int64Hooks").useMemoInt64(function(){var c;return{groupID:(i||(i=d("I64"))).to_string((c=b)!=null?c:(i||(i=d("I64"))).zero),threadID:i.to_string(a.threadKey)}},[b,a.threadKey]);h=c("useMWXEntryPointDialog")(c("GroupsCometJoinChatDialog.entrypoint"),h,void 0,l);var j=h[0],m=c("useMWCMShouldGoToFullScreenChatHook")(),n=a.hasPendingInvitation||!1;return k(function(){var a={invited:n,onSuccess:g,parentSurface:e,shouldGoToMessenger:m,surface:f};j(a)},[n,g,e,m,j,f])}g["default"]=a}),98);
__d("MAWGroupInvitesForThread",["LSMessagingThreadTypeUtil","LSThreadBitOffset"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=d("LSMessagingThreadTypeUtil").isSecure(a.threadType),c=d("LSMessagingThreadTypeUtil").isGroup(a.threadType);a=d("LSThreadBitOffset").has(105,a);if(b&&c)return a;else return!1}g.isGroupInviteThread=a}),98);
__d("useMWCMJoinCMThread",["C4GFalcoLoggerDeferred","CommunityMessagingEnableState","I64","Int64Hooks","JSResourceForInteraction","LSCommunityBitOffset","LSFactory","LSIntEnum","LSMailboxType","LSThreadBitOffset","LSVec","LSVerifyThreadViewStoredProcedure","MWCMThreadTypes.react","MWCMisStandAloneCommunity","Promise","ReQL","ThreadStatus","asyncToGeneratorRuntime","cr:7284","emptyFunction","gkx","promiseDone","qex","react","useGroupsCometCMOffboardingEntryPointDialog","useMWNavigation","useMWXLazyDialog","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l,m=(j||d("react")).useState,n=function(a){return(k||(k=d("I64"))).equal(a,(l||(l=d("LSIntEnum"))).ofNumber(18))||(k||(k=d("I64"))).equal(a,(l||(l=d("LSIntEnum"))).ofNumber(21))};function a(a,e){var f=(i||(i=c("useReStore")))(),g=e?d("LSCommunityBitOffset").has(1,e):!1,j=c("useMWXLazyDialog")(c("JSResourceForInteraction")("MWCMPausedChatMemberDialog.react").__setRef("useMWCMJoinCMThread")),o=j[0],p=c("useMWNavigation")();j=m(!1);var q=j[0],r=j[1];j=c("useGroupsCometCMOffboardingEntryPointDialog")(d("Int64Hooks").useMemoInt64(function(){var a;return{groupID:(k||(k=d("I64"))).to_string((a=e==null?void 0:e.fbGroupId)!=null?a:(k||(k=d("I64"))).zero)}},[e==null?void 0:e.fbGroupId]));var s=j[0],t=a.clientThreadKey,u=a.threadKey,v=a.threadType;d("Int64Hooks").useEffectInt64(function(){if(!q)return;n(v)&&(p.openTabOrInbox({clientThreadKey:t,threadKey:u,threadType:v},"inboxThreadList"),r(!1))},[v,t,u,q,p]);return d("Int64Hooks").useCallbackInt64(function(a,i,j,m){c("promiseDone")(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var n,p=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(f.table("threads")).getKeyRange(u)));if(p==null)return;var q=function(){c("promiseDone")(f.runInTransaction(function(a){return c("LSVerifyThreadViewStoredProcedure")(c("LSFactory")(a),{contacts:c("LSVec").ofArray([]),mailboxType:(l||(l=d("LSIntEnum"))).ofNumber(c("LSMailboxType").MESSENGER),threadKey:p.threadKey,threadType:p.threadType})},"readwrite"))},t=d("MWCMThreadTypes.react").isUnjoinedCMThread(p.threadType)&&p.needsAdminApprovalForNewParticipant!==!0&&c("qex")._("71")===!0,v=p.hasPendingInvitation||!1,w=p.threadStatus!=null&&(k||(k=d("I64"))).equal(p.threadStatus,(k||(k=d("I64"))).of_int32(c("ThreadStatus").PAUSED));n=(k||(k=d("I64"))).equal((n=e==null?void 0:e.enableState)!=null?n:(l||(l=d("LSIntEnum"))).ofNumber(c("CommunityMessagingEnableState").ENABLED),(l||(l=d("LSIntEnum"))).ofNumber(c("CommunityMessagingEnableState").DISABLE_REQUESTED));w=!n&&w&&!d("LSThreadBitOffset").has(154,p)&&!v;if(w)return o({thread:p},c("emptyFunction"));if(!n&&t&&j){v=i?i.metaKey||i.ctrlKey||i.shiftKey:!1;q();return j(v)}if(c("gkx")("26355")&&c("MWCMisStandAloneCommunity")(e==null?void 0:e.communityType)){c("promiseDone")(f.runInTransaction(function(a){r(!0);return b("cr:7284")!=null?b("cr:7284")(c("LSFactory")(a),{entryPoint:"",isRequestToJoin:!1,threadKey:p.threadKey}):(h||(h=b("Promise"))).resolve()},"readwrite","ui"));return}if(p.needsAdminApprovalForNewParticipant===!0&&g&&m){d("C4GFalcoLoggerDeferred").logC4GEngagementFalcoEvent({action:"tap",client_extras:{member_join_request_enabled:"1"},community_id:(k||(k=d("I64"))).to_string(p.parentThreadKey),event:"thread_join",parent_surface:"thread_list",source:p.hasPendingInvitation===!0?"direct_invite_join_button":"join_button",surface:"messenger_inbox",thread_id:k.to_string(p.threadKey)});return m()}if(!n)return a();if((e==null?void 0:e.fbGroupId)==null)return;return s({},c("emptyFunction"))})())},[f,e==null?void 0:e.communityType,e==null?void 0:e.enableState,e==null?void 0:e.fbGroupId,g,s,o,u])}g["default"]=a}),98);
__d("useOnPressMWThreadListItem",["fbt","CommunityMessagingEnableState","I64","Int64Hooks","JSResourceForInteraction","LSFactory","LSIntEnum","LSJoinCommunityChannelStoredProcedure","LSMessagingThreadTypeUtil","LSPlatformWaitForTaskCompletion","LSThreadBitOffset","MAWGroupInvitesForThread","MWCMThreadTypes.react","MWPIsThreadUnread","MessengerThreadTakedownState","MessengerWebUXLogger","ReQL","ThreadStatus","asyncToGeneratorRuntime","emptyFunction","getValidMediaURL","promiseDone","useBlockedUserInterstitial","useCommunityFolder","useGroupsCometCMDisabledChatEntryPointDialog","useMWCMJoinCMThread","useMWNavigation","useMWXLazyDialog","useMWXPushErrorToast","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k;function l(a){var e=c("useMWXLazyDialog")(c("JSResourceForInteraction")("MWCMPausedChannelMemberDialog.react").__setRef("useOnPressMWThreadListItem")),f=e[0],g=(k||(k=c("useReStore")))();return d("Int64Hooks").useMemoInt64(function(){return function(){c("promiseDone")(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var b;b=(b=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(g.table("threads")).getKeyRange(a))))!=null?b:{};var e=b.threadName,h=b.threadPictureUrl,i=b.threadPictureUrlExpirationTimestampMs;b=b.threadPictureUrlFallback;if(i==null||h==null||b==null||e==null)return;i=c("getValidMediaURL")(i,h,b);f({threadImageUrl:i,threadTitle:e},c("emptyFunction"))})())}},[g,f,a])}function a(a,e,f,g,m){m===void 0&&(m=!0);var n=(k||(k=c("useReStore")))(),o=c("useMWNavigation")(),p=c("useMWXLazyDialog")(c("JSResourceForInteraction")("MAWGroupInviteDialog.react").__setRef("useOnPressMWThreadListItem")),q=p[0],r=c("useBlockedUserInterstitial")();p=c("useCommunityFolder")(f);var s=c("MessengerWebUXLogger").useInteractionLogger(),t=f.takedownState!=null&&(i||(i=d("I64"))).equal(f.takedownState,(j||(j=d("LSIntEnum"))).ofNumber(c("MessengerThreadTakedownState").GEO_BLOCKED)),u=c("useGroupsCometCMDisabledChatEntryPointDialog")({isGeoBlocked:t,threadID:(i||(i=d("I64"))).to_string(f.threadKey)}),v=u[0];u=l(f.threadKey);var w=u[0],x=c("useMWCMJoinCMThread")(f,p),y=c("useMWXPushErrorToast")();return d("Int64Hooks").useCallbackInt64(function(k,l,p,u){c("promiseDone")(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var b,z=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(n.table("threads")).getKeyRange(f.threadKey)));if(z==null)return;var A=d("MAWGroupInvitesForThread").isGroupInviteThread(z),B=d("LSMessagingThreadTypeUtil").isSocialChannelUnjoined(z.threadType),C=d("MWCMThreadTypes.react").isUnjoinedCMThread(z.threadType),D=d("LSMessagingThreadTypeUtil").isCMSubthread(z.threadType),E=z.threadStatus!=null&&(i||(i=d("I64"))).equal(z.threadStatus,(i||(i=d("I64"))).of_int32(c("ThreadStatus").PAUSED)),F=z.takedownState!=null&&(i||(i=d("I64"))).equal(z.takedownState,(j||(j=d("LSIntEnum"))).ofNumber(c("MessengerThreadTakedownState").TAKEN_DOWN)),G=z.needsAdminApprovalForNewParticipant===!0;b=(i||(i=d("I64"))).equal((b=a)!=null?b:(j||(j=d("LSIntEnum"))).ofNumber(c("CommunityMessagingEnableState").ENABLED),(j||(j=d("LSIntEnum"))).ofNumber(c("CommunityMessagingEnableState").DISABLE_REQUESTED));var H=z.folderName==="inbox"?(j||(j=d("LSIntEnum"))).ofNumber(12):z.folderName==="pending"?(j||(j=d("LSIntEnum"))).ofNumber(29):(j||(j=d("LSIntEnum"))).ofNumber(30),I=d("MWPIsThreadUnread").isThreadUnread(z),J=function(a){var b={clientThreadKey:z.clientThreadKey,isUnread:I,threadKey:z.threadKey,threadType:z.threadType};if(a)return o.openInbox(b,e);o.openTabOrInbox(b,e,u)},K=function(a){r(z.threadKey,z,function(){J(a)},H),p&&p()},L=function(){g==null?void 0:g(!0),c("promiseDone")(c("LSPlatformWaitForTaskCompletion")(n,function(a){return c("LSJoinCommunityChannelStoredProcedure")(c("LSFactory")(a),{entryPoint:"messengerdotcom",isRequestToJoin:G,threadKey:f.threadKey})},"joinCommunityChannel"),function(){K(!1),g==null?void 0:g(!1)},function(){y({title:h._("__JHASH__3PKwp9RcWIR__JHASH__")})})},M=z.hasPendingInvitation||!1;b=!b&&E&&!d("LSThreadBitOffset").has(154,z)&&!M;s==null?void 0:s({eventName:"open_thread",threadKey:z.threadKey,threadType:z.threadType});m||(s==null?void 0:s({eventName:"open_thread_from_mini_list",threadKey:z.threadKey,threadType:z.threadType}));if(F||t)return v({isGeoBlocked:t,threadID:(i||(i=d("I64"))).to_string(z.threadKey)});if(C)return x(l,k,K,L);if(B&&b)return w();A?q({thread:z},c("emptyFunction")):D||K(k.metaKey||k.ctrlKey||k.shiftKey)})())},[n,a,t,x,s,e,r,o,y,g,v,q,w,f.threadKey,m])}g["default"]=a}),98);
__d("usePreloadRoute",["JSScheduler","react","useCometRouterDispatcher","useMWNavigation"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(h||d("react")).useEffect;function a(a,b){var e=c("useMWNavigation")(),f=c("useCometRouterDispatcher")();j(function(){(i||(i=d("JSScheduler"))).scheduleSpeculativeCallback(function(){f!=null&&f.prefetchRouteDefinition(e.getUrlFromThreadKey(a,b))})},[f,e,a,b])}g["default"]=a}),98);
__d("MWThreadListItem.react",["fbt","CometTextWithEntities.react","CurrentEnvironment","I64","Int64Hooks","InteractionTracing.xplat","LSIntEnum","LSMessagingThreadTypeUtil","LSRtcCallState","LSThreadTitle.react","MWCMIsAnyCMThread","MWCMIsThreadBumped","MWCMJewelContext","MWCMThreadTypes.react","MWChatTextTransform","MWIsThreadDisabled","MWPActor.react","MWPIsThreadUnread","MWThreadListConsts","MWThreadListFocusableTable.react","MWThreadListItemAddOnEnd.react","MWThreadListItemMoreActions.react","MWThreadListLastMessage.react","MWThreadPicture.react","MWThreadSnippetForDisplay.react","MWVerticalRhythm","MWXGlimmer.react","MWXListCellPressable.react","MWXSpinner.react","MWXText.react","MessageRequestsBulkActionsContext.react","MessageRequestsBulkActionsThreadListItem","MessengerMuteUtils","MessengerWebEntryPointsUtil","MessengerWebUXLogger","ReQL","ReQLSuspense","XPlatReactEnvironment","emptyFunction","getIsSelectedWithoutMouse","gkx","interaction-tracing-metrics","qex","qpl","react","react-strict-dom","useCloseChatTabByThreadKey","useCommunityFolder","useFocusChatTabByThreadKey","useGroupsCometChatsEngagementImpressionLogger","useGroupsCometJoinChatDialog","useMWNavigation","useMWV2PreloadThread","useMatchViewport","useMenuButtonVisibilityState","useMergeRefs","useOnPressMWThreadListItem","usePreloadRoute","useReStore","useSimpleImpression"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l,m=l||(l=d("react"));b=l;e=b.memo;var n=b.useCallback,o=b.useContext,p=b.useMemo,q=b.useState,r={communityGlimmer:{borderTopStartRadius:"x1lq5wgf",borderTopEndRadius:"xgqcy7u",borderBottomEndRadius:"x30kzoy",borderBottomStartRadius:"x9jhf4c",height:"x170jfvy",width:"x3hqpx7",$$css:!0},listItemContainer:{paddingStart:"xurb0ha",paddingLeft:null,paddingRight:null,paddingEnd:"x1sxyh0",position:"x1n2onr6",$$css:!0},listItemContainerDisabled:{opacity:"xbyyjgo",$$css:!0},listItemContainerForMessengerDotCom:{paddingStart:"x16hj40l",paddingLeft:null,paddingRight:null,paddingEnd:"xsyo7zv",$$css:!0},listItemContainerHiddenContent:{display:"x1lliihq",height:"xqtp20y",overflowX:"x6ikm8r",overflowY:"x10wlt62",width:"xnalus7",$$css:!0},threadBodyGlimmer:{display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",justifyContent:"xl56j7k",$$css:!0},threadSnippetGlimmer:{borderTopStartRadius:"x1lq5wgf",borderTopEndRadius:"xgqcy7u",borderBottomEndRadius:"x30kzoy",borderBottomStartRadius:"x9jhf4c",height:"xlup9mm",width:"xktia5q",$$css:!0},threadTitleGlimmer:{borderTopStartRadius:"x1lq5wgf",borderTopEndRadius:"xgqcy7u",borderBottomEndRadius:"x30kzoy",borderBottomStartRadius:"x9jhf4c",height:"x1qx5ct2",marginBottom:"x1e56ztr",marginTop:"x1k70j0n",width:"x3hqpx7",$$css:!0}};function s(a){var b,e=a.isUnread,g=a.threadKey,h=(i||(i=c("useReStore")))();a=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(h.table("threads"),["threadName","threadType","threadKey","takedownState","lastMessageCtaType","ongoingCallState","eventEndTimestampMs","eventStartTimestampMs","snippet","snippetText","threadStatus","lastActivityTimestampMs","hasPendingInvitation"]).getKeyRange(g)},[h,g],f.id+":138");if(a==null)return null;var l=d("MWCMThreadTypes.react").isUnjoinedCMThread(a.threadType);b=(b=c("gkx")("26362"))!=null?b:!1;return a.threadName==null&&c("MWCMIsAnyCMThread")(a.threadType)?m.jsx(d("react-strict-dom").html.div,{style:r.threadBodyGlimmer,children:m.jsx(c("MWXGlimmer.react"),{index:2,xstyle:r.threadSnippetGlimmer})}):m.jsx(c("MWThreadListLastMessage.react"),{hasOngoingCall:!(j||(j=d("I64"))).equal(a.ongoingCallState,(k||(k=d("LSIntEnum"))).ofNumber(c("LSRtcCallState").NO_ONGOING_CALL)),isUnread:e,lastMessageTimestamp:(j||(j=d("I64"))).to_float(a.lastActivityTimestampMs),showSnippetText:l&&(a==null?void 0:a.hasPendingInvitation)!==!0&&b,showTimestamp:!l,snippet:m.jsx(c("MWThreadSnippetForDisplay.react"),{thread:a}),thread:a})}s.displayName=s.name+" [from "+f.id+"]";function t(a){var b=a.threadKey,e=(i||(i=c("useReStore")))();a=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(e.table("threads"),["threadName","threadType","threadKey"]).getKeyRange(b)},[e,b],f.id+":192");return a==null?null:a.threadName==null&&c("MWCMIsAnyCMThread")(a.threadType)?m.jsx(d("react-strict-dom").html.div,{style:r.threadBodyGlimmer,children:m.jsx(c("MWXGlimmer.react"),{index:1,xstyle:r.threadTitleGlimmer})}):m.jsx(c("LSThreadTitle.react"),{thread:a})}t.displayName=t.name+" [from "+f.id+"]";function a(a){var b=a.hideMoreActions;b=b===void 0?!1:b;var e=a.lsEntryPoint,f=a.messagingEntrypoint,g=a.onClose,i=g===void 0?c("emptyFunction"):g,l=a.onPress,u=a.onPressOverride;g=a.onThreadJoined;g=g===void 0?c("emptyFunction"):g;var v=a.onThreadSelected,w=v===void 0?c("emptyFunction"):v;v=a.parentSurface;var x=v===void 0?"channel_list":v,y=a.renderAddOnEnd,z=a.renderThreadPhoto,A=a.renderThreadSubtitle,B=a.renderThreadTitle;v=a.responsive;var C=a.selected;a.size;var D=a.thread,aa=d("MWPActor.react").isAPPlus();a=o(c("MWCMJewelContext"));var E=a.selectedFolderTab;a=c("MessengerWebUXLogger").useImpressionLoggerRef({eventName:"threadlist_item_impression"});var F=c("useCloseChatTabByThreadKey")(),G=c("useFocusChatTabByThreadKey")(),H=q(!1),I=H[0],J=H[1],K=p(function(){if(!c("MWCMIsThreadBumped")(D))return!1;if(c("CurrentEnvironment").messengerdotcom||!d("XPlatReactEnvironment").isWeb())return x==="channel_list";return e==="jewel"?(j||(j=d("I64"))).equal(E,j.of_int32(0)):e!=="inboxThreadList"},[D,x,E,e]),L=d("Int64Hooks").useMemoInt64(function(){var a;return(a=z)!=null?a:function(){return m.jsx(c("MWThreadPicture.react"),{badgeSize:c("gkx")("23219")?10:14,photoSize:c("gkx")("23219")?48:56,threadKey:D.threadKey,withCommunityPicture:K})}},[K,z,D.threadKey]),ba=d("Int64Hooks").useMemoInt64(function(){var a;return(a=B)!=null?a:function(){return m.jsx(t,{threadKey:D.threadKey})}},[B,D.threadKey]),M=c("MWIsThreadDisabled")(D.takedownState),N=d("MWPIsThreadUnread").useIsThreadUnread(D.threadKey)&&!M,ca=d("Int64Hooks").useMemoInt64(function(){var a;return(a=A)!=null?a:function(){return m.jsx(s,{isUnread:N,threadKey:D.threadKey})}},[N,A,D.threadKey]),O=c("useCommunityFolder")(D),da=d("Int64Hooks").useCallbackInt64(function(){if(c("CurrentEnvironment").messengerdotcom||!d("XPlatReactEnvironment").isWeb())return null;if(d("LSMessagingThreadTypeUtil").isDiscoverablePublicBroadcastChannel(D.threadType)&&!aa){var a;a=(a=c("qex")._("178"))!=null?a:!1;return a?m.jsxs(m.Fragment,{children:[m.jsx(c("MWXText.react"),{align:"start",color:"secondary",numberOfLines:1,type:"meta3",children:h._("__JHASH__81ztyGgB9FW__JHASH__")}),m.jsx(c("MWVerticalRhythm"),{height:8})]}):null}if(!c("MWCMIsAnyCMThread")(D.threadType))return null;return(O==null?void 0:O.name)==null?m.jsxs(m.Fragment,{children:[m.jsx(c("MWXGlimmer.react"),{index:1,xstyle:r.communityGlimmer}),m.jsx(c("MWVerticalRhythm"),{height:8})]}):m.jsxs(m.Fragment,{children:[m.jsx(c("MWXText.react"),{align:"start",color:"secondary",numberOfLines:1,type:"meta3",children:O==null?void 0:O.name}),m.jsx(c("MWVerticalRhythm"),{height:8})]})},[O==null?void 0:O.name,D.threadType]);c("useSimpleImpression")(function(){var a=d("LSMessagingThreadTypeUtil").isSecure(D.threadType),b=d("interaction-tracing-metrics").InteractionTracingMetricsCore.currentInteractionLogger();return b.addMetadata("hasSecureThread",a?1:0)});H=c("useGroupsCometChatsEngagementImpressionLogger")({community_id:(j||(j=d("I64"))).to_string(D.parentThreadKey),event:"bumped_chat_rendered",group_id:O?(j||(j=d("I64"))).to_string(O.fbGroupId):void 0,parent_surface:e==="jewel"?"jewel_inbox":"chats_inbox",source:"unknown",surface:"messenger_inbox",thread_id:j.to_string(D.threadKey)});var P=d("LSMessagingThreadTypeUtil").isSecure(D.threadType),ea=c("useMWNavigation")();v=c("gkx")("24056")?!1:v;var Q=c("useMatchViewport")("min","width",d("MWThreadListConsts").minimumPixelsNeededForMaxDisplay)||!v;v=d("MWCMThreadTypes.react").isUnjoinedCMThread(D.threadType);var R=e==="jewel"&&c("qex")._("208")===!0,fa=D.hasPendingInvitation===!0&&c("qex")._("71")===!0&&D.needsAdminApprovalForNewParticipant!==!0,ga=p(function(){return d("MessengerMuteUtils").calcMuteUntilMs(D)},[D]),S=c("useMenuButtonVisibilityState")(!0),T=S[1].setListItemHovered,ha=c("MWCMIsAnyCMThread")(D.threadType),U=j.equal(D.parentThreadKey,(k||(k=d("LSIntEnum"))).ofNumber(0)),ia=M?!1:U?Q:!(v||b);v=n(function(){return T(!1)},[T]);b=n(function(){return T(!0)},[T]);P=c("useMWV2PreloadThread")(D.threadKey,P);var ja=P[0],ka=P[1],la=P[2];P=p(function(){if(O!=null&&ha)return[O.fbGroupId,O.folderId,O.enableState];else return[void 0,void 0,void 0]},[ha,O]);var V=P[0],ma=P[1];P=P[2];var W=o(c("MessageRequestsBulkActionsContext.react"));W=W.isBulkActionsEditMode;c("usePreloadRoute")(D.threadKey,D.threadType);var na=!M&&!(K||!c("MWCMIsAnyCMThread")(D.threadType)||d("MessengerWebEntryPointsUtil").getEntryPointShouldOverrideThreadSnippetRemoval(e)),X=q(!1),Y=X[0];X=X[1];var Z=c("useOnPressMWThreadListItem")(P,e,D,X,Q),$=c("useGroupsCometJoinChatDialog")(D,V,x,"messenger_inbox",g),oa=d("Int64Hooks").useMemoInt64(function(){return M||fa?void 0:m.jsx(c("MWThreadListItemAddOnEnd.react"),{communityId:ma,fbGroupId:V,isMaximized:Q,messagingEntrypoint:f,mutedUntilMs:ga,parentSurface:x,renderAddOnEnd:y,showGroupsJoinChatDialog:function(a){return Z(a,$,i)},threadKey:D.threadKey})},[ma,fa,V,Q,M,f,ga,i,Z,x,y,$,D.threadKey]);P=d("Int64Hooks").useMemoInt64(function(){var a=D.additionalThreadContext!=null?m.jsxs(m.Fragment,{children:[m.jsx(c("MWXText.react"),{align:"start",color:"secondary",numberOfLines:1,type:"meta4",children:m.jsx(c("CometTextWithEntities.react"),{text:D.additionalThreadContext,transforms:d("MWChatTextTransform").epdTextTransforms})}),m.jsx(c("MWVerticalRhythm"),{height:8})]}):null,b=h._("__JHASH___pGoCDzgM84__JHASH__"),e=m.jsx(c("MWXSpinner.react"),{color:"disabled",size:24});return m.jsx(c("MWXListCellPressable.react"),{addOnEnd:Y?e:oa,addOnStart:L(),"aria-current":C?"page":!1,content:m.jsxs(d("react-strict-dom").html.div,{style:Q||!U?void 0:r.listItemContainerHiddenContent,children:[a,da(),m.jsx(c("MWXText.react"),{align:"start",color:"primary",numberOfLines:1,type:N?"headlineEmphasized4":"headline4",children:ba()}),d("MWCMThreadTypes.react").isJoinedCMThread(D.threadType)&&na?null:m.jsxs(m.Fragment,{children:[m.jsx(c("MWVerticalRhythm"),{height:8}),Y?m.jsx(c("MWXText.react"),{type:"entityHeaderMeta3",children:b}):ca()]})]}),disabled:Y,linkProps:M?void 0:{preventLocalNavigation:!0,url:ea.getUrlFromThreadKey(D.threadKey,D.threadType)},onHoverIn:ja,onHoverOut:function(){I&&F!=null&&R===!0&&(F(Date.now(),D.threadKey,"hover_out"),J(!1)),ka()},onPress:function(a){var b=c("qpl")._(30605361,"6204");c("InteractionTracing.xplat").getPendingInteractions().forEach(function(a){var c;((c=a.getTrace())==null?void 0:c.qplEvent)===b&&((c=a.getTrace())==null?void 0:c.tracePolicy)==="comet.jewel.messenger"&&a.cancelTrace("thread_click",!0)});var d=c("getIsSelectedWithoutMouse")(a);u!=null?u==null?void 0:u(a):(l==null?void 0:l(a,D),G!=null&&!d&&R?(i(),J(!1),G(D.threadKey)):Z(a,$,i));J(!0);w()},onPressIn:function(a){u==null&&R&&(J(!0),Z(a,$,c("emptyFunction"),!0)),la(a)},selected:C,size:"large"})},[oa,F,R,G,U,Y,Q,M,na,N,ea,i,l,Z,u,w,ja,ka,la,da,L,ca,ba,C,I,$,D]);X=d("Int64Hooks").useMemoInt64(function(){return ia?m.jsx(c("MWThreadListItemMoreActions.react"),{fbGroupId:V,lastMessageCtaType:D.lastMessageCtaType,menuButtonVisibilityState:S,messagingEntrypoint:f,onClose:i,selected:C,threadKey:D.threadKey,threadType:D.threadType}):null},[V,S,f,i,C,ia,D.lastMessageCtaType,D.threadKey,D.threadType]);g=c("useMergeRefs")(a,K?H:null);return m.jsx(d("react-strict-dom").html.div,{"data-testid":void 0,ref:g,children:m.jsx(d("react-strict-dom").html.div,{"data-testid":void 0,onMouseEnter:b,onMouseLeave:v,role:"row",style:[r.listItemContainer,M?r.listItemContainerDisabled:!1,c("gkx")("23219")?r.listItemContainerForMessengerDotCom:!1],children:m.jsxs(d("MWThreadListFocusableTable.react").MWThreadListFocusableTableRow,{children:[m.jsx(d("MWThreadListFocusableTable.react").MWThreadListFocusableTableCell,{children:m.jsx(d("react-strict-dom").html.div,{role:"gridcell",children:W?m.jsx(c("MessageRequestsBulkActionsThreadListItem"),{thread:D,threadListCell:P}):P})}),X]})})})}a.displayName=a.name+" [from "+f.id+"]";b=e(a);g["default"]=b}),98);
__d("MWThreadListFolderItem.react",["BaseView.react","CometTextWithEntities.react","I64","MAWVault","MWAddOnCircleContainer.react","MWCMThreadTypes.react","MWChatTextTransform","MWPIsThreadUnread","MWThreadListFocusableTable.react","MWThreadListLastMessage.react","MWXListCellPressable.react","MWXTextPairing.react","react","useMatchMedia"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||(h=d("react"));b=h;var k=b.useCallback,l=b.useMemo;function a(a){var b=a.icon,e=a.onClick,f=a.responsive,g=a.selected,h=a.size;a.systemFolder;var m=a.thread,n=a.threadName;a=c("useMatchMedia")("(min-width: 900px)")||!f;f=l(function(){return m.snippet!=null?d("MAWVault").unvault(m.snippet):null},[m]);var o=(i||(i=d("I64"))).to_float(m.lastActivityTimestampMs),p=d("MWPIsThreadUnread").useIsThreadUnread(m.threadKey),q=l(function(){return j.jsx(c("MWAddOnCircleContainer.react"),{size:h,children:b})},[b,h]),r=l(function(){var a;return(a=n)!=null?a:m.threadName},[m.threadName,n]),s=k(function(){return e()},[e]);return j.jsx(c("BaseView.react"),{testid:void 0,children:j.jsx(d("MWThreadListFocusableTable.react").MWThreadListFocusableTableRow,{children:j.jsx("div",{role:"row",children:j.jsx(d("MWThreadListFocusableTable.react").MWThreadListFocusableTableCell,{children:j.jsx("div",{className:"xurb0ha x1sxyh0",role:"gridcell",children:j.jsx(c("MWXListCellPressable.react"),{addOnStart:q,content:j.jsx(c("MWXTextPairing.react"),{body:a?j.jsx(c("MWThreadListLastMessage.react"),{hasOngoingCall:!1,isUnread:p,lastMessageTimestamp:o,showTimestamp:!d("MWCMThreadTypes.react").isUnjoinedCMThread(m.threadType),snippet:f}):null,bodyLineLimit:1,headline:a?j.jsx(c("CometTextWithEntities.react"),{text:r.toString(),transforms:d("MWChatTextTransform").epdTextTransforms}):null,headlineLineLimit:1,level:4,reduceEmphasis:!p}),onPress:s,selected:g,size:"large"})})})})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWThreadListJobsItem.react",["fbt","ix","LSIntEnum","MWThreadListFolderItem.react","MWXIcon.react","fbicon","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k,l=j||d("react");function a(a){var b=a.onClick,e=a.responsive,f=a.selected,g=a.size;a=a.thread;var j=function(){return b((k||(k=d("LSIntEnum"))).ofNumber(-13))};return l.jsx(c("MWThreadListFolderItem.react"),{icon:l.jsx(c("MWXIcon.react"),{color:"primary",icon:d("fbicon")._(i("512668"),32),size:48}),onClick:j,responsive:e,selected:f,size:g,systemFolder:(k||(k=d("LSIntEnum"))).ofNumber(-13),thread:a,threadName:h._("__JHASH__fyt3EBzeQRx__JHASH__").toString()})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWThreadList.react",["CometHideableComponentExperiment.react","CometPlaceholder.react","CurrentEnvironment","FocusRegion.react","GroupsCometChatsEngagementLogger","I64","Int64Hooks","LSIntEnum","MWCMIsThreadBumped","MWJewelPopoverThreadlistContext.react","MWLSJewelMessageRequestsThreadContainer.react","MWPBaseThreadList.react","MWPBumpEntityKey","MWPThreadIsPage.react","MWPThreadsForThreadList","MWResponsiveLayoutConstants","MWResponsiveLayoutContext.react","MWThreadKey.react","MWThreadListEmptyContainer.react","MWThreadListGlimmer.react","MWThreadListItem.react","MWThreadListJobsItem.react","MWThreadListSupportedThreadTypes","MWXacGating","MessengerWebUXLogger","ReQL","ReQLSuspense","cr:2261","cr:4716","cr:6055","emptyFunction","gkx","isMWXacGroupThread","qex","react","useCommunityFolder","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=i||(i=d("react"));e=i;var m=e.useCallback,n=e.useContext,o=e.useId,p=b("cr:6055")||c("emptyFunction"),q=l.memo(function(a){var e=a.lsEntryPoint,f=a.messagingEntrypoint,g=a.onClickNestedFolderThread,h=a.onClose,i=a.responsive,m=a.selected,o=a.thread,p=n(c("MWJewelPopoverThreadlistContext.react")),q=c("useCommunityFolder")(o);a=n(c("MWResponsiveLayoutContext.react"));var r=a.pushCard,s=o.threadKey;d("Int64Hooks").useEffectInt64(function(){if(b("cr:2261")==null)return;p==null?void 0:p.add(s);return function(){p==null?void 0:p["delete"](s)}},[p,s]);a=d("Int64Hooks").useCallbackInt64(function(){c("MWCMIsThreadBumped")({secondaryParentThreadKey:o.secondaryParentThreadKey,threadType:o.threadType})&&d("GroupsCometChatsEngagementLogger").log({action:"tap",client_extras:{is_bumped:"true"},community_id:q?(j||(j=d("I64"))).to_string(q.folderId):(j||(j=d("I64"))).to_string(o.parentThreadKey),event:"thread_open",group_id:q?(j||(j=d("I64"))).to_string(q.fbGroupId):null,source:"chat_row",surface:e==="jewel"?"jewel_tray":"messenger_inbox",thread_id:(j||(j=d("I64"))).to_string(s)}),c("gkx")("24056")&&m&&r(d("MWResponsiveLayoutConstants").MWLayoutPanel.MESSAGE_LIST_PANEL)},[o.secondaryParentThreadKey,o.threadType,o.parentThreadKey,q,e,s,m,r]);if((j||(j=d("I64"))).equal(o.threadType,(k||(k=d("LSIntEnum"))).ofNumber(6))){if((j||(j=d("I64"))).equal(s,(k||(k=d("LSIntEnum"))).ofNumber(-13)))return l.jsx(c("MWThreadListJobsItem.react"),{onClick:g,responsive:i,selected:m,size:56,thread:o});else if(b("cr:2261")!=null&&(j||(j=d("I64"))).equal(s,(k||(k=d("LSIntEnum"))).ofNumber(-12)))return l.jsx(b("cr:2261"),{onClick:g,responsive:i,selected:m,size:56,thread:o});return null}return l.jsx(c("CometPlaceholder.react"),{fallback:l.jsx(c("MWThreadListGlimmer.react"),{parentComponentForDebug:"MWThreadListItem"}),children:l.jsx(d("MWPThreadIsPage.react").Provider,{threadKey:o.threadKey,children:l.jsx(d("MWThreadKey.react").MWThreadKeyProvider,{id:o.threadKey,children:l.jsx(c("MWThreadListItem.react"),{lsEntryPoint:e,messagingEntrypoint:f,onClose:h,onThreadSelected:a,responsive:i,selected:m,size:56,thread:o})})})})});function a(a){var e=a.gridLabel,g=a.header,i=a.lsEntryPoint,n=a.onOpenMessageRequests,r=a.parentThreadKey,s=a.responsive,t=a.selectedThreadKey,u=a.setHasScrolled,v=a.setIsEmptyInbox,w=a.threadListMessagingEntrypoint,x=a.onClose,y=x===void 0?c("emptyFunction"):x;x=a.onClickNestedFolderThread;var z=x===void 0?c("emptyFunction"):x;x=a.preamble;var A=(h||(h=c("useReStore")))(),B=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(A.tables.threads_ranges_v2__generated).getKeyRange(r)},[A,r],f.id+":232"),C=d("ReQLSuspense").useArray(function(){return d("MWPThreadsForThreadList").createIterable(A,r,B,["lastActivityTimestampMs","threadType","capabilities","capabilities2","capabilities3","capabilities4"]).filter(function(a){if(!c("MWThreadListSupportedThreadTypes").some(function(b){return(j||(j=d("I64"))).equal(a.threadType,b)}))return!1;return d("MWXacGating").isGroupsEnabled()?!0:!c("isMWXacGroupThread")(a)}).take(5)},[A,r,B],f.id+":242").pop();a=o();var D=d("ReQLSuspense").useFirst(function(){return t!=null?d("ReQL").fromTableAscending(A.tables.threads,["parentThreadKey"]).getKeyRange(t):d("ReQL").empty()},[A,t],f.id+":270");p(a);var E=m(function(a){var b;if(a==null)return l.jsx("div",{});if(d("CurrentEnvironment").facebookdotcom&&c("MWCMIsThreadBumped")({secondaryParentThreadKey:a.secondaryParentThreadKey,threadType:a.threadType})&&c("qex")._("606"))return l.jsx("div",{});var e;(j||(j=d("I64"))).equal(a.threadKey,(k||(k=d("LSIntEnum"))).ofNumber(-13))||(j||(j=d("I64"))).equal(a.threadKey,(k||(k=d("LSIntEnum"))).ofNumber(-12))?e=D!=null&&(j||(j=d("I64"))).equal(a.threadKey,D.parentThreadKey):e=t!=null&&(j||(j=d("I64"))).equal(t,a.threadKey);return a!=null?l.jsx(c("CometHideableComponentExperiment.react"),{callingSurface:"thread_list",disableHidding:!0,children:l.jsx(q,{lsEntryPoint:i==="inboxThreadList"?C!=null&&(j||(j=d("I64"))).le(a.lastActivityTimestampMs,C.lastActivityTimestampMs)?"inboxRecentThreads":"inboxRemainingThreads":i,messagingEntrypoint:(b=w)!=null?b:"jewel",onClickNestedFolderThread:z,onClose:y,responsive:s,selected:e,thread:a})}):l.jsx("div",{})},[i,C,w,z,y,s,D,t]),F=b("cr:4716")==null?null:l.jsx(b("cr:4716"),{renderItem:E}),G=m(function(a){u&&u(function(b){return a.scrollTop>0})},[u]),H=c("MessengerWebUXLogger").useImpressionLoggerRef({eventName:"threadlist_impression"});return l.jsx("div",{className:"x78zum5 xdt5ytf x1iyjqo2 x6ikm8r x10wlt62",id:a,ref:H,children:l.jsx(c("MWPBaseThreadList.react"),{beforeContent:l.jsxs(l.Fragment,{children:[g!=null?l.jsx(d("FocusRegion.react").FocusRegion,{children:g}):null,l.jsx(c("MWLSJewelMessageRequestsThreadContainer.react"),{onOpenMessageRequests:n}),x,F]}),emptyContent:l.jsx(c("MWThreadListEmptyContainer.react"),{parentThreadKey:r}),gridLabel:e,onLoadMoreThreads:function(){return d("MWPBumpEntityKey").bumpEntityKeyWithAppId("mw.threadlist","load_more_threads")},onScroll:G,pageSize:c("gkx")("24116")?5:15,parentThreadKey:r,renderItem:E,renderLoadingAnimation:function(){return l.jsx(c("MWThreadListGlimmer.react"),{numberOfItems:2,parentComponentForDebug:"MWThreadListLoadingAnimation"})},setIsEmptyInbox:v})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWJewelNestedFolderThreadList.react",["CometScrollView.react","CometTopNavListDropdown.react","MWJewelNestedFolderThreadListHeader.react","MWThreadList.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.folder,d=a.onClose,e=a.onReturn;a=a.title;return i.jsx(c("CometTopNavListDropdown.react").Card,{useMaxHeight:!0,children:i.jsxs(c("CometScrollView.react"),{showsHorizontalScrollIndicator:!1,showsVerticalScrollIndicator:!0,children:[i.jsx(c("MWJewelNestedFolderThreadListHeader.react"),{onReturn:e,title:a}),i.jsx(c("MWThreadList.react"),{gridLabel:typeof a==="string"?a:a.toString(),lsEntryPoint:"jewelNestedFolder",onClose:d,parentThreadKey:b,responsive:!1}),i.jsx("div",{className:"x1qx5ct2"})]})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useInteractionIDWithInheritance",["InteractionTracingMetrics"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){var d,e;d=a==null?null:(d=c("InteractionTracingMetrics").get(a))==null?void 0:d.start;e=b==null?null:(e=c("InteractionTracingMetrics").get(b))==null?void 0:e.start;if(b!=null&&(a==null||d==null||d!=null&&e!=null&&d<e))return b;else return a}g["default"]=a}),98);
__d("useMWChatSearchClearSearchResults",["LSClearTablesStoredProcedure","LSFactory","promiseDone","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(i||d("react")).useCallback;function a(){var a=(h||(h=c("useReStore")))();return j(function(){c("promiseDone")(a.runInTransaction(function(a){return c("LSClearTablesStoredProcedure")(c("LSFactory")(a))},"readwrite"))},[a])}g["default"]=a}),98);
__d("CometMessagingJewelDropdownContent.react",["fbt","CometErrorBoundary.react","CometHeroInteractionIDContext","CometHeroInteractionWithDiv.react","CometMessagingJewelCommunitiesQPBannerContainer.react","CometMessagingJewelDropdownContent_query.graphql","CometMessagingJewelDropdownQPBannerContainer.react","CometPagelet.react","CometPlaceholder.react","CometRelay","CometSettingsListDropdownLoadingState.react","CometTopNavListDropdown.react","CometTransientDialogProvider.react","FBLogger","I64","InteractionTracing","JSResourceForInteraction","LSContactBitOffset","LSIntEnum","LSPlatformErrorsCatcher.react","MWCMJewelContext","MWInboxContextSwitcherGlimmer.react","MWInboxQuickPromotionWrapper.react","MWJewelDropdownHeader.react","MWJewelMessengerAppLinkV2.react","MWJewelNestedFolderThreadList.react","MWJewelPopoverDialogContext.react","MWThreadList.react","ODS","ReQL","ReQLSuspense","WebUXLoggingEntryPointContextProvider","XCometMessengerControllerRouteBuilder","cr:3049","cr:3142","cr:3147","cr:3368","cr:4274","cr:5560","cr:5573","cr:7257","deferredLoadComponent","gkx","lazyLoadComponent","qpl","react","recoverableViolation","requireDeferredForDisplay","useInteractionIDWithInheritance","useMWChatSearchClearSearchResults","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l,m,n,o=n||(n=d("react"));e=n;var p=e.memo,q=e.useCallback,r=e.useContext,s=e.useEffect,t=e.useRef,u=(e=(e=(e=(e=(e=(e=b("cr:3049"))!=null?e:b("cr:3142"))!=null?e:b("cr:3147"))!=null?e:b("cr:4274"))!=null?e:b("cr:5560"))!=null?e:b("cr:7257"))!=null?e:b("cr:5573"),v=c("deferredLoadComponent")(c("requireDeferredForDisplay")("MWInboxContextSwitcherCond.react").__setRef("CometMessagingJewelDropdownContent.react")),w=c("lazyLoadComponent")(c("JSResourceForInteraction")("MWCMBlendedThreadListV2.react").__setRef("CometMessagingJewelDropdownContent.react")),x=c("lazyLoadComponent")(c("JSResourceForInteraction")("MAWJewelMessageRequestsAndSpamDropdownWithTab.react").__setRef("CometMessagingJewelDropdownContent.react")),y=c("lazyLoadComponent")(c("JSResourceForInteraction")("MWRestrictedAccountsList.react").__setRef("CometMessagingJewelDropdownContent.react")),z=c("lazyLoadComponent")(c("JSResourceForInteraction")("MWJewelArchivedChatsDropdown.react").__setRef("CometMessagingJewelDropdownContent.react")),A=c("lazyLoadComponent")(c("JSResourceForInteraction")("CometMessagingJewelDropdownErrorState.react").__setRef("CometMessagingJewelDropdownContent.react")),B=h._("__JHASH__9FTPnWJWCay__JHASH__");function C(a){c("recoverableViolation")("CometMessagingJewelDropdownQPBannerContainer failed to render","messenger_web_product",{error:a})}var D=c("gkx")("22839")===!0;function E(a){var e=a.ebSoftblockUpsell,g=a.onClose,n=a.pushPage;a=a.query;var p=r(c("MWJewelPopoverDialogContext.react")),A=p.setIsOpenForDialog,E=c("useMWChatSearchClearSearchResults")(),F=q(function(){E(),g()},[g,E]);s(function(){return E},[E]);p=c("XCometMessengerControllerRouteBuilder").buildURL({});var G=r(c("MWCMJewelContext")),H=G.selectedFolderTab,I=G.setSelectedFolderTab;G=r(c("CometHeroInteractionIDContext"));var J=t();G=c("useInteractionIDWithInheritance")(G,J.current);a=d("CometRelay").useFragment(i!==void 0?i:i=b("CometMessagingJewelDropdownContent_query.graphql"),a);var K=(j||(j=c("useReStore")))(),L=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(K.tables._user_info).map(function(a){return a.facebookUserId})},[K],f.id+":178"),M=d("ReQLSuspense").useFirst(function(){return L!=null?d("ReQL").fromTableAscending(K.tables.contacts,["capabilities","capabilities2"]).getKeyRange(L):d("ReQL").empty()},[K,L],f.id+":182"),N=q(function(){var a=c("InteractionTracing").startInteraction({interactionClass:"fast",qplEvent:c("qpl")._(30607516,"756"),tracePolicy:"comet.jewel.message_requests",traceType:"INTERACTION"});n(function(b){b=b.onReturn;b={interactionID:a,onClose:F,onReturn:b};return o.jsx(d("CometPagelet.react").Placeholder,{fallback:o.jsx(c("CometSettingsListDropdownLoadingState.react").InnerGlimmer,{}),name:"MAWJewelMessageRequestsAndSpamDropdownWithTab",children:o.jsx(x,babelHelpers["extends"]({},b))})})},[F,n]),O=q(function(){n(function(a){a=a.onReturn;return o.jsx(y,{hidePage:a,onClose:F})})},[F,n]),P=q(function(){(k||(k=d("ODS"))).bumpEntityKey(3185,"mw_jewel","archived_chats"),n(function(a){a=a.onReturn;return o.jsx(z,{onClose:F,onReturn:a})})},[F,n]),Q=q(function(a){n(function(b){b=b.onReturn;switch((l||(l=d("I64"))).to_int32(a)){case-13:return o.jsx(c("MWJewelNestedFolderThreadList.react"),{folder:a,onClose:F,onReturn:b,title:h._("__JHASH__yJarfmqcRDP__JHASH__")});case-12:var e=M!=null&&d("LSContactBitOffset").has(86,M),f=h._("__JHASH__Yxm-6KVT3xg__JHASH__");e&&(f=h._("__JHASH__Fy0pVeqGAG2__JHASH__"));return o.jsx(c("MWJewelNestedFolderThreadList.react"),{folder:a,onClose:F,onReturn:b,title:f});default:c("FBLogger")("messenger_web_product").mustfix("Attempted to show an unimplemented nested system folder");return null}})},[F,n,M]);P=o.jsxs(o.Fragment,{children:[o.jsx(d("CometPagelet.react").Placeholder,{fallback:null,name:"MWJewelDropdownHeader",children:o.jsx(c("MWJewelDropdownHeader.react"),{inboxUrl:p,onClose:F,onOpenArchivedChats:P,onOpenMessageRequests:N,onOpenRestrictedAccountsList:O,title:B})}),o.jsxs("div",{className:"x1c4vz4f",children:[o.jsx(d("CometPagelet.react").Placeholder,{fallback:null,name:"MWJewelThreadListSearchTypeahead",children:o.jsx(b("cr:3368"),{onClose:F,pushPage:n})})," ",D&&o.jsx(d("CometPagelet.react").Placeholder,{fallback:o.jsx(c("MWInboxContextSwitcherGlimmer.react"),{}),name:"MWInboxContextSwitcher",children:o.jsx(v,{entryPoint:"jewel",onTabChange:function(a){(l||(l=d("I64"))).equal(a,(m||(m=d("LSIntEnum"))).ofNumber(-14))&&(J.current=c("InteractionTracing").startInteraction({interactionClass:"fast",qplEvent:c("qpl")._(30620417,"938"),tracePolicy:"comet.jewel.messenger.communities",traceType:"INTERACTION"})),A(!1),I==null?void 0:I(a)},selectedFolderTab:H})})]}),(l||(l=d("I64"))).equal(H,(m||(m=d("LSIntEnum"))).ofNumber(0))&&e==null?o.jsx(c("MWInboxQuickPromotionWrapper.react"),{onError:C,children:o.jsx(u,{query:a,children:o.jsx(c("CometMessagingJewelDropdownQPBannerContainer.react"),{viewer:a.viewer})})}):null]});return o.jsx(d("CometPagelet.react").Placeholder,{fallback:o.jsx(c("CometSettingsListDropdownLoadingState.react").WithoutPopover,{title:B}),name:"MWJewelDropdownContent",children:o.jsx(d("WebUXLoggingEntryPointContextProvider").WebUXLoggingEntryPointContextProvider,{value:"jewel",children:o.jsx(c("CometHeroInteractionWithDiv.react"),{interactionDesc:"JewelThreadList",interactionUUID:G,children:o.jsx(c("CometTopNavListDropdown.react").Card,{testid:void 0,useFullHeight:D,useMaxHeight:!0,children:e!=null&&(l||(l=d("I64"))).equal(H,(m||(m=d("LSIntEnum"))).ofNumber(0))?o.jsxs(o.Fragment,{children:[P,e]}):o.jsxs(o.Fragment,{children:[D&&(l||(l=d("I64"))).equal(H,(m||(m=d("LSIntEnum"))).ofNumber(-14))?o.jsx(c("CometPlaceholder.react"),{fallback:o.jsxs(o.Fragment,{children:[P,o.jsx(c("CometSettingsListDropdownLoadingState.react").InnerGlimmer,{})]}),children:o.jsx(w,{gridLabel:B.toString(),header:o.jsxs(o.Fragment,{children:[P,o.jsx(c("CometErrorBoundary.react"),{onError:C,children:o.jsx(c("CometPlaceholder.react"),{fallback:null,children:o.jsx(c("CometTransientDialogProvider.react"),{children:o.jsx(c("CometMessagingJewelCommunitiesQPBannerContainer.react"),{messagingEntryPoint:"jewel",onClose:F,viewer:a.viewer})})})})]}),lsEntryPoint:"jewel",messagingEntryPoint:"jewel",onClose:F,responsive:!1,viewer:a.viewer})}):o.jsx(c("MWThreadList.react"),{gridLabel:B.toString(),header:P,lsEntryPoint:"jewel",onClickNestedFolderThread:Q,onClose:F,onOpenMessageRequests:N,parentThreadKey:H,responsive:!1}),o.jsx(c("MWJewelMessengerAppLinkV2.react"),{onClick:F,url:p})]})})})})})}E.displayName=E.name+" [from "+f.id+"]";function a(a){return o.jsx(c("CometErrorBoundary.react"),{fallback:function(a){return o.jsx(A,{error:a})},children:o.jsx(c("LSPlatformErrorsCatcher.react"),{fallback:function(a){return o.jsx(A,{error:a})},children:o.jsx(E,babelHelpers["extends"]({},a))})})}a.displayName=a.name+" [from "+f.id+"]";e=p(a);g["default"]=e}),98);
__d("CometMessagingJewelDropdown.react",["fbt","BaseMultiStepContainer.react","CometMessagingJewelDropdownContent.react","CometMessagingJewelDropdownQuery.graphql","CometRelay","CometTopNavListDropdown.react","cr:6188","react","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=k||d("react");function a(a){var e=a.props.onClose;a=a.queries.jewelQueryRef;var f=d("CometRelay").usePreloadedQuery(i!==void 0?i:i=b("CometMessagingJewelDropdownQuery.graphql"),a);a=l.jsx(c("CometTopNavListDropdown.react"),{label:h._("__JHASH__ptC-BqtItMK__JHASH__"),name:"MWJewelDropdown",children:l.jsx("div",{className:(j||(j=c("stylex")))([c("CometTopNavListDropdown.react").styles.cardWidth]),children:l.jsx(c("BaseMultiStepContainer.react"),{fitContentWidth:!0,children:function(a){return l.jsx(c("CometMessagingJewelDropdownContent.react"),{onClose:e,pushPage:a,query:f})}})})});return b("cr:6188")!=null?l.jsx(b("cr:6188"),{children:a}):a}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatSearchTypeheadActionButtonViewItem.react",["CometSkittleIcon.react","CometTypeaheadViewItem.react","MWXText.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.entry,d=a.icon,e=a.onHighlightEntry,f=a.onPressEntry;a=a.title;d=i.jsx(c("CometSkittleIcon.react"),{color:"gray",icon:d,size:36});return i.jsx("div",{className:"xe8uvvx xexx8yu xsyo7zv x18d9i69 x16hj40l",role:"listbox",children:i.jsx(c("CometTypeaheadViewItem.react"),{entry:b,isActive:!1,itemStartContent:d,onHighlightEntry:e,onPressEntry:f,role:"option",children:i.jsx(c("MWXText.react"),{type:"body3",children:a})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useMWLoggerEntrypoint",["gkx"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=c("gkx")("23433"),d=null;a!==void 0&&(a==="Inbox"?d=b?"messengerdotcom":"fb_groups:comet_www_inbox":a==="ChatTab"?d="fb_groups:comet_www_chat":a==="FullscreenChat"&&(d="fb_groups:comet_www_fullscreen_chat"));return d}g["default"]=a}),98);
__d("MWChatSearchTypeaheadCreateCommunityChatActionButtonViewItem.react",["fbt","$InternalEnum","GroupsCometChatsEngagementLogger","GroupsCometGlobalChatCreationDialog.entrypoint","LSThreadAttributionStore","MWChatSearchTypeheadActionButtonViewItem.react","MWLSThreadDisplayContext","MessengerGroup.svg.react","emptyFunction","react","useGroupsCometChatsEngagementImpressionLogger","useMWLoggerEntrypoint","useMWXEntryPointDialog"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k=b("$InternalEnum")({CHAT_HEAD:"bottom_chat_create",JEWEL:"top_chat_create"});function a(){var a=c("useMWXEntryPointDialog")(c("GroupsCometGlobalChatCreationDialog.entrypoint"),{}),b=a[0],e=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext(),f=c("useMWLoggerEntrypoint")(e);a=d("LSThreadAttributionStore").getSourceForNewThread();var g=a==="chatheadsNewMessage"?k.CHAT_HEAD:a==="jewelNewMessage"?k.JEWEL:null;a=c("useGroupsCometChatsEngagementImpressionLogger")({client_extras:{entry_point:(a=f)!=null?a:"",origin:(a=g)!=null?a:""},event:"community_chat_button_impression",surface:"chat_creation_template_list"});return j.jsx("div",{ref:a,children:j.jsx(c("MWChatSearchTypeheadActionButtonViewItem.react"),{entry:{key:"newCommunityChat",label:"New Community Chat",type:"entry"},icon:c("MessengerGroup.svg.react"),onHighlightEntry:c("emptyFunction"),onPressEntry:function(){var a;b({entrypoint:f!=null?f:void 0,shouldCloseComposeTab:e==="ChatTab",shouldGoToMessenger:e==="Inbox"},function(){});d("GroupsCometChatsEngagementLogger").log({action:"tap",client_extras:{entry_point:(a=f)!=null?a:"",origin:(a=g)!=null?a:""},event:"create_cc_button_clicked",source:"create_cc_button",surface:"chat_creation_template_list"})},title:h._("__JHASH__Wh17zqow6GS__JHASH__")})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWCMLightSpeedChatTabActionViewItems.react",["CometDivider.react","CurrentEnvironment","MWChatSearchTypeaheadCreateCommunityChatActionButtonViewItem.react","cr:6189","gkx","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={divider:{marginTop:"x1xmf6yo",marginEnd:"xktsk01",marginBottom:"x1e56ztr",marginStart:"x1d52u69",$$css:!0}};function a(){var a=c("gkx")("24047")&&!c("CurrentEnvironment").messengerdotcom,d=c("gkx")("24048");d=a||d;return d?i.jsxs(i.Fragment,{children:[a&&i.jsx(c("MWChatSearchTypeaheadCreateCommunityChatActionButtonViewItem.react"),{}),b("cr:6189")&&i.jsx(b("cr:6189"),{}),i.jsx(c("CometDivider.react"),{xstyle:j.divider})]}):null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useMWCMMarkBumpedThreadsSeen",["Int64Hooks","requireDeferred","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i=c("requireDeferred")("MWCMMarkBumpedThreadsSeen").__setRef("useMWCMMarkBumpedThreadsSeen");function a(a){var b=(h||(h=c("useReStore")))();return d("Int64Hooks").useCallbackInt64(function(){i.onReady(function(c){void c.MWCMMarkBumpedThreadsSeen(a,b)})},[b,a])}g["default"]=a}),98);
__d("useHasUnjoinedCMThreads",["LSIntEnum","ReQL","ReQLSuspense","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(){var a=(i||(i=c("useReStore")))();return!!d("ReQLSuspense").useFirst(function(){return d("ReQL").union(d("ReQL").fromTableDescending(a.tables.threads.index("threadTypeLastActivityTimestampMs")).getKeyRange((h||(h=d("LSIntEnum"))).ofNumber(24)),d("ReQL").fromTableDescending(a.tables.threads.index("threadTypeLastActivityTimestampMs")).getKeyRange(h.ofNumber(19)))},[a],f.id+":20")}g["default"]=a}),98);
__d("LSVerifyThreadsActivityStatusImplWeb",["LSIssueNewTaskWithExtraOperations"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return d[0]=new c.Map(),d[0].set("server_mode",a[1]),d[0].set("from_timestamp_ms",a[2]),d[0].set("threads",a[3]),d[0].set("session_id",a[0]),d[1]=c.toJSON(d[0]),c.storedProcedure(b("LSIssueNewTaskWithExtraOperations"),"verify_threads_activity_status",c.i64.cast([0,648]),d[1],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),void 0,c.i64.cast([0,0]))},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("LSVerifyThreadsActivityStatusProxy",["LSVerifyThreadsActivityStatusImplWeb"],(function(a,b,c,d,e,f,g){g["default"]=c("LSVerifyThreadsActivityStatusImplWeb")}),98);
__d("LSVerifyThreadsActivityStatus",["LSVerifyThreadsActivityStatusProxy"],(function(a,b,c,d,e,f,g){f.exports=c("LSVerifyThreadsActivityStatusProxy")}),34);
__d("LSVerifyThreadsActivityStatusStoredProcedure",["LSVerifyThreadsActivityStatus"],(function(a,b,c,d,e,f,g){function a(a,b){var d=[];d[0]=b.sessionId;d[1]=b.serverMode;d[2]=b.fromTimestampMs;d[3]=b.threads;return c("LSVerifyThreadsActivityStatus").apply(void 0,d.concat([a]))}g["default"]=a}),98);
__d("AsyncStorage",["Promise","WebAsyncStorage"],(function(a,b,c,d,e,f,g){"use strict";var h;a={getItem:function(a,d){return new(h||(h=b("Promise")))(function(b,e){c("WebAsyncStorage").getItem(a,function(a,c){d&&d(a,c),a!=null?e(a):b(c)})})},removeItem:function(a,d){return new(h||(h=b("Promise")))(function(b,e){c("WebAsyncStorage").removeItem(a,function(a){d&&d(a),a!=null?e(a):b()})})},setItem:function(a,d,e){return new(h||(h=b("Promise")))(function(b,f){c("WebAsyncStorage").setItem(a,d,function(a){e&&e(a),a!=null?f(a):b()})})}};d=a;g["default"]=d}),98);
__d("MessengerAsyncStorage",["AsyncStorage"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=c("AsyncStorage")}),98);
__d("useMWCMVerifyThreadsActivityStatusOnMountAndFocus",["FBLogger","I64","LSDict","LSFactory","LSVec","LSVerifyThreadsActivityStatusStoredProcedure","MessengerAsyncStorage","MetaConfig","ServerTime","VisibilityAPI","clearInterval","promiseDone","react","setInterval","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;b=i||d("react");var k=b.useCallback,l=b.useEffect,m=b.useMemo,n=b.useRef,o=b.useState,p=1e3*60*60,q=p*3;function r(a){return(j||(j=d("I64"))).add(j.lsl_(j.of_float(a[0]),32),j.of_float(a[1]))}function s(a){return[(j||(j=d("I64"))).to_float(j.lsr_(a,32)),j.to_float(j.and_(a,j.of_int32(4294967295)))]}function a(a,b){var e=(h||(h=c("useReStore")))(),f=n(null),g="__"+a+".fromTimestampMs__",i=s((j||(j=d("I64"))).of_float(d("ServerTime").getMillis()-q));i=o(i);var t=i[0],u=i[1],v=n(t);l(function(){v.current=t},[t]);var w=n(!1),x=m(function(){var b=c("MetaConfig")._("55")?["JOINED_PUBLIC_CHANNELS"]:[],d=c("MetaConfig")._("95")||a==="ContextSwitcher"?["JOINED_COMMUNITY_CHANNELS"]:[];return[].concat(b,d)},[a]),y=k(function(){x.length>0&&c("promiseDone")(c("MessengerAsyncStorage").getItem(g).then(function(a){if(a!=null){var b=JSON.parse(a);b!=null&&c("promiseDone")(e.runInTransaction(function(a){return c("LSVerifyThreadsActivityStatusStoredProcedure")(c("LSFactory")(a),{fromTimestampMs:r(b),serverMode:c("LSVec").ofArray(x),threads:new(c("LSDict"))([])})},"readwrite"))}})["catch"](function(a){c("FBLogger")("messenger_web_product").catching(a).mustfix("Failed to set timestamp for thread activity status")}),function(){w.current=!0;var a=s((j||(j=d("I64"))).of_float(d("ServerTime").getMillis()));c("promiseDone")(c("MessengerAsyncStorage").setItem(g,JSON.stringify(a)),function(){u(a)})})},[e,g,x]),z=k(function(){f.current!=null&&(c("clearInterval")(f.current),f.current=null)},[]),A=k(function(){if(f.current!=null)return;if(c("MetaConfig")._("96")){var a;f.current=c("setInterval")(y,(a=c("MetaConfig")._("43"))!=null?a:p)}},[y]),B=k(function(){var a=d("ServerTime").getMillis()-(j||(j=d("I64"))).to_float(r(v.current));f.current==null&&A();a>=((a=c("MetaConfig")._("43"))!=null?a:p)&&y()},[A,y]),C=k(function(){d("VisibilityAPI").isVisibilityHidden()?z():b&&c("MetaConfig")._("97")&&B()},[z,B,b]);l(function(){var a=null;w.current||(y(),d("VisibilityAPI").canUseVisibilityAPI&&(a=d("VisibilityAPI").onVisibilityChange(C)),A());return function(){a!=null&&d("VisibilityAPI").removeVisibiltyChangeListener(a),f.current!=null&&(c("clearInterval")(f.current),f.current=null)}},[z,B,A,b,y,C])}g["default"]=a}),98);
__d("MWInboxContextSwitcher.react",["fbt","C4GFalcoLoggerDeferred","CometPivotLinkTabs.react","I64","LSFactory","LSIntEnum","MWChatBadgeCountUpdates.react","MWInboxPersistedUIState","MWPBumpEntityKey","Promise","ReQL","ReQLSuspense","cr:7085","promiseDone","react","useHasUnjoinedCMThreads","useMWCMVerifyThreadsActivityStatusOnMountAndFocus","useReStore","useSinglePartialViewImpression"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l,m,n=m||(m=d("react")),o=m.useEffect,p={tabContainer:{paddingStart:"x1swvt13",paddingLeft:null,paddingRight:null,paddingEnd:"x1pi30zi",paddingTop:"x1y1aw1k",paddingBottom:"xwib8y2",$$css:!0}};function a(a){var e=a.entryPoint,g=a.onTabChange,m=a.selectedFolderTab;a.xstyle;var q=(l||(l=c("useReStore")))();c("useMWCMVerifyThreadsActivityStatusOnMountAndFocus")("ContextSwitcher",e==="inbox");o(function(){c("promiseDone")(q.runInTransaction(function(a){return b("cr:7085")!=null?b("cr:7085")(c("LSFactory")(a)):(i||(i=b("Promise"))).resolve()},"readwrite"))},[q]);a=!!d("ReQLSuspense").useFirst(function(){var a=[d("ReQL").fromTableDescending(q.tables.threads.index("threadTypeLastActivityTimestampMs")).getKeyRange((j||(j=d("LSIntEnum"))).ofNumber(23)),d("ReQL").fromTableDescending(q.tables.threads.index("threadTypeLastActivityTimestampMs")).getKeyRange(j.ofNumber(18)),d("ReQL").fromTableDescending(q.tables.threads.index("threadTypeLastActivityTimestampMs")).getKeyRange(j.ofNumber(21))];return d("ReQL").union.apply(void 0,a)},[q],f.id+":88");var r=c("useHasUnjoinedCMThreads")(),s=d("MWInboxPersistedUIState").usePersistedUIState(r,"__MWInboxContextSwitcher.hasViewedSuggestedChats__"),t=s[0],u=s[1];s=d("MWChatBadgeCountUpdates.react").useUnseenThreadCount((j||(j=d("LSIntEnum"))).ofNumber(0));s=s!=null&&s>0;var v=d("MWChatBadgeCountUpdates.react").useHasUnseenCommunityThreads(),w=r&&!t,x=e==="jewel"?"jewel_tray":"messenger_inbox",y=e==="inbox"?"jewel_inbox":"chats_inbox",z=c("useSinglePartialViewImpression")({onImpressionStart:function(){d("C4GFalcoLoggerDeferred").logC4GEngagementFalcoEvent({action:"impression",event:"blended_threadlist_community_tab_rendered",parent_surface:y,source:"blended_threadlist_community_tab",surface:x})}});s=[{folder:j.ofNumber(0),hasNewContentBadge:s,isShown:!0,label:h._("__JHASH__4dBM4WjAtAu__JHASH__"),odsAction:"inbox_tab_click"},{folder:j.ofNumber(-14),hasNewContentBadge:v||w,isShown:a||r,label:h._("__JHASH___yDrE8px4gt__JHASH__"),logClick:function(){d("C4GFalcoLoggerDeferred").logC4GEngagementFalcoEvent({action:"tap",event:"blended_threadlist_community_tab_clicked",parent_surface:y,source:"blended_threadlist_community_tab",surface:x})},odsAction:"communities_tab_click",ref:z}];v=s.filter(function(a){return a.isShown}).map(function(a,b){var c=a.folder;b=a.hasNewContentBadge;a.isShown;var f=a.logClick,h=a.odsAction,i=a.ref;a=babelHelpers.objectWithoutPropertiesLoose(a,["folder","hasNewContentBadge","isShown","logClick","odsAction","ref"]);return babelHelpers["extends"]({},a,{hasNewContentBadge:b,onPress:function(){(k||(k=d("I64"))).equal(c,(j||(j=d("LSIntEnum"))).ofNumber(-14))&&r&&!t&&u(!0),d("MWPBumpEntityKey").bumpEntityKeyWithAppId("mw.contextswitcher."+e,h),f==null?void 0:f(),g(c)},ref:i,selected:(k||(k=d("I64"))).equal(c,m),testid:(k||(k=d("I64"))).equal(c,(j||(j=d("LSIntEnum"))).ofNumber(-14))?"communities_tab":void 0})});return n.jsx(c("CometPivotLinkTabs.react"),{linkType:"deemphasized",tabs:v,tabsContainerStyle:p.tabContainer})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWInboxContextSwitcherCond.react",["cr:8635","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return b("cr:8635")?i.jsx(b("cr:8635"),babelHelpers["extends"]({},a)):null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("mwGroupEntriesForDisplay",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b=new Map();for(var a=a,c=Array.isArray(a),d=0,a=c?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e,f,g;if(c){if(d>=a.length)break;g=a[d++]}else{d=a.next();if(d.done)break;g=d.value}g=g;e=(e=g.rawData.section)!=null?e:"";f=(f=b.get(e))!=null?f:[];f.push(g);b.set(e,f)}return b}f.mwGroupEntriesForDisplay=a}),66);
__d("MWChatSearchLightspeedTypeaheadViewList.react",["MWCMLightSpeedChatTabActionViewItems.react","MWXText.react","getItemRoleFromCompositeRole","mwGroupEntriesForDisplay","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useMemo;function k(a){var b=a.activeEntryKey,d=a.children,e=a.entries,f=a.itemRole;a=a.title;return e!=null&&e.length>0?i.jsxs("li",{className:"xexx8yu xsyo7zv x18d9i69 x16hj40l",children:[a?i.jsx("div",{className:"x1y1aw1k x1sxyh0 xwib8y2 xurb0ha",children:i.jsx(c("MWXText.react"),{type:"entityHeaderMeta1",children:a})}):null,i.jsx("ul",{children:e.map(function(a,c){var e=b===a.key;return d({entry:a,index:c,isActive:e,itemRole:f})})})]}):null}k.displayName=k.name+" [from "+f.id+"]";function a(a){var b=a.showActionItems,e=a.ariaProps,f=a.children,g=a.entries,h=a.highlightedEntry;a=babelHelpers.objectWithoutPropertiesLoose(a,["showActionItems","ariaProps","children","entries","highlightedEntry"]);var l=h!=null?h.key:null;a=j(function(){return d("mwGroupEntriesForDisplay").mwGroupEntriesForDisplay(g)},[g]);var m=c("getItemRoleFromCompositeRole")(e.role);return i.jsxs("ul",{"data-testid":void 0,role:"listbox",children:[b&&i.jsx(c("MWCMLightSpeedChatTabActionViewItems.react"),{}),Array.from(a.entries()).map(function(a){var b=a[0];a=a[1];return i.jsx(k,{activeEntryKey:l,children:f,entries:a,itemRole:m,title:b},b)})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWJewelLightspeedSearchTypeaheadViewList.react",["CometScrollView.react","MWChatSearchLightspeedTypeaheadViewList.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={scroll:{maxHeight:"x1wxkln1",$$css:!0}};function a(a){var b=a.xstyle;a=babelHelpers.objectWithoutPropertiesLoose(a,["xstyle"]);return i.jsx(c("CometScrollView.react"),{showsHorizontalScrollIndicator:!1,xstyle:[j.scroll,b],children:i.jsx(c("MWChatSearchLightspeedTypeaheadViewList.react"),babelHelpers["extends"]({showActionItems:!1},a))})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWJewelSearchEmptyState.react",["fbt","MWXText.react","react","useCometTypeaheadEmptyState"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){a=a.queryString;var b=c("useCometTypeaheadEmptyState")();return b?j.jsxs("div",{className:"xz9dl7a xn6708d xsag5q8 x1ye3gou",children:[j.jsx(c("MWXText.react"),{align:"center",type:"body2",children:h._("__JHASH__kjfZwRT5xYf__JHASH__")}),j.jsx("br",{}),j.jsx(c("MWXText.react"),{align:"center",color:"tertiary",type:"body3",children:h._("__JHASH__vJvyHT-oIpm__JHASH__",[h._param("query",a)])})]}):null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useBaseTypeaheadSubscriptionDataSourceFetchResolverNetwork",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useCallback,j=b.useEffect,k=b.useRef,l=b.useState;function a(a){var b=a.dataSource;a=l(!1);var c=a[0],d=a[1],e=k(null);a=i(function(a){var c,f=a.onResolvePayload;a=a.requestParams;(c=e.current)==null?void 0:c.unsubscribe();e.current=b.fetchNetwork(a).subscribe({complete:function(){d(!1)},error:function(a){d(!1)},next:function(a){return f(a)},start:function(a){d(!0)},unsubscribe:function(){d(!1)}})},[b]);j(function(){return function(){var a;(a=e.current)==null?void 0:a.unsubscribe()}},[]);return[{isLoading:c},a]}g["default"]=a}),98);
__d("useBaseTypeaheadSubscriptionDataSourceFetchResolver",["cometTypeaheadODSLogFetchNetworkEvent","cr:2557","react","recoverableViolation","useBaseTypeaheadSubscriptionDataSourceFetchResolverNetwork","useDebouncedComet"],(function(a,b,c,d,e,f,g){"use strict";var h;e=h||d("react");var i=e.useCallback,j=e.useEffect,k=e.useRef;function a(a,d){var e=a.dataSource,f=a.dataSourceFetchConfigParams;f=f===void 0?{}:f;var g=f.requestFlow;f=f.shouldDebounceNetwork;var h=f===void 0?!0:f,l=a.onResolvePayload;f=c("useBaseTypeaheadSubscriptionDataSourceFetchResolverNetwork")({dataSource:e});a=f[0].isLoading;var m=f[1],n=c("useDebouncedComet")(m),o=i(function(a,b){var d=b.isTraceComplete;b=b.source;try{l(a,{isTraceComplete:d,source:b})}catch(a){c("recoverableViolation")("Failed to resolve fetched payload","search")}return b},[l]),p=k(g),q=i(function(a){o(a,{isTraceComplete:!0,source:a.entries.length>0?"network":"network-no-results"}),c("cometTypeaheadODSLogFetchNetworkEvent")&&c("cometTypeaheadODSLogFetchNetworkEvent")("comet.ta.fetch",!0,1),b("cr:2557")&&b("cr:2557")(["all"],a)},[o]);j(function(){function a(a){a=a.requestParams;var b=a.requestFlow;b!=null&&(p.current=b);b={onResolvePayload:q,requestParams:babelHelpers["extends"]({},a,{requestFlow:p.current})};Boolean(h)?n(b):m(b)}d!=null&&a(d)},[m,n,d,q,h]);return[{isLoading:a}]}g["default"]=a}),98);
__d("useBaseTypeaheadSubscriptionDataSourceFetch",["react","recoverableViolation","useBaseTypeaheadSubscriptionDataSourceFetchResolver"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useCallback,j=b.useState;function a(a){var b=j(null),d=b[0],e=b[1];b=c("useBaseTypeaheadSubscriptionDataSourceFetchResolver")(a,d);a=b[0].isLoading;var f=i(function(a,b){b===void 0&&(b="all"),e({requestParams:a,source:b})},[]);b=i(function(a){a=a||{};var b=a.requestFlow;a=a.source;if(d==null){c("recoverableViolation")("Refetch cannot be called with undefined `fetchParams`","search");return}var e=d.requestParams,g=e.loggingEventTrace;e=babelHelpers.objectWithoutPropertiesLoose(e,["loggingEventTrace"]);g=babelHelpers["extends"]({loggingEventTrace:babelHelpers["extends"]({},g,{sequenceID:String(Date.now())}),requestFlow:b},e);f(g,a)},[f,d]);return[{isLoading:a,source:(a=d==null?void 0:d.source)!=null?a:"all"},f,b]}g["default"]=a}),98);
__d("TypeaheadLoggingFetchRequestFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1880031");b=d("FalcoLoggerInternal").create("typeahead_logging_fetch_request",a);e=b;g["default"]=e}),98);
__d("CometTypeaheadVolumeLoggingProvider",["TypeaheadLoggingFetchRequestFalcoEvent","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h=function(){return Math.random().toString()};a=function(){function a(a){this.$2=null,this.$1=a,this.$2=h()}var b=a.prototype;b.getContext=function(){return this.$1};b.getSessionID=function(){this.$2==null&&c("recoverableViolation")("Logging sessionID requested from "+this.getContext()+" surface does not exist.","search");return this.$2};b.logRequest=function(a){var b={context:this.getContext(),requestType:a,sessionID:this.getSessionID()};c("TypeaheadLoggingFetchRequestFalcoEvent").log(function(){return{fetchRequest:b}})};return a}();g["default"]=a}),98);
__d("useCometTypeaheadVolumeLoggingProvider",["CometTypeaheadVolumeLoggingProvider","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useMemo;function a(a){a===void 0&&(a="UNKNOWN");return i(function(){return new(c("CometTypeaheadVolumeLoggingProvider"))(a)},[a])}g["default"]=a}),98);
__d("CometInternalTypeaheadSubscriptionProvider",["CometInternalTypeaheadEmptyFetchProvider","CometInternalTypeaheadFetchContext","react","useBaseTypeaheadSubscriptionDataSourceFetch","useCometInternalTypeaheadStateDispatcher","useCometTypeaheadVolumeLoggingProvider"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useCallback,k=b.useMemo;function a(a){var b=a.children,d=a.dataSource,e=a.dataSourceFetchConfigParams,f=a.loggingContext,g=a.onFetchEntries_DO_NOT_USE,h=a.traceProvider;a=c("useCometInternalTypeaheadStateDispatcher")();var l=a.dispatchActiveEntries,m=c("useCometTypeaheadVolumeLoggingProvider")(f);a=c("useBaseTypeaheadSubscriptionDataSourceFetch")({dataSource:d,dataSourceFetchConfigParams:e,onResolvePayload:j(function(a,b){var c;a=a.entries;var d=b.isTraceComplete;b=b.source;l((c=a)!=null?c:[]);m.logRequest(o);g&&g(a);h&&!h.isResolved()&&(d&&(b==="cache"&&a.length>=h.getEntriesCountForVisualComplete()?h.setEndReason("max_suggestions_reached"):b==="network"?h.setEndReason("all_queries_completed"):b==="network-no-results"&&h.setEndReason("all_queries_completed_no_network_results"),h.resolve()))},[l,g,h])});f=a[0];var n=f.isLoading,o=f.source,p=a[1],q=a[2];d=k(function(){return{fetch:p,isLoading:n,refetch:q,source:o}},[p,n,q,o]);return i.jsx(c("CometInternalTypeaheadFetchContext").Provider,{value:d,children:i.jsx(c("CometInternalTypeaheadEmptyFetchProvider"),{isLoading:n,source:o,children:b})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("BaseSubscriptionTypeahead.react",["CometHeroInteractionContextPassthrough.react","CometInternalTypeahead.react","CometInternalTypeaheadStateProvider","CometInternalTypeaheadSubscriptionProvider","emptyFunction","react","withCometTypeaheadInputStrategyShouldQueryStringFollowHighlightedEntry"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useCallback,k=b.useId,l=b.useMemo;function a(a){var b=a.autoOpen;b=b===void 0?!1:b;var d=a.autoFocus;d=d===void 0?!1:d;var e=a.isDisabled;e=e===void 0?!1:e;var f=a.errorMessage;f=f===void 0?null:f;var g=a.inputStrategyRenderer,h=a.dataSource,m=a.dataSourceFetchConfigParams,n=a.decorators,o=n===void 0?[]:n;n=a.emptyEntries_DO_NOT_USE;var p=a.id,q=a.label;q=q===void 0?"":q;var r=a.loggingContext,s=a.onBackspace;s=s===void 0?c("emptyFunction"):s;var t=a.onBlur;t=t===void 0?c("emptyFunction"):t;var u=a.onChange,v=a.onClose;v=v===void 0?c("emptyFunction"):v;var w=a.onEnter;w=w===void 0?c("emptyFunction"):w;var x=a.onEscape;x=x===void 0?c("emptyFunction"):x;var y=a.onFetchEntries_DO_NOT_USE,z=a.onFocus;z=z===void 0?c("emptyFunction"):z;var A=a.onOpen;A=A===void 0?c("emptyFunction"):A;var B=a.onPressEntry,C=a.placeholder;C=C===void 0?"":C;var D=a.shouldQueryStringFollowHighlightedEntry,E=D===void 0?!0:D;D=a.shouldQueryStringUpdateFromSelectedEntryOnClick;var F=D===void 0?!0:D;D=a.testid;D=D===void 0?"":D;D=a.traceProvider;var G=a.inputRef,H=a.viewRole;H=H===void 0?"listbox":H;var I=a.viewStrategyRenderer;a=babelHelpers.objectWithoutPropertiesLoose(a,["autoOpen","autoFocus","isDisabled","errorMessage","inputStrategyRenderer","dataSource","dataSourceFetchConfigParams","decorators","emptyEntries_DO_NOT_USE","id","label","loggingContext","onBackspace","onBlur","onChange","onClose","onEnter","onEscape","onFetchEntries_DO_NOT_USE","onFocus","onOpen","onPressEntry","placeholder","shouldQueryStringFollowHighlightedEntry","shouldQueryStringUpdateFromSelectedEntryOnClick","testid","traceProvider","inputRef","viewRole","viewStrategyRenderer"]);var J=k(),K=l(function(){var a=c("CometInternalTypeahead.react");o.forEach(function(b){var c=b.decorate;b=b.params;a=c(a,b)});return a},[o]),L=j(function(a){F&&u(a.label),B&&B(a)},[u,B,F]),M=l(function(){return c("withCometTypeaheadInputStrategyShouldQueryStringFollowHighlightedEntry")(g,{shouldQueryStringFollowHighlightedEntry:E})},[g,E]);q=q||C;return i.jsx(c("CometHeroInteractionContextPassthrough.react"),{clear:!0,children:i.jsx(c("CometInternalTypeaheadStateProvider"),{autoOpen:b,emptyEntries_DO_NOT_USE:n,onClose:v,onOpen:A,children:i.jsx(c("CometInternalTypeaheadSubscriptionProvider"),{dataSource:h,dataSourceFetchConfigParams:m,loggingContext:r,onFetchEntries_DO_NOT_USE:y,traceProvider:D,children:i.jsx(K,babelHelpers["extends"]({},a,{autoFocus:d,errorMessage:f,id:(b=p)!=null?b:J,inputRef:G,inputStrategyRenderer:M,isDisabled:e,label:q,onBackspace:s,onBlur:t,onChange:u,onDownArrow:c("emptyFunction"),onEnter:w,onEscape:x,onFocus:z,onHighlightEntry:c("emptyFunction"),onPressEntry:L,onShiftTab:c("emptyFunction"),onTab:c("emptyFunction"),onUpArrow:c("emptyFunction"),placeholder:C,testid:void 0,viewRole:H,viewStrategyRenderer:I}))})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatSearchSurfaces",["LSIntEnum","LSSearchGranularSurfaceType"],(function(a,b,c,d,e,f,g){"use strict";var h;a={broadcast:(h||(h=d("LSIntEnum"))).ofNumber(c("LSSearchGranularSurfaceType").BROADCAST),cmCommunityInviteAllMembers:h.ofNumber(c("LSSearchGranularSurfaceType").CM_COMMUNITY_INVITE_ALL_MEMBERS),cmCommunityInviteFbFriends:h.ofNumber(c("LSSearchGranularSurfaceType").CM_COMMUNITY_INVITE_FB_FRIENDS),cmInviteAllMembers:h.ofNumber(c("LSSearchGranularSurfaceType").CM_INVITE_ALL_MEMBERS),cmInviteFbFriends:h.ofNumber(c("LSSearchGranularSurfaceType").CM_INVITE_FB_FRIENDS),cmMemberList:h.ofNumber(c("LSSearchGranularSurfaceType").CM_MEMBER_LIST),cmThreadParticipantSearch:h.ofNumber(c("LSSearchGranularSurfaceType").CM_THREAD_PARTICIPANT_SEARCH),instagramAll:h.ofNumber(c("LSSearchGranularSurfaceType").INSTAGRAM_ALL),omnipickerArmadillo:h.ofNumber(c("LSSearchGranularSurfaceType").OMNIPICKER_ARMADILLO),universal:h.ofNumber(c("LSSearchGranularSurfaceType").UNIVERSAL_ALL)};b=a;g["default"]=b}),98);
__d("LSIssueSearchQueryImplWeb",["LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.db.table(67).fetch([[[a[0],a[4]]]]).next().then(function(e,f){f=e.done;e=e.value;return f?c.sequence([function(b){return d[1]=c.i64.of_float(Date.now()),c.db.table(67).add({query:a[0],surfaceType:a[4],statusPrimary:c.i64.cast([0,1]),statusSecondary:c.i64.cast([0,1]),startTimeMs:d[1]})},function(e){return d[2]=new c.Map(),d[2].set("query",a[0]),d[2].set("supported_types",a[1]),d[2].set("session_id",a[2]),d[2].set("surface_type",a[4]),d[2].set("selected_participants",a[5]),d[2].set("group_id",a[6]),d[2].set("community_id",a[8]),d[2].set("thread_id",a[7]),d[2].set("query_id",a[3]),d[3]=c.createArray(),d[9]=(d[3].push("search_primary"),d[3]),d[4]=c.i64.of_float(Date.now()),d[9]=(d[3].push(c.i64.to_string(d[4])),d[3]),d[5]=c.toJSON(d[3]),d[6]=c.toJSON(d[2]),c.storedProcedure(b("LSIssueNewTask"),d[5],c.i64.cast([0,30]),d[6],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))},function(e){return d[7]=new c.Map(),d[7].set("query",a[0]),d[7].set("supported_types",a[1]),d[7].set("session_id",a[2]),d[7].set("surface_type",a[4]),d[7].set("selected_participants",a[5]),d[7].set("group_id",a[6]),d[7].set("community_id",a[8]),d[7].set("thread_id",a[7]),d[7].set("query_id",a[3]),d[8]=c.toJSON(d[7]),c.storedProcedure(b("LSIssueNewTask"),"search_secondary",c.i64.cast([0,31]),d[8],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))}]):(e.item,0)})},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("LSIssueSearchQueryProxy",["LSIssueSearchQueryImplWeb"],(function(a,b,c,d,e,f,g){g["default"]=c("LSIssueSearchQueryImplWeb")}),98);
__d("LSIssueSearchQuery",["LSIssueSearchQueryProxy"],(function(a,b,c,d,e,f,g){f.exports=c("LSIssueSearchQueryProxy")}),34);
__d("LSIssueSearchQueryStoredProcedure",["LSIssueSearchQuery"],(function(a,b,c,d,e,f,g){function a(a,b){var d=[];d[0]=b.query;d[1]=b.supportedTypes;d[2]=b.sessionId;d[3]=b.queryId;d[4]=b.surfaceType;d[5]=b.selectedParticipants;d[6]=b.groupId;d[7]=b.threadId;d[8]=b.communityId;return c("LSIssueSearchQuery").apply(void 0,d.concat([a]))}g["default"]=a}),98);
__d("MNetContactItemType",[],(function(a,b,c,d,e,f){a=Object.freeze({CONTACT:0,NON_CONTACT:1,GROUP:2,PAGE:3,BOT:4,GAME:5,IG_USER:6,IG_THREAD:7,STICKER:8,INTEROP_THREAD:9,MSGR_THREAD:10,TEXT_SUGGESTION:11,COMMUNITY_MESSAGING_THREAD:12,IG_PUBLIC_CHANNELS:13,SIDE_CONVERSATIONS_COMMUNITY_MESSAGING_THREAD:14,COMMUNITY_MESSAGING_THREAD_FOR_CC_SECTION:15,BROADCAST_CHAT:16,MSGR_PUBLIC_CHANNEL:17,MSGR_SOCIAL_CHANNEL:18,NETEGO_IG_PUBLIC_CHANNELS:19});f["default"]=a}),66);
__d("MWChatSearchFetchCCRecommendations",["fbt","I64","LSIntEnum","LSMessagingThreadTypeUtil","LSSearchGranularSurfaceType","LSSearchType","MNetContactItemType","MWChatTemporarySearchResult","ReQL","asyncToGeneratorRuntime","gkx"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=3;function a(a,b){return l.apply(this,arguments)}function l(){l=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){return(i||(i=d("I64"))).equal(b,(j||(j=d("LSIntEnum"))).ofNumber(c("LSSearchGranularSurfaceType").INSTAGRAM_ALL))?[]:o(yield m(a,k))});return l.apply(this,arguments)}function m(a,b){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){a=(yield d("ReQL").toArrayAsync(c("gkx")("26358")?d("ReQL").fromTableAscending(a.table("cm_search_nullstate_metadata")).filter(function(a){return(i||(i=d("I64"))).equal(a.threadType,(j||(j=d("LSIntEnum"))).ofNumber(18))}):d("ReQL").fromTableAscending(a.table("cm_search_nullstate_metadata"))));return a.sort(function(a,b){a=a.score;b=b.score;return a===b?0:a>b?1:-1}).slice(0,b)});return n.apply(this,arguments)}function o(a){return a.map(function(a,b){var e=a.communityId,f=a.contextLine,g=a.score,k=a.scoreType,l=a.secondaryThreadPictureUrl,m=a.secondaryThreadPictureUrlFallback,n=a.threadKey,o=a.threadName,p=a.threadPictureUrl;a.threadPictureUrlFallback;var q=a.threadType;babelHelpers.objectWithoutPropertiesLoose(a,["communityId","contextLine","score","scoreType","secondaryThreadPictureUrl","secondaryThreadPictureUrlFallback","threadKey","threadName","threadPictureUrl","threadPictureUrlFallback","threadType"]);a={contactId:n,contactType:(j||(j=d("LSIntEnum"))).ofNumber(c("MNetContactItemType").COMMUNITY_MESSAGING_THREAD_FOR_CC_SECTION),score:g,scoreIndex:(i||(i=d("I64"))).of_int32(b),scoreType:k};return{communityId:e!=null?(i||(i=d("I64"))).to_string(e):"",displayName:o,id:i.to_string(n),imageUrl:(b=(g=p)!=null?g:l)!=null?b:"",isAiBot:i.equal(q,j.ofNumber(201)),isContact:d("LSMessagingThreadTypeUtil").isOneToOne(q),isDisappearingModeSettingOn:!1,isE2EE:d("LSMessagingThreadTypeUtil").isSecure(q),isEPD:!1,isInstagramAccount:!1,isInstamadilloCutover:!1,isVerified:!1,rankingScore:a,resultType:d("MWChatTemporarySearchResult").getResultType(j.ofNumber(c("LSSearchType").COMMUNITY_MESSAGING_THREAD)),searchSource:"server",secondaryImageUrl:(e=(k=l)!=null?k:m)!=null?e:"",section:h._("__JHASH__6QBjd4SVwsL__JHASH__").toString(),subtext:(o=f)!=null?o:"",threadKey:n,threadType:q}})}g.fetchCCs=a;g.mapToSearchResults=o}),98);
__d("MWChatSearchFetchContactRecommendations",["I64","LSContactBitOffset","LSContactViewerRelationship","LSDatabaseSingleton","LSIntEnum","LSSearchType","LSWhatsAppConnectStatus","MNetContactItemType","MNetRankType","MWChatTemporarySearchResult","MWLSContactTypeExactUtils","ReQL","ReQLSuspense","asyncToGeneratorRuntime","getLSMediaContactProfilePictureUrl","gkx","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l,m=(j||d("react")).useMemo;function n(a){if(a<0)return-1;return a>0?1:0}function o(a){return a.sort(function(a,b){a=a[0];var c=a[0];a=a[1];b=b[0];var d=b[0];b=b[1];if(d.score!==c.score)return n(d.score-c.score);if(a!=null&&b!=null)return n(b.rank-a.rank);return b==null&&a==null?0:b!=null?1:-1})}function p(a){var b=a.contactTypeExact;a=a.contactViewerRelationship;if(d("MWLSContactTypeExactUtils").isIgContact(b)){if((k||(k=d("I64"))).equal(a,(l||(l=d("LSIntEnum"))).ofNumber(c("LSContactViewerRelationship").NOT_CONTACT)))return(l||(l=d("LSIntEnum"))).ofNumber(c("LSSearchType").IG_NONCONTACT_FOLLOWING);return(k||(k=d("I64"))).equal(a,(l||(l=d("LSIntEnum"))).ofNumber(c("LSContactViewerRelationship").CONTACT_OF_VIEWER))?(l||(l=d("LSIntEnum"))).ofNumber(c("LSSearchType").IG_CONTACT_FOLLOWING):(l||(l=d("LSIntEnum"))).ofNumber(c("LSSearchType").IG_NONCONTACT_NONFOLLOWING)}return(l||(l=d("LSIntEnum"))).ofNumber(c("LSSearchType").CONTACT)}function q(a){return a.map(function(a,b){var e=a[0],f=e[0];e=e[1];a=a[1];if(e==null)return;var g=e.contactTypeExact;f=(l||(l=d("LSIntEnum"))).toNumber(f.contactType);var h;!c("gkx")("26359")&&d("LSContactBitOffset").has(76,e)?h=15:h=f===c("MNetContactItemType").GROUP?2:1;var i;switch(f){case c("MNetContactItemType").CONTACT:i=p(e);break;case c("MNetContactItemType").GROUP:i=(l||(l=d("LSIntEnum"))).ofNumber(c("LSSearchType").GROUP);break;case c("MNetContactItemType").PAGE:case c("MNetContactItemType").BOT:case c("MNetContactItemType").GAME:case c("MNetContactItemType").STICKER:i=(l||(l=d("LSIntEnum"))).ofNumber(c("LSSearchType").PAGE);break;case c("MNetContactItemType").IG_THREAD:case c("MNetContactItemType").INTEROP_THREAD:case c("MNetContactItemType").MSGR_THREAD:i=(l||(l=d("LSIntEnum"))).ofNumber(c("LSSearchType").INTEGRATED_MESSAGE_SEARCH_THREAD);break;case c("MNetContactItemType").IG_USER:i=(l||(l=d("LSIntEnum"))).ofNumber(c("LSSearchType").IG_CONTACT_FOLLOWING);break;default:i=(l||(l=d("LSIntEnum"))).ofNumber(c("LSSearchType").NONCONTACT)}f={blockedByViewerStatus:e.blockedByViewerStatus,contextLine:(f=e.secondaryName)!=null?f:"",defaultE2eeThreadOneToOne:d("LSContactBitOffset").has(83,e),defaultE2eeThreads:d("LSContactBitOffset").has(80,e),displayName:e.name,globalIndex:(k||(k=d("I64"))).of_int32(b),hasCutoverThread:d("LSContactBitOffset").has(76,e),isGroupsXacEligible:d("LSContactBitOffset").has(68,e),isInteropEligible:d("MWLSContactTypeExactUtils").isIgContact(g)?d("LSContactBitOffset").has(67,e):void 0,isVerified:d("LSContactBitOffset").has(23,e),isViewerUnconnected:d("LSContactBitOffset").hasWithDefault(64,e,!0),isWaAddressable:k.equal(e.waConnectStatus,l.ofNumber(c("LSWhatsAppConnectStatus").WHATSAPP_ADDRESSABLE)),profilePicUrl:c("getLSMediaContactProfilePictureUrl")(e),query:"",resultId:k.to_string(e.id),resultIgid:a==null?void 0:a.igId,threadType:l.ofNumber(h),type_:i,waEligibility:a==null?void 0:a.e2eeEligibility};b=d("MWChatTemporarySearchResult").fromServerSearchResult(f,void 0,"offline_nullstate");return[b,e]}).filter(Boolean)}function r(a,b){var c;return(c=d("ReQL")).leftJoin(c.leftJoin(c.fromTableAscending(a.table("ranking_scores").index("scoreTypeContactId")).getKeyRange(b),c.fromTableAscending(a.table("contacts"))),c.fromTableAscending(a.table("ig_contact_info")))}function a(a){a===void 0&&(a=(l||(l=d("LSIntEnum"))).ofNumber(c("MNetRankType").MESSENGER_USER_SEARCH_NULLSTATE));var b=(h||(h=c("useReStore")))(),e=d("ReQLSuspense").useArray(function(){return r(b,a)},[a,b],f.id+":238");return m(function(){return q(o(e)).filter(function(a){a=a[0];return!a.isAiBot})},[e])}function e(a){a===void 0&&(a=(l||(l=d("LSIntEnum"))).ofNumber(c("MNetRankType").MESSENGER_USER_SEARCH_NULLSTATE));return(i||(i=c("LSDatabaseSingleton"))).then(function(b){return d("ReQL").toArrayAsync(r(b,a))}).then(function(a){return q(o(a))})}function s(a,b){return t.apply(this,arguments)}function t(){t=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){a=(yield d("ReQL").toArrayAsync(r(a,b)));return q(o(a)).map(function(a){a=a[0];return a})});return t.apply(this,arguments)}g.sortInPlaceQueryResults=o;g.mapToServerSearchResults=q;g.makeQuery=r;g.useChatSearchContactRecommendations=a;g.fetchRecommendations=e;g.fetchContacts=s}),98);
__d("MWChatSearchFetchGenAIBotRecommendations",["I64","LSContactViewerRelationship","LSIntEnum","LSMessagingThreadTypeUtil","LSSearchGranularSurfaceType","MNetContactItemType","MNetRankType","MWChatSearchResultType","MWChatTemporarySearchResultUtils","ReQL","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=3;function a(a,b){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){return(h||(h=d("I64"))).equal(b,(i||(i=d("LSIntEnum"))).ofNumber(c("LSSearchGranularSurfaceType").INSTAGRAM_ALL))?[]:n(yield l(a,j))});return k.apply(this,arguments)}function l(a,b){return m.apply(this,arguments)}function m(){m=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){a=(yield d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.table("ai_bot_search_metadata"))));return a.sort(function(a,b){a=a.score;b=b.score;return a===b?0:a>b?1:-1}).slice(0,b)});return m.apply(this,arguments)}function n(a){return a.map(function(a,b){var e=a.botId,f=a.contactViewerRelationship,g=a.contextLine,j=a.displayName,k=a.displayPictureUrl;a=a.score;a={contactId:e,contactType:(i||(i=d("LSIntEnum"))).ofNumber(c("MNetContactItemType").BOT),score:a,scoreIndex:(h||(h=d("I64"))).of_int32(b),scoreType:i.ofNumber(c("MNetRankType").MESSENGER_USER_SEARCH_NULLSTATE)};return{displayName:j,id:h.to_string(e),imageUrl:(b=k)!=null?b:"",isAiBot:!0,isContact:!0,isDisappearingModeSettingOn:!1,isE2EE:d("LSMessagingThreadTypeUtil").isSecure(e),isEPD:!1,isInstagramAccount:!1,isInstamadilloCutover:!1,isVerified:!1,isViewerUnconnected:h.equal(f,i.ofNumber(c("LSContactViewerRelationship").NOT_CONTACT)),rankingScore:a,resultType:c("MWChatSearchResultType").AI_BOT,searchSource:"server",secondaryImageUrl:"",section:d("MWChatTemporarySearchResultUtils").getSectionHeaderForAIBot(),subtext:(j=g)!=null?j:"",threadKey:e,threadType:h.of_int32(201)}})}g.fetchGenAIBots=a;g.mapToSearchResults=n}),98);
__d("MWChatSearchFetchThreadRecommendations",["I64","LSContactBitOffset","LSDatabaseSingleton","LSIntEnum","LSMessagingThreadTypeUtil","LSThreadBitOffset","MWChatSearchResultType","MWGetOtherContactOrSelf","MWInboxSecureContentSearch","MWLSThreadTitle","Promise","ReQL","asyncToGeneratorRuntime","hasDefaultThreadOneToOneCapability"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k;function l(a){return d("ReQL").firstExnAsync(d("ReQL").fromTableAscending(a.table("_user_info")))}function m(a,b,e,f,g,h,i){var l=(j||(j=d("I64"))).to_float(b.lastActivityTimestampMs);l={contactId:j.zero,contactType:j.zero,score:l,scoreIndex:j.zero,scoreType:j.zero};return{defaultE2eeThreadOneToOne:(i=i)!=null?i:void 0,displayName:d("MWLSThreadTitle").getDefaultThreadTitle(b.threadName,a,e,b.threadType).toString(),hasCutoverThread:(i=h)!=null?i:void 0,id:j.to_string(b.threadKey),imageUrl:f,isAiBot:j.equal(b.threadType,(k||(k=d("LSIntEnum"))).ofNumber(201)),isContact:!1,isDisappearingModeSettingOn:!1,isE2EE:d("LSMessagingThreadTypeUtil").isSecure(b.threadType),isEPD:!1,isInstagramAccount:!1,isInstamadilloCutover:d("LSThreadBitOffset").has(214,b),isVerified:!1,rankingScore:l,resultType:d("LSMessagingThreadTypeUtil").isGroup(b.threadType)?c("MWChatSearchResultType").GROUP:c("MWChatSearchResultType").USER,searchSource:"offline_nullstate",secondaryImageUrl:g,section:"",subtext:(a=b.threadDescription)!=null?a:"",threadKey:b.threadKey,threadType:b.threadType}}function n(a){return d("ReQL").toArrayAsync(d("ReQL").fromTableDescending(a.table("threads").index("parentThreadKeyLastActivityTimestampMs"))).then(function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(c){var d=(yield (i||(i=b("Promise"))).all(c.map(function(b){return p(a,b)})));return c.filter(function(a,b){return!d[b]})});return function(a){return c.apply(this,arguments)}}())}function a(){return o.apply(this,arguments)}function o(){o=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield h||(h=c("LSDatabaseSingleton"))),e=(yield (i||(i=b("Promise"))).all([l(a),n(a)])),f=e[0];e=e[1];return i.all(e.map(function(){var e=b("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var g=(yield (i||(i=b("Promise"))).all([d("MWInboxSecureContentSearch").getThreadPics(e,f.facebookUserId,a),d("MWInboxSecureContentSearch").getThreadParticipants(e,a),d("LSMessagingThreadTypeUtil").isOpenOneToOne(e.threadType)?d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.table("cutover_threads")).getKeyRange(e.threadKey)):null,d("LSMessagingThreadTypeUtil").isOpenOneToOne(e.threadType)?c("hasDefaultThreadOneToOneCapability")(e.threadKey,a):null])),h=g[0],j=g[1],k=g[2];g=g[3];var l=h[0];h=h[1];return m(f.facebookUserId,e,j,l,h,Boolean(k),g)});return function(a){return e.apply(this,arguments)}}()))});return o.apply(this,arguments)}function p(a,b){return!(d("LSMessagingThreadTypeUtil").isRecentsSectionAllowedTypes(b.threadType)&&d("LSMessagingThreadTypeUtil").isMessengerOrE2EEInbox(b.folderName))?!0:q(a,b)}function q(a,b){return r.apply(this,arguments)}function r(){r=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c){var e=(yield (i||(i=b("Promise"))).all([d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.table("contacts")).getKeyRange(c.threadKey)),d("ReQL").firstExnAsync(d("ReQL").fromTableAscending(a.table("_user_info")).map(function(a){return a.facebookUserId}))])),f=e[0];e=e[1];c=(yield d("MWGetOtherContactOrSelf").getOtherContactOrSelf(c.threadKey,e,a));a=(e=c)!=null?e:f;c=!1;a&&(c=d("LSContactBitOffset").has(28,a)||d("LSContactBitOffset").has(29,a));return c});return r.apply(this,arguments)}g.fetchThreadRecommendations=a;g.shouldFilterBlockedUser=q}),98);
__d("MWChatSearchIssueLightspeedQuery",["I64","LSContactBlockedByViewerStatus","LSDatabaseSingleton","LSFactory","LSIntEnum","LSIssueSearchQueryStoredProcedure","LSPlatformWaitForTaskCompletion","LSSearchRequestStatusType","LSSearchType","LSVec","MWChatSearchFetchCCRecommendations","MWChatSearchFetchContactRecommendations","MWChatSearchFetchGenAIBotRecommendations","MWChatSearchFetchThreadRecommendations","MWChatSearchResultType","MWChatTemporarySearchResult","Promise","ReQL","asyncToGeneratorRuntime","emptyFunction","gkx","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=c("gkx")("26360");function m(a,b){var e=a[0];a=a[1];var f=[],g=0;e.sort(function(a,b){return(k||(k=d("I64"))).compare(a.globalIndex,b.globalIndex)});a.sort(function(a,b){return(k||(k=d("I64"))).compare(a.globalIndex,b.globalIndex)});for(var h=0,i=e.length;h<i;++h){var j=e[h];while(g<a.length&&(k||(k=d("I64"))).ge(a[g].globalIndex,j.startIndex)&&(k||(k=d("I64"))).le(a[g].globalIndex,j.endIndex)){var l=a[g];f.push(d("MWChatTemporarySearchResult").fromServerSearchResult(l,j,"server"));g+=1}}return f.filter(function(a){if(b)return!0;else return a.resultType!==c("MWChatSearchResultType").GROUP})}function n(a,b,d){var e=d.query;return(j||(j=c("LSDatabaseSingleton"))).then(function(d){return d.runInTransaction(function(d){return c("LSIssueSearchQueryStoredProcedure")(c("LSFactory")(d),{query:e,supportedTypes:c("LSVec").ofArray(a),surfaceType:b})},"readwrite").then(function(){return d})})}function a(a,e,f,g,l){var n=l.query;if(e.length>0&&!e.includes("server"))return(h||(h=b("Promise"))).resolve([]);else return(j||(j=c("LSDatabaseSingleton"))).then(function(b){return c("LSPlatformWaitForTaskCompletion")(b,function(b){return c("LSIssueSearchQueryStoredProcedure")(c("LSFactory")(b),{query:n,supportedTypes:c("LSVec").ofArray(a),surfaceType:f})},"issueSearchQuery").then(function(){return b})}).then(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var e,f=(e=d("ReQL")).toArrayAsync(e.fromTableAscending(a.table("server_search_results")).getKeyRange(n).filter(function(a){return(k||(k=d("I64"))).equal(a.blockedByViewerStatus,(i||(i=d("LSIntEnum"))).ofNumber(c("LSContactBlockedByViewerStatus").UNBLOCKED))}));e=e.toArrayAsync(e.fromTableAscending(a.table("server_search_sections")).getKeyRange(n));a=(yield (h||(h=b("Promise"))).all([e,f]));return m(a,g)});return function(b){return a.apply(this,arguments)}}())}function e(a,c,e,f){return d("MWChatSearchFetchContactRecommendations").fetchRecommendations(f).then(function(a){return(h||(h=b("Promise"))).resolve(a.map(function(a){a=a[0];return a}))})}function o(a,b){if(!b.has(a.resultType))return!0;if(!a.isE2EE&&a.defaultE2eeThreadOneToOne===!0)return!0;if(a.hasCutoverThread===!0)return!0;return a.isAiBot?!0:!1}function p(a){var b=[],c=new Set();a.forEach(function(a){c.has(a.id)||(b.push(a),c.add(a.id))});return b}function f(){return q.apply(this,arguments)}function q(){q=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield d("MWChatSearchFetchThreadRecommendations").fetchThreadRecommendations());if(a.length===0)return[];var b=new Set([c("MWChatSearchResultType").USER,c("MWChatSearchResultType").GROUP]);a=p(a);return a.filter(function(a){return!o(a,b)})});return q.apply(this,arguments)}function r(a,b,e,f){var g=[],h=[],j=[],l=function(){if(g.length===0||h.length===0||j.length!==1)return;(k||(k=d("I64"))).equal(j[0].statusPrimary,(i||(i=d("LSIntEnum"))).ofNumber(c("LSSearchRequestStatusType").PENDING))||f(m([h,g],e))},n=a.table("server_search_results").subscribe(function(){c("promiseDone")(d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.table("server_search_results")).getKeyRange(b)),function(a){g=a;return l()})}),o=a.table("server_search_sections").subscribe(function(){c("promiseDone")(d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.table("server_search_sections")).getKeyRange(b)),function(a){h=a;return l()})}),p=a.table("search_queries").subscribe(function(){c("promiseDone")(d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.table("search_queries")).getKeyRange(b).filter(function(a){return!(k||(k=d("I64"))).equal(a.statusPrimary,(i||(i=d("LSIntEnum"))).ofNumber(c("LSSearchRequestStatusType").PENDING))})),function(a){j=a;return l()})});return function(){n(),o(),p()}}function s(a,b,e,f,g,h){var j=g.query;!l?c("promiseDone")(n(b,e,g)):c("promiseDone")(d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.table("search_queries")).getKeyRange(j).filter(function(a){return!(k||(k=d("I64"))).equal(a.statusPrimary,(i||(i=d("LSIntEnum"))).ofNumber(c("LSSearchRequestStatusType").PENDING))})).then(function(c){return c==null||c.length!==1?n(b,e,g):d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.table("server_search_results")).getKeyRange(j)).then(function(c){return c==null||c.length===0?n(b,e,g):d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.table("server_search_sections")).getKeyRange(j)).then(function(a){if(a==null||a.length===0)return n(b,e,g);h(m([a,c],f))})})}));return r(a,g.query,f,h)}function t(a,e,f,g,j,k){c("promiseDone")(n(e,g,j));j=e.includes((i||(i=d("LSIntEnum"))).ofNumber(c("LSSearchType").COMMUNITY_MESSAGING_THREAD));e=e.includes(i.ofNumber(c("LSSearchType").AI_BOT));c("promiseDone")((h||(h=b("Promise"))).all([d("MWChatSearchFetchContactRecommendations").fetchContacts(a,f),j?d("MWChatSearchFetchCCRecommendations").fetchCCs(a,g):[],e?d("MWChatSearchFetchGenAIBotRecommendations").fetchGenAIBots(a,g):[]]).then(function(a){var b=a[0],c=a[1];a=a[2];b=u(b,c,a);return k(b)}));return c("emptyFunction")}function u(a,b,c){return[].concat(c,b,a)}g.toSearchResults=m;g.fetchResults=a;g.fetchRecommendations=e;g.shouldFilterSearchResultsForSharingNS=o;g.dedupeByThreadKey=p;g.fetchThreadRecommendations=f;g.requestResults=s;g.requestRecommendations=t;g.blendSearchResults=u}),98);
__d("MWLSSearchIssueSearchQuerySupportedTypes",["LSIntEnum","LSSearchType","gkx","qex"],(function(a,b,c,d,e,f,g){"use strict";var h;a=[(h||(h=d("LSIntEnum"))).ofNumber(c("LSSearchType").CONTACT),h.ofNumber(c("LSSearchType").GROUP),h.ofNumber(c("LSSearchType").PAGE),h.ofNumber(c("LSSearchType").NONCONTACT),h.ofNumber(c("LSSearchType").IG_CONTACT_FOLLOWING),h.ofNumber(c("LSSearchType").IG_CONTACT_NONFOLLOWING),h.ofNumber(c("LSSearchType").IG_NONCONTACT_FOLLOWING),h.ofNumber(c("LSSearchType").IG_NONCONTACT_NONFOLLOWING)].concat(c("gkx")("24112")?[(h||(h=d("LSIntEnum"))).ofNumber(c("LSSearchType").PUBLIC_CHANNEL)]:[],c("gkx")("24113")?[(h||(h=d("LSIntEnum"))).ofNumber(c("LSSearchType").COMMUNITY_MESSAGING_THREAD)]:[],c("qex")._("136")||c("gkx")("24114")?[(h||(h=d("LSIntEnum"))).ofNumber(c("LSSearchType").AI_BOT)]:[]);b=[h.ofNumber(c("LSSearchType").CONTACT),h.ofNumber(c("LSSearchType").GROUP),h.ofNumber(c("LSSearchType").PAGE),h.ofNumber(c("LSSearchType").NONCONTACT)];e=[h.ofNumber(c("LSSearchType").CONTACT),h.ofNumber(c("LSSearchType").GROUP),h.ofNumber(c("LSSearchType").PAGE),h.ofNumber(c("LSSearchType").NONCONTACT),h.ofNumber(c("LSSearchType").IG_CONTACT_FOLLOWING),h.ofNumber(c("LSSearchType").IG_CONTACT_NONFOLLOWING),h.ofNumber(c("LSSearchType").IG_NONCONTACT_FOLLOWING),h.ofNumber(c("LSSearchType").IG_NONCONTACT_NONFOLLOWING),h.ofNumber(c("LSSearchType").INTEGRATED_MESSAGE_SEARCH_THREAD)];f=[h.ofNumber(c("LSSearchType").CONTACT),h.ofNumber(c("LSSearchType").GROUP),h.ofNumber(c("LSSearchType").PAGE),h.ofNumber(c("LSSearchType").NONCONTACT),h.ofNumber(c("LSSearchType").IG_CONTACT_FOLLOWING),h.ofNumber(c("LSSearchType").IG_CONTACT_NONFOLLOWING),h.ofNumber(c("LSSearchType").IG_NONCONTACT_FOLLOWING),h.ofNumber(c("LSSearchType").IG_NONCONTACT_NONFOLLOWING)];var i=[h.ofNumber(c("LSSearchType").CONTACT)];d=[h.ofNumber(c("LSSearchType").CONTACT),h.ofNumber(c("LSSearchType").GROUP),h.ofNumber(c("LSSearchType").PAGE),h.ofNumber(c("LSSearchType").IG_CONTACT_FOLLOWING),h.ofNumber(c("LSSearchType").IG_CONTACT_NONFOLLOWING),h.ofNumber(c("LSSearchType").IG_NONCONTACT_FOLLOWING),h.ofNumber(c("LSSearchType").IG_NONCONTACT_NONFOLLOWING)].concat(c("gkx")("26356")===!0?[(h||(h=d("LSIntEnum"))).ofNumber(c("LSSearchType").COMMUNITY_MESSAGING_THREAD)]:[]);var j=[h.ofNumber(c("LSSearchType").CONTACT),h.ofNumber(c("LSSearchType").NONCONTACT)],k=[h.ofNumber(c("LSSearchType").CONTACT),h.ofNumber(c("LSSearchType").NONCONTACT),h.ofNumber(c("LSSearchType").IG_CONTACT_FOLLOWING),h.ofNumber(c("LSSearchType").IG_CONTACT_NONFOLLOWING),h.ofNumber(c("LSSearchType").IG_NONCONTACT_FOLLOWING),h.ofNumber(c("LSSearchType").IG_NONCONTACT_NONFOLLOWING)],l=[h.ofNumber(c("LSSearchType").CONTACT),h.ofNumber(c("LSSearchType").GROUP),h.ofNumber(c("LSSearchType").NONCONTACT)];c=[h.ofNumber(c("LSSearchType").CONTACT),h.ofNumber(c("LSSearchType").NONCONTACT)];g.allSupportedTypes=a;g.supportedTypesForMSplitUser=b;g.allSupportedTypesWithMessageSearch=e;g.armadilloSupportedTypes=f;g.onlyContacts=i;g.broadcastFlowSupportedTypes=d;g.addParticipantBase=j;g.addParticipantXac=k;g.socialChannelsSupportedTypes=l;g.communityDirectInviteSupportedTypes=c}),98);
__d("MWStaticSearchEntries",["fbt","MWChatSearchResultType"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a){var b=h._("__JHASH__jyy97B7ulae__JHASH__",[h._param("param",a)]).toString();return{key:a,label:b,rawData:{displayName:b,id:a,imageUrl:"",isContact:!1,isDisappearingModeSettingOn:!1,isE2EE:!1,isEPD:!1,isInstamadilloCutover:!1,resultType:c("MWChatSearchResultType").MESSAGE,secondaryImageUrl:"",subtext:""},type:"entry"}}g.createMessageSearchHeaderEntry=a}),98);
__d("createMWChatSearchTypeaheadDataEntry",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){return{key:a.id,label:a.displayName,rawData:{canViewerMessage:a.canViewerMessage,communityId:a.communityId,defaultE2eeThreadOneToOne:a.defaultE2eeThreadOneToOne,defaultE2eeThreads:a.defaultE2eeThreads,displayName:a.displayName,hasCutoverThread:a.hasCutoverThread,id:a.id,igid:a.resultIgid,imageUrl:a.imageUrl,isAiBot:a.isAiBot,isContact:a.isContact,isDisappearingModeSettingOn:a.isDisappearingModeSettingOn,isE2EE:a.isE2EE,isEPD:a.isEPD,isGroupsXacEligible:Boolean(a.isGroupsXacEligible),isInstagramAccount:Boolean(a.isInstagramAccount),isInstamadilloCutover:a.isInstamadilloCutover,isInteropEligible:a.isInteropEligible!==!1,isViewerUnconnected:a.isViewerUnconnected,isWAEligible:a.isWAEligible,otherUserId:a.otherUserId,rankingScore:a.rankingScore,renderIndex:b,resultType:a.resultType,searchResultType:a.searchResultType,searchSource:a.searchSource,secondaryImageUrl:(b=a.secondaryImageUrl)!=null?b:"",section:a.section,serverSearchResult:a.serverSearchResult,subtext:a.subtext,supportsE2eeSpamdStorage:a.supportsE2eeSpamdStorage,threadType:a.threadType,verificationStatus:a.isVerified?"BLUE_VERIFIED":"NOT_VERIFIED",waAddressable:a.waAddressable,waEligibility:a.waEligibility},type:"entry"}}f["default"]=a}),66);
__d("filterInstagramContactsMWChatSearchLocalEntries",["MWChatSearchSurfaces"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){return b===c("MWChatSearchSurfaces").instagramAll?a:a.filter(function(a){return!a.isInstagramAccount})}g["default"]=a}),98);
__d("mwChatSearchPayloadDecoratorRemoveExcluded",[],(function(a,b,c,d,e,f){"use strict";function a(a){return function(b){var c=b.entries;b=babelHelpers.objectWithoutPropertiesLoose(b,["entries"]);return babelHelpers["extends"]({entries:c.filter(function(b){return!a.includes(b.key)})},b)}}f["default"]=a}),66);
__d("mwChatSearchPayloadEnumerate",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b=a.entries;a=babelHelpers.objectWithoutPropertiesLoose(a,["entries"]);var c=b.reduce(function(a,b,c){b=b.rawData.section;if(b==null)return a;b===""&&a.set(b,0);var d=a.get(b);d=d==null?c:Math.min(d,c);a.set(b,d);return a},new Map());b=b.map(function(a,b){var d=a.key,e=a.label;a=a.rawData;var f=a.section;return{key:d,label:e,rawData:babelHelpers["extends"]({},a,{renderIndex:b,sectionRenderIndex:f==null?-1:c.get(f)}),type:"entry"}});return babelHelpers["extends"]({entries:b},a)}f["default"]=a}),66);
__d("sortMWChatSearchLocalEntries",["gkx"],(function(a,b,c,d,e,f,g){"use strict";var h={group:1,message:2,messages:3,page:4,user:0},i=c("gkx")("23913");function a(a,b){var c={};for(var d=0;d<a.length;d++){var e=a[d];c[e.id]=(e=e.rankingScore)==null?void 0:e.score}return a.sort(function(a,d){var e=h[a.resultType],f=h[d.resultType];if(e!==f)return e-f;if(i&&b.length>1){e=(f=(e=a.matchedTerms)==null?void 0:e.length)!=null?f:0;f=(f=(f=d.matchedTerms)==null?void 0:f.length)!=null?f:0;if(f!==e)return f-e}e=(f=c[a.id])!=null?f:0;f=(a=c[d.id])!=null?a:0;return f-e})}g["default"]=a}),98);
__d("MWChatSearchTypeaheadLightspeedSubscriptionDataSource",["FBLogger","LSIntEnum","MNetRankType","MWChatSearchFilteringUtils","MWChatSearchIssueLightspeedQuery","MWChatSearchSurfaces","MWLSSearchIssueSearchQuerySupportedTypes","MWPSearchOfflineOpenConversationsUtils","MWPSearchSystem","MWStaticSearchEntries","Promise","asyncToGeneratorRuntime","cr:6941","createMWChatSearchTypeaheadDataEntry","filterInstagramContactsMWChatSearchLocalEntries","isArmadillo","isTlcSearchEnabled","mwChatSearchPayloadDecoratorRemoveExcluded","mwChatSearchPayloadEnumerate","promiseDone","relay-runtime/network/RelayObservable","sortMWChatSearchLocalEntries"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=10,k=10,l=c("isArmadillo")()&&c("isTlcSearchEnabled")();a=function(){function a(a){var b=a.database,e=a.excludedIDs;e=e===void 0?[]:e;var f=a.lightspeedSupportedTypes;f=f===void 0?d("MWLSSearchIssueSearchQuerySupportedTypes").allSupportedTypes:f;var g=a.source;g=g===void 0?c("MWChatSearchSurfaces").universal:g;var h=a.includeRecommendations;h=h===void 0?!0:h;var j=a.includeGroupSearch;j=j===void 0?!1:j;var k=a.includeMessageSearchEntry;k=k===void 0?!0:k;a=a.nullstateRankType;a=a===void 0?(i||(i=d("LSIntEnum"))).ofNumber(c("MNetRankType").MESSENGER_USER_SEARCH_NULLSTATE):a;this.$1=[];this.$5=function(){};this.$1=e;this.$2=g===c("MWChatSearchSurfaces").omnipickerArmadillo?d("MWLSSearchIssueSearchQuerySupportedTypes").armadilloSupportedTypes:f;this.$3=g;this.$4=b;this.$6=h;this.$7=j;this.$8=k;this.$9=a;d("MWPSearchSystem").makeAll(b)}var e=a.prototype;e.resolveData=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){b=b.map(c("createMWChatSearchTypeaheadDataEntry"));b=[].concat(this.$8&&a.query.length>1?[d("MWStaticSearchEntries").createMessageSearchHeaderEntry(a.query)]:[],b);b=d("MWChatSearchFilteringUtils").dedupeByThreadKey(b);b=(yield d("MWChatSearchFilteringUtils").filterSearchResults(this.$3,b,this.$4,!1,l));var e=c("mwChatSearchPayloadDecoratorRemoveExcluded")(this.$1);return c("mwChatSearchPayloadEnumerate")(e({entries:b,params:a}))});function e(b,c){return a.apply(this,arguments)}return e}();e.fetchNetwork=function(a){var e=this;this.$5();return c("relay-runtime/network/RelayObservable").create(function(f){if(a.query.length===0&&!e.$6){f.next({entries:[],params:a});f.complete();return}if(a.query.length===0){e.$5=d("MWChatSearchIssueLightspeedQuery").requestRecommendations(e.$4,e.$2,e.$9,e.$3,a,function(){var d=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){b=c("filterInstagramContactsMWChatSearchLocalEntries")(b,e.$3);b=(yield e.resolveData(a,b));f.next(b);f.complete()});return function(a){return d.apply(this,arguments)}}());return}var g=[],i=[],l=!1,m=(h||(h=b("Promise"))).allSettled([b("cr:6941")!=null?b("cr:6941").fetchResults(e.$2,e.$3,e.$7,a):(h||(h=b("Promise"))).resolve([]),e.$3!==c("MWChatSearchSurfaces").broadcast?d("MWPSearchOfflineOpenConversationsUtils").search(a.query,e.$7):(h||(h=b("Promise"))).resolve([])]).then(function(){var d=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){var d=b[0];b=b[1];d=d.status==="fulfilled"?d.value:[];b=b.status==="fulfilled"?b.value:[];b=j<=0?b:b.slice(0,j);d=k<=0?d:d.slice(0,k);g=b.concat(d);g=c("sortMWChatSearchLocalEntries")(g,a.query);g=c("filterInstagramContactsMWChatSearchLocalEntries")(g,e.$3);b=(yield e.resolveData(a,g.concat(i)));l||f.next(b)});return function(a){return d.apply(this,arguments)}}())["catch"](function(a){c("FBLogger")("messenger_search").catching(a).mustfix("Error performing MWChatSearchIssueMAWFTSQuery.fetchResults")}),n=d("MWChatSearchIssueLightspeedQuery").requestResults(e.$4,e.$2,e.$3,e.$7,a,function(j){i=j;j=a.query.length>0&&d("MWPSearchSystem").isDone()?m:(h||(h=b("Promise"))).resolve();c("promiseDone")(j["finally"](b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var b=(yield e.resolveData(a,g.concat(i)));f.next(b);f.complete()})))});e.$5=function(){n(),l=!0}})};e.setExcludedIds=function(a){this.$1=a};return a}();g["default"]=a}),98);
__d("LsUniversalSearchDataSource",["$InternalEnum"],(function(a,b,c,d,e,f){a=b("$InternalEnum")({LOCAL_BLENDED:0,SERVER_ENTITIES_NAMED_DSQ1:1,SERVER_ENTITIES_NAMED_DSQ2:2});c=a;f["default"]=c}),66);
__d("LsUniversalSearchThreadType",["$InternalEnum"],(function(a,b,c,d,e,f){a=b("$InternalEnum")({ARMADILLO:0,TINCAN:1,OPEN_THREAD:2});c=a;f["default"]=c}),66);
__d("SearchTransportType",["$InternalEnum"],(function(a,b,c,d,e,f){a=b("$InternalEnum")({ARMADILLO:1,TINCAN:2,OPEN_THREAD:3,IG_DJANGO:4,IG_ADVANCED_CRYPTO_TRANSPORT:5,IG_MESSENGER_INFRA:6});c=a;f["default"]=c}),66);
__d("UniversalSearchEndFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("844");b=d("FalcoLoggerInternal").create("universal_search_end",a);e=b;g["default"]=e}),98);
__d("UniversalSearchResultSelectedFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("846");b=d("FalcoLoggerInternal").create("universal_search_result_selected",a);e=b;g["default"]=e}),98);
__d("UniversalSearchUISectionType",["$InternalEnum"],(function(a,b,c,d,e,f){a=b("$InternalEnum")({NULL_STATE_RECENTS:1,NULL_STATE_RECENTS_SEE_ALL:2,NULL_STATE_SUGGESTED:3,NULL_STATE_XAC_FOLLOWING:4,QUERY_SUGGESTED:5,QUERY_NON_FOLLOWING:6,QUERY_XAC_FOLLOWING:7,QUERY_XAC_NON_FOLLOWING:8,QUERY_BUSINESSES:9,QUERY_MESSAGES:10,OTHER:11,QUERY_NON_BUSINESSES:12,COMMUNITY_CHATS:13,MORE_COMMUNITY_CHATS:14,RELEVANT_SHARES:15,LATEST_SHARES:16,RECOMMENDED_COMMUNITIES:17,COMMUNITIES_AND_MORE:18,CHANNELS:19,NULL_STATE_NON_FOLLOWING:20,JOINED_CM_AND_CHANNEL:21,JOINED_CM_AND_CHANNEL_SEE_MORE:22,RECOMMENDED_CM_AND_CHANNEL:23,RECOMMENDED_CM_AND_CHANNEL_SEE_MORE:24,AI:25,AI_SEE_MORE:26,CHANNELS_SEE_MORE:27,UNJOINED_COMMUNITY_CHATS:28,MORE_UNJOINED_COMMUNITY_CHATS:29,NS_SUGGESTED_CHANNELS:30,NS_SUGGESTED_CHANNELS_SEE_MORE:31,NULL_STATE_MESSAGES:32,NULL_STATE_SUGGESTED_PROMPT:33});c=a;f["default"]=c}),66);
__d("MWSearchLogging",["$InternalEnum","I64","LSMessagingThreadTypeUtil","UniversalSearchEndFalcoEvent","UniversalSearchResultSelectedFalcoEvent","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h,i=b("$InternalEnum")({CM_THREADS:"cm_threads",UNJOINED_GROUPS:"unjoined_groups",NON_CONTACTS:"non_contacts",PAGES:"pages",CONTACTS_GROUPS:"contacts_groups"}),j=function(a){switch(a){case"server":return[1,2];case"offline":case"offline_nullstate":case"secure":return[0];default:return[]}};function k(a){return a===!0?1:3}function a(a){return a===!0?0:2}function l(a,b){var c=b.searchSource,d=b.section;b=b.sectionAnalyticsName;if(a==="")return 3;if(c!=="server"||d==="")return 5;a=i.cast(b);if(a==null)return 11;switch(a){case i.CM_THREADS:return 13;case i.CONTACTS_GROUPS:return 5;case i.NON_CONTACTS:return 6;case i.PAGES:return 9;default:return 11}}function m(a){return((a=a)!=null?a:-1).toString()}function e(a,b,e,f){var g=e.rawData;e=g.id;var i=g.isE2EE,n=g.isEPD,o=g.renderIndex,p=g.searchResultType,q=g.searchSource,r=g.serverSearchResult,s=m(o),t=e,u=k(i);if(r!=null){t=(o=r.resultId)!=null?o:t;u=d("LSMessagingThreadTypeUtil").isSecure(r==null?void 0:r.threadType)?1:3;s=(h||(h=d("I64"))).to_string(r.globalIndex)}c("UniversalSearchResultSelectedFalcoEvent").log(function(){var d;return{data_sources:j(q),is_epd:c("gkx")("23390")||n,search_result:{query_string:b,result_fbid:t,result_index:s,result_type:(d=p)!=null?d:7},session_id:a,transport_type:u,ui_section:l(b,g)}});f.current||(c("UniversalSearchEndFalcoEvent").log(function(){return{end_action:7,is_epd:c("gkx")("24110")||n,session_id:a,transport_type:u}}),f.current=!0)}g.SectionAnalyticsNameType=i;g.getLoggingDataSources=j;g.getTransportType=k;g.getLsTransportType=a;g.mapSectionToSearchUISection=l;g.logResultSelected=e}),98);
__d("UniversalSearchQueryChangedFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("843");b=d("FalcoLoggerInternal").create("universal_search_query_changed",a);e=b;g["default"]=e}),98);
__d("UniversalSearchStartFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("840");b=d("FalcoLoggerInternal").create("universal_search_start",a);e=b;g["default"]=e}),98);
__d("MessengerDebugOverlay.react",["fbt","I64","MessagingThreadType","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=i||d("react"),l={debug_overlay_block:{marginTop:"xr9ek0c",marginBottom:"xjpr12u",$$css:!0}},m=function(a){var b=Object.entries(c("MessagingThreadType")).filter(function(b){return b[1]===a});return b[0][0]};function a(a){a=a.rawData;var b="undefined";a.serverSearchResult!=null&&(b=m((j||(j=d("I64"))).to_int32(a.serverSearchResult.threadType)));return k.jsxs("div",{style:l.debug_overlay_block,children:[k.jsxs("div",{children:[h._("__JHASH__XTPGN7Q8teR__JHASH__"),a.resultType]}),k.jsxs("div",{children:[h._("__JHASH__pgUGKyy7T9Y__JHASH__"),a.isE2EE.toString()]}),k.jsxs("div",{children:[h._("__JHASH__5mWNwl5tmCu__JHASH__"),b]}),k.jsxs("div",{children:[h._("__JHASH__1pE0r5N9DqF__JHASH__"),a.id]}),k.jsxs("div",{children:[h._("__JHASH__tpp9hyXFA_k__JHASH__"),(j||(j=d("I64"))).to_string((b=a.threadType)!=null?b:(j||(j=d("I64"))).neg_one)]}),k.jsxs("div",{children:[h._("__JHASH__tBk_oSP4AlQ__JHASH__"),a.searchSource]})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useCometMessengerhasDefaultThreadOneToOneCapability",["FBLogger","hasDefaultThreadOneToOneCapabilityDeferred","react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useEffect,j=b.useState;function a(a,b){var d=j(!1),e=d[0],f=d[1];i(function(){c("hasDefaultThreadOneToOneCapabilityDeferred").load().then(function(c){b==null?f(!1):c(b,a).then(function(a){f(a)})["catch"](function(){})})["catch"](function(a){c("FBLogger")("messenger_web_product").warn("Error loading hasDefaultThreadOneToOneCapability. %s",a)})},[a,e,b]);return e}g["default"]=a}),98);
__d("UniversalSearchImpressionFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("845");b=d("FalcoLoggerInternal").create("universal_search_impression",a);e=b;g["default"]=e}),98);
__d("useUniversalSearchImpressionFalcoEvent",["MWSearchLogging","UniversalSearchImpressionFalcoEvent","emptyFunction","gkx","react","usePartialViewImpression"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useCallback;function a(a){var b=a.cmGroupId,e=a.entry,f=a.instanceId,g=a.isCommunityChat,h=a.queryString,j=e.rawData;a=j.id;var k=j.isE2EE,l=j.isEPD;e=j.renderIndex;var m=j.searchResultType,n=j.searchSource;a=a;var o=a,p=((a=e)!=null?a:-1).toString();e=i(function(){if(f==null)return;c("UniversalSearchImpressionFalcoEvent").log(function(){var a;return{cm_group_id:b,data_sources:d("MWSearchLogging").getLoggingDataSources(n),impression_selected:!1,is_epd:l,search_result:{query_string:h,result_fbid:o,result_index:p,result_type:(a=m)!=null?a:7},session_id:f,transport_type:d("MWSearchLogging").getTransportType(k),ui_section:d("MWSearchLogging").mapSectionToSearchUISection(h,j)}})},[f,b,n,l,h,o,p,m,k,j]);return c("usePartialViewImpression")({onImpressionStart:g||c("gkx")("24109")?e:c("emptyFunction")})}g["default"]=a}),98);
__d("MWJewelSearchTypeaheadViewItem.react",["fbt","ix","CometMiddot.react","CometPageVerificationIcon.react","CometTypeaheadViewItem.react","ConstUriUtils","CurrentEnvironment","I64","LSIntEnum","LSMessagingThreadTypeUtil","LSSearchType","MAWThreadCutover","MWCMIsAnyCMThread","MWChatFacepile.react","MWChatProfile.react","MWChatSearchResultType","MWSearchLogging","MWXIcon.react","MWXText.react","MWXTextPairing.react","MessengerDebugOverlay.react","QPLUserFlow","UniversalSearchResultSelectedFalcoEvent","XCometMessengerControllerRouteBuilder","XMessengerDotComCometMainControllerRouteBuilder","cr:4538","cr:4539","cr:7325","deferredLoadComponent","fbicon","gkx","isTlcSearchEnabled","qpl","react","requireDeferred","useCometMessengerhasDefaultThreadOneToOneCapability","useCometRouterDispatcher","useReStore","useUniversalSearchImpressionFalcoEvent"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k,l,m,n=m||(m=d("react")),o=m.useState,p=c("deferredLoadComponent")(c("requireDeferred")("MAWChatVerifyCutover.react").__setRef("MWJewelSearchTypeaheadViewItem.react")),q=c("isTlcSearchEnabled")(),r={contentRoot:{borderTopStartRadius:"x1lq5wgf",borderTopEndRadius:"xgqcy7u",borderBottomEndRadius:"x30kzoy",borderBottomStartRadius:"x9jhf4c",marginTop:"xdj266r",marginBottom:"xat24cr",paddingTop:"x1y1aw1k",paddingEnd:"x1sxyh0",paddingBottom:"xwib8y2",paddingStart:"xurb0ha",":hover_backgroundColor":"x8du52y",$$css:!0},searchIcon:{paddingTop:"x123j3cw",paddingEnd:"x1mpkggp",paddingBottom:"xs9asl8",paddingStart:"x1t2a60a",$$css:!0},verifiedBadge:{paddingStart:"xurb0ha",paddingLeft:null,paddingRight:null,$$css:!0}},s=function(a){var b=(j||(j=c("useReStore")))(),e=d("MAWThreadCutover").useIsCutoverSecureThread(a);b=c("useCometMessengerhasDefaultThreadOneToOneCapability")(b,a);return e||b},t=function(a){if(a!=null){a=a.loggingSessionId;return a}return null};function a(a){var e=a.entry,f=a.extraViewItemProps,g=a.onPressEntry,j=a.queryString;a=babelHelpers.objectWithoutPropertiesLoose(a,["entry","extraViewItemProps","onPressEntry","queryString"]);var m=e.rawData,u=m.communityId,v=m.id,w=m.imageUrl,x=m.isE2EE,y=m.isInstagramAccount,z=m.isInteropEligible,A=m.resultType,B=m.secondaryImageUrl,C=m.section,D=m.serverSearchResult,E=m.subtext,F=m.threadType;m=m.verificationStatus;u=u!=null?(k||(k=d("I64"))).of_string_opt(u):null;var G=b("cr:4538")==null?void 0:b("cr:4538")(),H=b("cr:4539")==null?void 0:b("cr:4539")({onSuccess:function(a){return G==null?void 0:G(a)}}),I=F!=null&&c("MWCMIsAnyCMThread")(F),J=t(f);f=c("useUniversalSearchImpressionFalcoEvent")({entry:e,instanceId:J,isCommunityChat:I,queryString:j});var K=c("useCometRouterDispatcher")(),L=(D==null?void 0:D.threadType)!=null&&((k||(k=d("I64"))).to_int32(D.threadType)===151||(k||(k=d("I64"))).to_int32(D.threadType)===155&&c("gkx")("24052"))&&(D==null?void 0:D.type_)!=null&&(k||(k=d("I64"))).to_int32(D.type_)===c("LSSearchType").PUBLIC_CHANNEL&&(D==null?void 0:D.threadJoinLinkHash)!=null,M=(D==null?void 0:D.threadType)!=null&&(l||(l=d("LSIntEnum"))).toNumber(D.threadType)===153,N=s((k||(k=d("I64"))).of_string_opt(v));x=x&&!N?h._("__JHASH__PXg4X26-RXS__JHASH__"):E;N=F?d("LSMessagingThreadTypeUtil").isOneToOne(F):!1;E=I&&u!=null&&b("cr:7325")?n.jsx(b("cr:7325"),{chatPictureUrl:w,size:28,threadKey:u}):A===c("MWChatSearchResultType").MESSAGE?n.jsx("div",{className:"x123j3cw x1mpkggp xs9asl8 x1t2a60a",children:n.jsx(c("MWXIcon.react"),{color:"primary",icon:d("fbicon")._(i("491284"),24),size:24})}):B!==""?N?n.jsx(c("MWChatProfile.react"),{size:36,src:B}):n.jsx(c("MWChatFacepile.react"),{firstParticipantURI:w,secondParticipantURI:B,size:36}):n.jsx(c("MWChatProfile.react"),{size:36,src:w});F=o();u=F[0];A=F[1];N=e.rawData.otherUserId;w=(B=u)!=null?B:v;u=(L||M)&&(D==null?void 0:D.threadJoinLinkHash)!=null?(F=d("ConstUriUtils").getUri(D==null?void 0:D.threadJoinLinkHash))==null?void 0:F.getPath().split("/").reverse()[1]:void 0;var O=c("CurrentEnvironment").facebookdotcom?c("XCometMessengerControllerRouteBuilder").buildURL({link_hash:u,thread_key:w}):c("XMessengerDotComCometMainControllerRouteBuilder").buildURL({link_hash:u,thread_key:w});B=e.rawData.resultType===c("MWChatSearchResultType").USER||e.rawData.resultType===c("MWChatSearchResultType").GROUP;F=babelHelpers["extends"]({},e,{key:w,rawData:babelHelpers["extends"]({},e.rawData,{id:w},N==null&&v!==w?{otherUserId:v}:{})});u=c("gkx")("24087");return n.jsx("div",{ref:f,children:n.jsxs(c("CometTypeaheadViewItem.react"),babelHelpers["extends"]({},a,{entry:F,isDisabled:y===!0&&z===!1,itemStartContent:E,linkProps:{preventLocalNavigation:!0,url:O},onPressEntry:L?function(){(D==null?void 0:D.threadJoinLinkHash)!=null&&(H==null?void 0:H(D.threadJoinLinkHash))}:M?function(){K==null?void 0:K.go(O,{})}:function(a,b){g(a,b),I===!0?(c("QPLUserFlow").endSuccess(c("qpl")._(25312244,"1683")),J!=null&&c("UniversalSearchResultSelectedFalcoEvent").log(function(){var a;return{data_sources:d("MWSearchLogging").getLoggingDataSources(e.rawData.searchSource),is_epd:c("gkx")("23390")||e.rawData.isEPD,search_result:{query_string:j,result_fbid:e.rawData.id,result_index:((a=e.rawData.renderIndex)!=null?a:-1).toString(),result_type:7},session_id:J,transport_type:3,ui_section:13}})):c("QPLUserFlow").endCancel(c("qpl")._(25312244,"1683"))},testid:void 0,xstyle:r.contentRoot,children:[q===!0&&B?n.jsx(p,{id:v.toString(),updateThreadKey:A}):null,n.jsx(c("MWXTextPairing.react"),{body:n.jsxs(c("MWXText.react"),{numberOfLines:1,type:"body3",children:[e.label,m!=null?n.jsx("span",{className:"xurb0ha",children:n.jsx(c("CometPageVerificationIcon.react"),{size:"small",verificationBadge:m})}):null]}),level:3,meta:x&&x!==""?n.jsxs(c("MWXText.react"),{numberOfLines:1,type:"meta4",children:[x,(C==null||C==="")&&Boolean(e.rawData.isInstagramAccount)?n.jsxs(n.Fragment,{children:[n.jsx(c("CometMiddot.react"),{}),"Instagram"]}):null]}):null}),u?n.jsx(c("MessengerDebugOverlay.react"),{rawData:F.rawData}):null]}))})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("createMWJewelSearchTypeaheadViewStrategy.react",["CometTypeaheadProgressGlimmer.react","MWJewelLightspeedSearchTypeaheadViewList.react","MWJewelSearchEmptyState.react","MWJewelSearchTypeaheadViewItem.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a,b){return function(d){var e=d.ariaProps,f=d.entries;d.extraViewProps;var g=d.highlightedEntry,h=d.isLoading;d.onAbandonTypeahead_DO_NOT_USE;var j=babelHelpers.objectWithoutPropertiesLoose(d,["ariaProps","entries","extraViewProps","highlightedEntry","isLoading","onAbandonTypeahead_DO_NOT_USE"]);d=f.length===0&&j.queryString.length>0;h=f.length>0&&h;return d?i.jsx(c("MWJewelSearchEmptyState.react"),{queryString:j.queryString}):i.jsxs(i.Fragment,{children:[i.jsx(c("MWJewelLightspeedSearchTypeaheadViewList.react"),{ariaProps:e,entries:f,highlightedEntry:g,xstyle:a,children:function(a){var d=a.entry,e=a.isActive;a=a.itemRole;return i.createElement(c("MWJewelSearchTypeaheadViewItem.react"),babelHelpers["extends"]({},j,{entry:d,extraViewItemProps:{loggingSessionId:b},isActive:e,key:d.key,role:a}))}}),h&&i.jsx(c("CometTypeaheadProgressGlimmer.react"),{})]})}}g["default"]=a}),98);
__d("MWJewelSearchSubscriptionTypeahead.react",["fbt","BaseSubscriptionTypeahead.react","CometTypeaheadBackButton.react","CometTypeaheadInputRoundedStrategy.react","CometTypeaheadLayoutContextualStrategy.react","MWChatSearchSurfaces","MWChatSearchTypeaheadLightspeedSubscriptionDataSource","MWFacebookUserWithoutMessengerAccess","MWLSSearchIssueSearchQuerySupportedTypes","MWLSThreadDisplayContext","MWPSearchSystem","MWSearchLogging","UniversalSearchEndFalcoEvent","UniversalSearchQueryChangedFalcoEvent","UniversalSearchStartFalcoEvent","cr:2012305","createMWJewelSearchTypeaheadViewStrategy.react","gkx","isArmadillo","promiseDone","react","useReStore","uuidv4","xplatToDOMRef"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||(j=d("react"));e=j;var l=e.useCallback,m=e.useEffect,n=e.useMemo,o=e.useRef,p=e.useState,q={searchInput:{marginTop:"x1xmf6yo",marginEnd:"x11i5rnm",marginBottom:"x1e56ztr",marginStart:"x1mh8g0r",paddingTop:"xexx8yu",paddingEnd:"x1pi30zi",paddingBottom:"x18d9i69",paddingStart:"x1swvt13",$$css:!0},searchView:{borderTopStartRadius:"x1lq5wgf",borderTopEndRadius:"xgqcy7u",borderBottomEndRadius:"x30kzoy",borderBottomStartRadius:"x9jhf4c",boxShadow:"x1gnnqk1",display:"x78zum5",minHeight:"xphu8jj",$$css:!0}},r=function(a){return c("createMWJewelSearchTypeaheadViewStrategy.react")(null,a)},s=c("gkx")("24086"),t=c("gkx")("23390");function a(a){var e=a.onChange,f=a.onFocus,g=a.onPressEntry,j=a.onSelectFreeformQuery,u=babelHelpers.objectWithoutPropertiesLoose(a,["onChange","onFocus","onPressEntry","onSelectFreeformQuery"]);a=p(null);var v=a[0],w=a[1],x=o(null),y=(i||(i=c("useReStore")))(),z=o(!1);m(function(){var a=x.current;b("cr:2012305")!==null&&a!=null&&b("cr:2012305").trackTypingPerf(a,"MWJewelSearchTypeahead");return function(){b("cr:2012305")!==null&&a!=null&&b("cr:2012305").unregisterTypingPerf(a)}},[x]);var A=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext();a=n(function(){return new(c("MWChatSearchTypeaheadLightspeedSubscriptionDataSource"))({database:y,excludedIDs:[],includeGroupSearch:A!=="ChatTab",includeMessageSearchEntry:!1,includeRecommendations:!0,lightspeedSupportedTypes:d("MWLSSearchIssueSearchQuerySupportedTypes").allSupportedTypes,source:c("MWChatSearchSurfaces").universal})},[y,A]);var B=l(function(){w(null),v!=null&&(z.current||(c("UniversalSearchEndFalcoEvent").log(function(){return{end_action:8,is_epd:t,session_id:v,transport_type:null}}),z.current=!0)),e("")},[e,v]),C=l(function(a){var b=function(){g!=null&&g(a)};if(v==null){b();return}d("MWSearchLogging").logResultSelected(v,u.queryString,a,z);b()},[g,v,u.queryString]),D=l(function(){s&&c("promiseDone")(d("MWPSearchSystem").clearAll(y));var a=c("uuidv4")();w(a);z.current=!1;c("UniversalSearchStartFalcoEvent").log(function(){return{is_epd:t,session_id:a}});c("UniversalSearchQueryChangedFalcoEvent").log(function(){return{query_length:"0",query_string:null,session_id:a}})},[y]),E=l(function(a){v!=null&&c("UniversalSearchQueryChangedFalcoEvent").log(function(){return{query_length:a.length.toString(),query_string:a,session_id:v}}),e(a)},[e,v]),F=d("MWFacebookUserWithoutMessengerAccess").useIsFacebookUserWithoutMessengerAccess(),G=h._("__JHASH__ktsKn3dbNLm__JHASH__"),H=h._("__JHASH__wCWGz0nEOur__JHASH__");F=F?H:G;return k.jsx(c("BaseSubscriptionTypeahead.react"),{dataSource:a,dataSourceFetchConfigParams:c("isArmadillo")()?{requestFlow:"network-upon-approve"}:void 0,inputExtraProps:{hideIconAnimation:!0,hideIconOnFocus:!0},inputRef:d("xplatToDOMRef").xplatToInputRef(x),inputStartContent:v!=null?k.jsx(c("CometTypeaheadBackButton.react"),{testid:void 0}):null,inputStrategyRenderer:c("CometTypeaheadInputRoundedStrategy.react"),layoutStrategyRenderer:c("CometTypeaheadLayoutContextualStrategy.react"),loggingContext:"messenger_jewel",onChange:E,onClose:B,onFocus:f,onOpen:D,onPressEntry:C,onSelectFreeformQuery:j,placeholder:F,queryString:u.queryString,shouldHandleCloseAfterHandlePressEntry:!0,shouldQueryStringUpdateFromSelectedEntryOnClick:!1,viewStrategyRenderer:r(v),xstyles:{inputXStyle:q.searchInput,viewXStyle_DO_NOT_USE:q.searchView}})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWJewelThreadListSearchTypeahead.react",["FBLogger","MWChatSearchFilteringUtils","MWChatSearchResultType","MWPSearchSystem","MWThreadCreationUtil","QPLUserFlow","cr:3070","emptyFunction","gkx","qpl","react","setTimeoutCometSpeculative","useCometPreloader","useMWChatOpenTabForGroup","useMWChatOpenTabForPage","useMWChatOpenTabForUser","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react"));e=i;var k=e.useCallback,l=e.useEffect,m=e.useState,n=c("gkx")("24073");function a(a){var e=a.onClose;a.pushPage;a=m("");var f=a[0];a=a[1];var g=c("useMWChatOpenTabForGroup")("jewelSearch"),i=g[0];g[1];var o=c("useMWChatOpenTabForPage")("jewelSearch");g=c("useMWChatOpenTabForUser")("jewelSearch");var p=g[0];g[1];var q=g[2],r=(h||(h=c("useReStore")))(),s=k(function(){return d("MWPSearchSystem").makeAll(r)},[r]);l(function(){n&&c("setTimeoutCometSpeculative")(s,1e4)});var t=k(function(a,b){var e=d("MWChatSearchFilteringUtils").getIsE2ee(b.rawData);if(e)return q(a,!0);d("MWThreadCreationUtil").getIsSecureBasedOnContactCapabilitiesForOneToOneThreadV2(b,r).then(function(b){var d=b.isSecureThread;b=b.reason;b==="default_e2ee"&&c("gkx")("23866")?p(a):p(a,d)})["catch"](function(a){c("FBLogger")("messenger_search").mustfix("Error fetching contact capabilities: %s",a)})},[r,p,q]);g=k(function(a){var b=a.rawData,d=b.id;b=b.resultType;switch(b){case c("MWChatSearchResultType").MESSAGE:break;case c("MWChatSearchResultType").GROUP:i(d);break;case c("MWChatSearchResultType").USER:case c("MWChatSearchResultType").AI_BOT:t(d,a);break;case c("MWChatSearchResultType").PAGE:o(d);break}e()},[e,i,o,t]);var u=c("useCometPreloader")("button_aggressive",c("emptyFunction"),s),v=u[0];u=u[1];return j.jsx("div",{onMouseEnter:v,onMouseLeave:u,children:j.jsx(b("cr:3070"),{onChange:a,onFocus:function(){s(),c("QPLUserFlow").start(c("qpl")._(25312244,"1683"))},onPressEntry:g,queryString:f})})}a.displayName=a.name+" [from "+f.id+"]";e=j.memo(a);g["default"]=e}),98);
__d("MWEncryptedBackupsJewelNuxWrapperFallback.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;h||d("react");function a(a){a=a.children;return a}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MAWUnsupportedIndexedDBNuxKey",["WebStorage"],(function(a,b,c,d,e,f,g){"use strict";var h,i="maw_unsupported_browser_nux_dismissed",j="dismissed";a=function(){var a;return((a=(h||(h=c("WebStorage"))).getLocalStorageForRead())==null?void 0:a.getItem(i))===j};b=function(){var a;(a=(h||(h=c("WebStorage"))).getLocalStorage())==null?void 0:a.setItem(i,j)};g.getIsDismissed=a;g.setIsDismissed=b}),98);
__d("MWXQPCard.react",["MWXIconStrict.react","MWXImage.react","cr:2831","cr:2832","cr:6676","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a,d){var e=a.addOnPrimary,f=a.addOnSecondary,g=a.icon;a=babelHelpers.objectWithoutPropertiesLoose(a,["addOnPrimary","addOnSecondary","icon"]);var h;if(g!=null)switch(g.type){case"image":h=i.jsx(c("MWXImage.react"),babelHelpers["extends"]({},g.props));break;case"icon":h=i.jsx(c("MWXIconStrict.react"),babelHelpers["extends"]({},g.props));break;default:g.type}if(b("cr:2832")!=null)return i.jsx("div",{className:"xw7yly9 xktsk01 x1yztbdb x1d52u69",ref:d,children:i.jsx(b("cr:2832"),babelHelpers["extends"]({},a,{headlineNumberOfLines:2,icon:h,primaryCallToAction:e&&{disabled:e.disabled,label:e.label,linkProps:e.linkProps,onPress:e.onPress,reduceEmphasis:e.reduceEmphasis},secondaryCallToAction:f&&{disabled:f.disabled,label:f.label,linkProps:f.linkProps,onPress:f.onPress,reduceEmphasis:f.reduceEmphasis}}))});else if(b("cr:2831")!=null&&b("cr:6676")!=null)return i.jsx("div",{className:"x1lq5wgf xgqcy7u x30kzoy x9jhf4c xnw9j1v x14vqqas xq8finb xod5an3 x16n37ib",ref:d,children:i.jsx(b("cr:2831"),babelHelpers["extends"]({},a,{addOnPrimary:e&&i.jsx(b("cr:6676"),{align:"justify",expanding:!0,paddingHorizontal:12,primary:e,secondary:f}),icon:h,level:4,type:"primary"}))});return null}a.displayName=a.name+" [from "+f.id+"]";e=i.forwardRef(a);g["default"]=e}),98);
__d("MAWUserVisibleErrorsNux.react",["ix","MAWBridgeUIEventQPLLogger","MWXIconCautionTriangle","MWXQPCard.react","QPLUserFlow","gkx","qpl","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react")),k=i.useEffect;function a(a){var b=a.nuxBodyText,e=a.nuxButtonProps,f=a.nuxTitleText;a=a.onCloseButtonClick;var g=d("MAWBridgeUIEventQPLLogger").getInstanceKey();k(function(){c("QPLUserFlow").start(c("qpl")._(1056846286,"652"),{annotations:{string:{nuxTitleText:f.toString()}},instanceKey:g});return function(){return c("QPLUserFlow").endSuccess(c("qpl")._(1056846286,"652"),{instanceKey:g})}},[g,f]);return j.jsx("div",{"data-testid":void 0,children:j.jsx(c("MWXQPCard.react"),{addOnPrimary:e,body:b,headline:f,icon:c("gkx")("23219")?{props:{src:h("212797")},type:"image"}:{props:{color:"negative",icon:c("MWXIconCautionTriangle"),size:24},type:"icon"},onClose:a})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MAWUserVisibleErrorsNuxWrapper.react",["fbt","CometPlaceholder.react","MAWIssueNewUserVisibleErrors","MAWUnsupportedIndexedDBNuxKey","cr:4216","cr:6933","promiseDone","react","useMAWGetUserVisibleErrors","useMAWIsUnsupportedBrowserNUXShown"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));e=i;var k=e.useCallback,l=e.useState;function a(a){a=a.children;var e=l(d("MAWUnsupportedIndexedDBNuxKey").getIsDismissed()),f=e[0],g=e[1];e=(e=b("cr:4216").buildUri({cms_id:"597429858389632"}).setDomain("www.facebook.com"))==null?void 0:(e=e.setProtocol("https"))==null?void 0:e.toString();e={label:h._("__JHASH__W_KwwnBzw9K__JHASH__"),linkProps:{target:"_blank",url:e}};var i=d("useMAWIsUnsupportedBrowserNUXShown").useMAWIsUnsupportedBrowserNUXShown(),m=c("useMAWGetUserVisibleErrors")(),n=m[0],o=m[1];m=k(function(){c("promiseDone")(o(),function(){window.location.reload(!0)})},[o]);var p=d("MAWIssueNewUserVisibleErrors").errorMsgBodyToFbtMap.get(n==null?void 0:n.errorBodyText),q=d("MAWIssueNewUserVisibleErrors").errorMsgTitleToFbtMap.get(n==null?void 0:n.errorTitleText);return j.jsx(c("CometPlaceholder.react"),{fallback:null,children:b("cr:6933")&&i&&!f?j.jsx(b("cr:6933"),{nuxBodyText:d("MAWIssueNewUserVisibleErrors").MAWUnsupportedIndexedDBErrorMsg,nuxButtonProps:e,nuxTitleText:d("MAWIssueNewUserVisibleErrors").MAWUnsupportedIndexedDBErrorMsgTitle,onCloseButtonClick:function(){g(!0),d("MAWUnsupportedIndexedDBNuxKey").setIsDismissed()}}):n&&b("cr:6933")&&q!=null&&p!=null?j.jsx(b("cr:6933"),{nuxBodyText:p,nuxButtonProps:{label:h._("__JHASH__PnVpnKg9Gg___JHASH__"),onPress:m},nuxTitleText:q,onCloseButtonClick:function(){c("promiseDone")(o())}}):a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatSearchResultTypeMapping",["LSSearchType","MWChatSearchResultType"],(function(a,b,c,d,e,f,g){"use strict";function a(a){switch(a){case c("MWChatSearchResultType").GROUP:return c("LSSearchType").GROUP;case c("MWChatSearchResultType").MESSAGE:return c("LSSearchType").INTEGRATED_MESSAGE_SEARCH_THREAD;case c("MWChatSearchResultType").PAGE:return c("LSSearchType").PAGE;case c("MWChatSearchResultType").USER:return c("LSSearchType").CONTACT;case c("MWChatSearchResultType").AI_BOT:return c("LSSearchType").AI_BOT}}g.mapMWChatSearchResultTypeToLSSearchType=a}),98);
__d("MWXIconMarketplace",["MWXSvgIcon","SVGIcon","cr:7542","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=d("MWXSvgIcon").mwxSvgIcon(d("SVGIcon").svgIcon(b("cr:7542")),c("gkx")("23219"));g["default"]=a}),98);
__d("MWThreadListMarketplaceItem.react",["fbt","CometMarketplaceLogger","LSContactBitOffset","LSIntEnum","MWPBumpEntityKey","MWThreadListFolderItem.react","MWXIconGroup","MWXIconMarketplace","MWXIconStrict.react","ReQL","ReQLSuspense","react","useLogMarketplaceClick","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=k||(k=d("react")),m=k.useEffect;function a(a){var b=a.onClick,e=a.responsive,g=a.selected,k=a.size;a=a.thread;var n=c("useLogMarketplaceClick")("marketplace_inbox_folder"),o=(i||(i=c("useReStore")))(),p=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(o.tables._user_info).map(function(a){return a.facebookUserId})},[o],f.id+":50"),q=d("ReQLSuspense").useFirst(function(){return p!=null?d("ReQL").fromTableAscending(o.tables.contacts,["capabilities","capabilities2"]).getKeyRange(p):d("ReQL").empty()},[o,p],f.id+":55");q=q!=null&&d("LSContactBitOffset").has(86,q);m(function(){return d("CometMarketplaceLogger").logImpression("marketplace_inbox_folder")},[]);var r=h._("__JHASH__0Ktcc3EsRI7__JHASH__").toString(),s=c("MWXIconMarketplace");q===!0&&(r=h._("__JHASH__doZWRuH_DRZ__JHASH__").toString(),s=c("MWXIconGroup"));return l.jsx(c("MWThreadListFolderItem.react"),{icon:l.jsx(c("MWXIconStrict.react"),{color:"primary",icon:s,size:36}),onClick:function(){n();b((j||(j=d("LSIntEnum"))).ofNumber(-12));return d("MWPBumpEntityKey").bumpEntityKeyWithAppId("mw.sidebar","marketplace_threads")},responsive:e,selected:g,size:k,systemFolder:(j||(j=d("LSIntEnum"))).ofNumber(-12),thread:a,threadName:r})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CameraFilled12.svg.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs("svg",babelHelpers["extends"]({viewBox:"0 0 12 13",width:"1em",height:"1em",fill:"currentColor"},a,{children:[a.title!=null&&i.jsx("title",{children:a.title}),a.children!=null&&i.jsx("defs",{children:a.children}),i.jsx("g",{fillRule:"evenodd",transform:"translate(-450 -1073)",children:i.jsxs("g",{children:[i.jsx("path",{d:"M104.5 922a2 2 0 1 0 0 4 2 2 0 0 0 0-4",transform:"translate(351.5 156)"}),i.jsx("path",{d:"M108.5 922.25a.75.75 0 1 1 0-1.501.75.75 0 0 1 0 1.501m-4 4.75a3 3 0 1 1 0-6 3 3 0 0 1 0 6m3.966-7.5h-.384c-.506 0-.634-.2-.868-.54-.279-.405-.661-.96-1.69-.96h-2.047c-1.03 0-1.412.555-1.691.96-.234.34-.362.54-.868.54h-.384a2.029 2.029 0 0 0-2.034 2.029v5.43a2.04 2.04 0 0 0 2.034 2.041h7.931a2.04 2.04 0 0 0 2.035-2.042v-5.646c0-1.075-.837-1.812-2.034-1.812",transform:"translate(351.5 156)"})]})})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("PauseFilled12.svg.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs("svg",babelHelpers["extends"]({viewBox:"0 0 12 13",width:"1em",height:"1em",fill:"currentColor"},a,{children:[a.title!=null&&i.jsx("title",{children:a.title}),a.children!=null&&i.jsx("defs",{children:a.children}),i.jsx("g",{fillRule:"evenodd",transform:"translate(-450 -1073)",children:i.jsxs("g",{children:[i.jsx("path",{d:"M98.75 924h-1a.25.25 0 0 1-.25-.25v-7.5a.25.25 0 0 1 .25-.25h1a.25.25 0 0 1 .25.25v7.5a.25.25 0 0 1-.25.25",transform:"translate(355.5 159.5)"}),i.jsx("path",{fillRule:"nonzero",d:"M98.75 924.5h-1a.75.75 0 0 1-.75-.75v-7.5a.75.75 0 0 1 .75-.75h1a.75.75 0 0 1 .75.75v7.5a.75.75 0 0 1-.75.75zm-.25-1v-7H98v7h.5z",transform:"translate(355.5 159.5)"}),i.jsx("path",{d:"M103.25 924h-1a.25.25 0 0 1-.25-.25v-7.5a.25.25 0 0 1 .25-.25h1a.25.25 0 0 1 .25.25v7.5a.25.25 0 0 1-.25.25",transform:"translate(355.5 159.5)"}),i.jsx("path",{fillRule:"nonzero",d:"M103.25 924.5h-1a.75.75 0 0 1-.75-.75v-7.5a.75.75 0 0 1 .75-.75h1a.75.75 0 0 1 .75.75v7.5a.75.75 0 0 1-.75.75zm-.25-1v-7h-.5v7h.5z",transform:"translate(355.5 159.5)"})]})})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("MDSIcon.react",["BaseTheme.react","Box.react","CometIcon.react","SVGIcon","XPlatReactEnvironment","getMDSIconColorCometFallback","react","useMDSIconColors"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useMemo,k={iconBackground:{alignItems:"x6s0dn4",backgroundColor:"x1qhmfi1",borderTopStartRadius:"x17zif9m",borderTopEndRadius:"xfjaqqx",borderBottomEndRadius:"x1il12k9",borderBottomStartRadius:"x32snf2",display:"x78zum5",justifyContent:"xl56j7k",paddingTop:"x1iorvi4",paddingEnd:"x150jy0e",paddingBottom:"xjkvuk6",paddingStart:"x1e558r4",$$css:!0},themeWrapper:{display:"xt0psk2",$$css:!0}},l={dark:{"secondary-button-background":"rgba(255, 255, 255, 0.14)"},light:{"secondary-button-background":"rgba(0, 0, 0, 0.04)"},type:"VARIABLES"};function a(a,b){var e=a.backgroundEnabled;e=e===void 0?!1:e;var f=a.color;a=babelHelpers.objectWithoutPropertiesLoose(a,["backgroundEnabled","color"]);var g=c("useMDSIconColors")(),h=f!=null&&f!=="primary"?g[f]:void 0;g=j(function(){return h!=null?{dark:{"primary-icon":h},light:{"primary-icon":h},type:"VARIABLES"}:void 0},[h]);var m=a.icon instanceof d("SVGIcon").SVGIcon;m=i.jsx(c("CometIcon.react"),babelHelpers["extends"]({color:m?"primary":d("getMDSIconColorCometFallback").getMDSIconColorCometFallback(f),ref:b},a));g!=null&&(m=i.jsx(c("BaseTheme.react"),{config:g,xstyle:d("XPlatReactEnvironment").isWeb()?k.themeWrapper:null,children:m}));return e?i.jsx(c("BaseTheme.react"),{config:l,children:i.jsx(c("Box.react"),{xstyle:k.iconBackground,children:m})}):m}a.displayName=a.name+" [from "+f.id+"]";b=i.forwardRef(a);g["default"]=b}),98);
__d("MDSPressable.react",["CometPressable.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={hover:{backgroundColor:"x1yjz2vk",$$css:!0}};function k(a){switch(a){case"normal":return 6;case"50%":return"50%";case"compact":return 4;case"inherit":default:return void 0}}function a(a,b){var d=a.overlayRadius;a=babelHelpers.objectWithoutPropertiesLoose(a,["overlayRadius"]);return i.jsx(c("CometPressable.react"),babelHelpers["extends"]({overlayFocusVisibleStyle:j.hover,overlayHoveredStyle:j.hover,overlayRadius:k(d),ref:b},a))}a.displayName=a.name+" [from "+f.id+"]";b=i.forwardRef(a);g["default"]=b}),98);
__d("MWChatSearchIssueMAWFTSQuery",["I64","LSContactBitOffset","LSDatabaseSingleton","LSIntEnum","LSMessagingThreadTypeUtil","LSSearchGranularSurfaceType","LSSearchType","LSThreadBitOffset","MAWBridgeSearchMsg","MAWBridgeSendAndReceive","MNetRankType","MWChatSearchResultTypeMapping","MWChatTemporarySearchResult","MWGetOtherContactOrSelf","MWInboxSecureContentSearch","MWLSThreadTitle","MWSearchStandardResultTypeMappings","Promise","ReQL","ReQLSuspense","asyncToGeneratorRuntime","toThreadKeyMaybe"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k;function l(a,b,e){return d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.table("contacts")).getKeyRange((j||(j=d("I64"))).of_string(b))).then(function(f){return d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.table("ig_contact_info")).getKeyRange((j||(j=d("I64"))).of_string(b))).then(function(g){if(f!=null)return d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.table("ranking_scores")).getKeyRange((j||(j=d("I64"))).of_string(b),(k||(k=d("LSIntEnum"))).ofNumber(c("MNetRankType").MESSENGER_USER_SEARCH))).then(function(a){return d("MWChatTemporarySearchResult").fromContact((a=a)!=null?a:void 0,void 0,f,(a=g)!=null?a:void 0,"secure",e)})})})}function m(a,b,e,f,g){return d("toThreadKeyMaybe").toThreadKeyMaybe_DEPRECATED(a,b).then(function(b){if(b!=null)return d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.table("threads")).getKeyRange(b)).then(function(a){var h;return{displayName:(h=f)!=null?h:"",id:e,imageUrl:"",isAiBot:a!=null&&(j||(j=d("I64"))).equal(a.threadType,(k||(k=d("LSIntEnum"))).ofNumber(201)),isContact:!1,isDisappearingModeSettingOn:!1,isE2EE:a!=null?d("LSMessagingThreadTypeUtil").isSecure(a.threadType):!1,isEPD:!1,isInstagramAccount:!1,isInstamadilloCutover:a!=null&&d("LSThreadBitOffset").has(214,a),isVerified:!1,matchedTerms:g,resultType:d("MWChatTemporarySearchResult").getResultType((k||(k=d("LSIntEnum"))).ofNumber(c("LSSearchType").INTEGRATED_MESSAGE_SEARCH_THREAD)),searchResultType:14,searchSource:"secure",section:"",subtext:"",threadKey:b}})})}function n(a,c){return d("ReQL").firstAsync(d("ReQL").fromTableAscending(c.table("mi_act_mapping_table")).getKeyRange(a)).then(function(a){if(a!=null)return d("ReQL").firstAsync(d("ReQL").fromTableAscending(c.table("cutover_threads")).filter(function(b){return(j||(j=d("I64"))).equal(b.armadilloThreadId,a.jid)})).then(function(b){if(b!=null)return b.openThreadId;else return a.jid});else return(i||(i=b("Promise"))).resolve()})}function o(a){var b=a.score-1e-6;return{contactId:a.contactId,contactType:a.contactType,score:b,scoreIndex:a.scoreIndex,scoreType:a.scoreType}}function p(a,b){return n(a,b).then(function(e){var f=e!=null?e:a,g=e!=null;return d("ReQL").firstAsync(d("ReQL").fromTableAscending(b.table("ranking_scores")).getKeyRange(f,(k||(k=d("LSIntEnum"))).ofNumber(c("MNetRankType").MESSENGER_USER_SEARCH))).then(function(a){if(a!=null)if(g)return o(a);else return a})})}function q(a,b,e,f){var g;g=(g=b.threadDescription)!=null?g:"";(j||(j=d("I64"))).equal(a,(k||(k=d("LSIntEnum"))).ofNumber(c("LSSearchGranularSurfaceType").INSTAGRAM_ALL))&&(g=d("MWLSThreadTitle").getThreadTitleWithSecondaryNames(b.threadDescription,e,f,b.threadType).toString());return g}function r(a,b,c,d){return s.apply(this,arguments)}function s(){s=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e,g,h){e=(yield (i||(i=b("Promise"))).all([d("toThreadKeyMaybe").toThreadKeyMaybe_DEPRECATED(a,e),d("ReQLSuspense").firstExn(d("ReQL").fromTableAscending(a.table("_user_info")).map(function(a){return a.facebookUserId}),f.id+":239")]));var l=e[0];e=e[1];if(l==null)return;l=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.table("threads")).getKeyRange(l)));if(l==null||l.folderName!=="inbox")return;var m=(yield i.all([d("MWInboxSecureContentSearch").getThreadPics(l,e,a),d("MWInboxSecureContentSearch").getThreadParticipants(l,a),p(l.threadKey,a)])),n=m[0],o=m[1];m=m[2];var r=n[0];n=n[1];var s=d("LSMessagingThreadTypeUtil").isOneToOne(l.threadType),t=d("LSMessagingThreadTypeUtil").isGroup(l.threadType)?(k||(k=d("LSIntEnum"))).ofNumber(c("LSSearchType").GROUP):(k||(k=d("LSIntEnum"))).ofNumber(c("LSSearchType").CONTACT),u=null;s===!0&&(u=(yield d("MWGetOtherContactOrSelf").getOtherContactOrSelf(l.threadKey,e,a)));return{displayName:d("MWLSThreadTitle").getDefaultThreadTitle(l.threadName,e,o,l.threadType).toString(),id:(j||(j=d("I64"))).to_string(l.threadKey),imageUrl:r,isAiBot:j.equal(l.threadType,(k||(k=d("LSIntEnum"))).ofNumber(201)),isContact:s,isDisappearingModeSettingOn:!1,isE2EE:d("LSMessagingThreadTypeUtil").isSecure(l.threadType),isEPD:!1,isInstagramAccount:!1,isInstamadilloCutover:d("LSThreadBitOffset").has(214,l),isVerified:u!=null?d("LSContactBitOffset").has(23,u):!1,matchedTerms:h,otherUserId:u?(j||(j=d("I64"))).to_string(u.id):void 0,rankingScore:m,resultType:d("MWChatTemporarySearchResult").getResultType(t),searchResultType:d("MWSearchStandardResultTypeMappings").mapThreadTypeToSearchStandardResultType(l.threadType),searchSource:"secure",secondaryImageUrl:n,section:"",subtext:q(g,l,e,o),threadKey:l.threadKey,threadType:l.threadType}});return s.apply(this,arguments)}function t(a,b,e){var g=d("ReQLSuspense").firstExn(d("ReQL").fromTableAscending(a.table("_user_info")).map(function(a){return a.facebookUserId}),f.id+":330");return d("toThreadKeyMaybe").toThreadKeyMaybe_DEPRECATED(a,b).then(function(b){if(b!=null)return d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.table("threads")).getKeyRange(b)).then(function(f){if(f!=null)return d("MWInboxSecureContentSearch").getThreadPics(f,g,a).then(function(a){var g,h=a[0];a=a[1];return{displayName:(g=f.threadName)!=null?g:"",id:(j||(j=d("I64"))).to_string(b),imageUrl:h,isAiBot:j.equal(f.threadType,(k||(k=d("LSIntEnum"))).ofNumber(201)),isContact:!1,isDisappearingModeSettingOn:!1,isE2EE:d("LSMessagingThreadTypeUtil").isSecure(f.threadType),isEPD:!1,isInstagramAccount:!1,isInstamadilloCutover:f!=null&&d("LSThreadBitOffset").has(214,f),isVerified:!1,matchedTerms:e,resultType:d("MWChatTemporarySearchResult").getResultType(k.ofNumber(c("LSSearchType").GROUP)),searchResultType:3,searchSource:"secure",secondaryImageUrl:a,section:"",subtext:(g=f.threadDescription)!=null?g:"",threadKey:b}})})})}function u(a,b){return v.apply(this,arguments)}function v(){v=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,d){var e=(yield h||(h=c("LSDatabaseSingleton")));a=(yield (i||(i=b("Promise"))).all(a.map(function(a){switch(a.recordType){case"msg":return m(e,a.chatId,a.msgId,a.content,a.matchedTerms);case"groupInfo":return t(e,a.threadId,a.matchedTerms);case"contact":return l(e,a.fbid,a.matchedTerms);case"participant":return r(e,a.threadId,d,a.matchedTerms)}})));return a.filter(Boolean)});return v.apply(this,arguments)}function w(a,b,e){return a.filter(function(a){a=(k||(k=d("LSIntEnum"))).ofNumber(d("MWChatSearchResultTypeMapping").mapMWChatSearchResultTypeToLSSearchType(a.resultType));var f=b.includes(a);if(!f)return!1;f=(j||(j=d("I64"))).equal(a,k.ofNumber(c("LSSearchType").GROUP));return!f||e})}function a(a,b,c,e){return d("MAWBridgeSendAndReceive").sendAndReceive("backend","search",{query:e.query,searchMode:d("MAWBridgeSearchMsg").NON_MESSAGE_CONTENT_SEARCH},1e4).then(function(a){return u(a,b)}).then(function(b){return w(b,a,c)})}g.filterSearchResults=w;g.fetchResults=a}),98);